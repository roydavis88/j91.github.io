/*! For license information please see 665f7ead97e4a356.vendor.js.LICENSE.txt */
(self.webpackChunk_canva_web=self.webpackChunk_canva_web||[]).push([[5436],{710665:(e,t,n)=>{!function(){var e="undefined"!=typeof window?window:n.g,r={};for(var i in function(e,t,n){var r;function a(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var s=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof e&&e,"object"==typeof self&&self,"object"==typeof t&&t];for(var r=0;r<n.length;++r){var i=n[r];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function u(e,t){if(t)e:{var n=s;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&o(n,e,{configurable:!0,writable:!0,value:t})}}function c(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function l(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:a(e)}}function h(e){if(!(e instanceof Array)){e=l(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}u("Symbol",(function(e){function t(e,t){this.g=e,o(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)}})),u("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=s[t[n]];"function"==typeof r&&"function"!=typeof r.prototype[e]&&o(r.prototype,e,{configurable:!0,writable:!0,value:function(){return c(a(this))}})}return e}));var f,d="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)f=Object.setPrototypeOf;else{var p;e:{var g={};try{g.__proto__={a:!0},p=g.a;break e}catch(bp){}p=!1}f=p?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var m=f;function v(e,t){if(e.prototype=d(t.prototype),e.prototype.constructor=e,m)m(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.zg=t.prototype}function y(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.u=this.i=null}function b(e){if(e.o)throw new TypeError("Generator is already running");e.o=!0}function w(e,t){e.i={me:t,ue:!0},e.g=e.m||e.j}function T(e,t,n){return e.g=n,{value:t}}function S(e){e.g=0}function x(e,t,n){e.m=t,null!=n&&(e.j=n)}function E(e,t,n){e.g=t,e.m=n||0}function A(e,t){return e.m=t||0,t=e.i.me,e.i=null,t}function k(e){e.u=[e.i],e.m=0,e.j=0}function I(e){var t=e.u.splice(0)[0];(t=e.i=e.i||t)?t.ue?e.g=e.m||e.j:null!=t.B&&e.j<t.B?(e.g=t.B,e.i=null):e.g=e.j:e.g=0}function C(e){this.g=new y,this.h=e}function _(e,t,n,r){try{var i=t.call(e.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.o=!1,i;var a=i.value}catch(o){return e.g.l=null,w(e.g,o),M(e)}return e.g.l=null,r.call(e.g,a),M(e)}function M(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.o=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,w(e.g,n)}if(e.g.o=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.ue)throw t.me;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function R(e){this.next=function(t){return b(e.g),e.g.l?t=_(e,e.g.l.next,t,e.g.s):(e.g.s(t),t=M(e)),t},this.throw=function(t){return b(e.g),e.g.l?t=_(e,e.g.l.throw,t,e.g.s):(w(e.g,t),t=M(e)),t},this.return=function(t){return function(e,t){b(e.g);var n=e.g.l;return n?_(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),M(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function P(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(a){a.done?r(a.value):Promise.resolve(a.value).then(t,n).then(e,i)}(e.next())}))}(new R(new C(e)))}function D(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function N(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return{re:i,v:a}}return{re:-1,v:void 0}}function O(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}function B(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}y.prototype.s=function(e){this.h=e},y.prototype.return=function(e){this.i={return:e},this.g=this.j},y.prototype.B=function(e){this.g=e},u("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(i){t.reject(i)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var a=s.setTimeout;n.prototype.i=function(e){a(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.I(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.C(e):this.m(e)}},t.prototype.C=function(e){var t=void 0;try{t=e.then}catch(i){return void this.l(i)}"function"==typeof t?this.K(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.F(),this.u()},t.prototype.F=function(){var e=this;a((function(){if(e.A()){var t=s.console;void 0!==t&&t.error(e.i)}}),1)},t.prototype.A=function(){if(this.o)return!1;var e=s.CustomEvent,t=s.Event,n=s.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=s.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.u=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)o.h(this.g[e]);this.g=null}};var o=new n;return t.prototype.I=function(e){var t=this.j();e.zc(t.resolve,t.reject)},t.prototype.K=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){a(n)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.zc(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.zc=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?o.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=l(e),a=i.next();!a.done;a=i.next())r(a.value).zc(t,n)}))},t.all=function(e){var n=l(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).zc(a(o.length-1),t),i=n.next()}while(!i.done)}))},t})),u("WeakMap",(function(e){function t(e){if(this.g=(u+=Math.random()+1).toString(),e){e=l(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function i(e){if(!L(e,s)){var t=new n;o(e,s,{value:t})}}function a(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&i(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(i){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var u=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(i(e),!L(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.g]=t,this},t.prototype.get=function(e){return r(e)&&L(e,s)?e[s][this.g]:void 0},t.prototype.has=function(e){return r(e)&&L(e,s)&&L(e[s],this.g)},t.prototype.delete=function(e){return!!(r(e)&&L(e,s)&&L(e[s],this.g))&&delete e[s][this.g]},t})),u("Map",(function(e){function t(){var e={};return e.Ra=e.next=e.head=e}function n(e,t){var n=e.g;return c((function(){if(n){for(;n.head!=e.g;)n=n.Ra;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++o,a.set(t,n)):n="p_"+t;var r=e.h[n];if(r&&L(e.h,n))for(e=0;e<r.length;e++){var i=r[e];if(t!=t&&i.key!=i.key||t===i.key)return{id:n,list:r,index:e,entry:i}}return{id:n,list:r,index:-1,entry:void 0}}function i(e){if(this.h={},this.g=t(),this.size=0,e){e=l(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(l([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(a){return!1}}())return e;var a=new WeakMap;i.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this.h[n.id]=[]),n.entry?n.entry.value=t:(n.entry={next:this.g,Ra:this.g.Ra,head:this.g,key:e,value:t},n.list.push(n.entry),this.g.Ra.next=n.entry,this.g.Ra=n.entry,this.size++),this},i.prototype.delete=function(e){return!(!(e=r(this,e)).entry||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.h[e.id],e.entry.Ra.next=e.entry.next,e.entry.next.Ra=e.entry.Ra,e.entry.head=null,this.size--,!0)},i.prototype.clear=function(){this.h={},this.g=this.g.Ra=t(),this.size=0},i.prototype.has=function(e){return!!r(this,e).entry},i.prototype.get=function(e){return(e=r(this,e).entry)&&e.value},i.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return n(this,(function(e){return e.key}))},i.prototype.values=function(){return n(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var o=0;return i})),u("Set",(function(e){function t(e){if(this.g=new Map,e){e=l(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.g.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(l([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=r.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(a){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.g.set(e,e),this.size=this.g.size,this},t.prototype.delete=function(e){return e=this.g.delete(e),this.size=this.g.size,e},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(e){return this.g.has(e)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.g.forEach((function(r){return e.call(t,r,r,n)}))},t)})),u("Array.prototype.findIndex",(function(e){return e||function(e,t){return N(this,e,t).re}})),u("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),u("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),u("String.prototype.includes",(function(e){return e||function(e,t){return-1!==O(this,e,"includes").indexOf(e,t||0)}})),u("Array.prototype.find",(function(e){return e||function(e,t){return N(this,e,t).v}})),u("String.prototype.startsWith",(function(e){return e||function(e,t){var n=O(this,e,"startsWith"),r=n.length,i=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var a=0;a<i&&t<r;)if(n[t++]!=e[a++])return!1;return a>=i}})),u("Array.prototype.keys",(function(e){return e||function(){return B(this,(function(e){return e}))}}));var U="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)L(r,i)&&(e[i]=r[i])}return e};u("Object.assign",(function(e){return e||U})),u("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)r.push(t.call(n,i.value,a++))}else for(i=e.length,a=0;a<i;a++)r.push(t.call(n,e[a],a));return r}})),u("Array.prototype.values",(function(e){return e||function(){return B(this,(function(e,t){return t}))}})),u("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)L(e,t)&&n.push(e[t]);return n}})),u("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}})),u("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}})),u("Array.prototype.entries",(function(e){return e||function(){return B(this,(function(e,t){return[e,t]}))}})),u("String.prototype.repeat",(function(e){return e||function(e){var t=O(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}})),u("Number.isNaN",(function(e){return e||function(e){return"number"==typeof e&&isNaN(e)}})),u("Number.isFinite",(function(e){return e||function(e){return"number"==typeof e&&(!isNaN(e)&&1/0!==e&&-1/0!==e)}}));var j=this||self;function H(e,t){e=e.split(".");var n,r=j;e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function F(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}function G(e){return e.h/(1-Math.pow(e.g,e.i))}function V(){this.h=new F(2),this.j=new F(5),this.g=0,this.i=128e3,this.l=16e3}function z(){}function K(){}function q(){}function W(e){var t=D.apply(1,arguments);X.has(e)||(X.add(e),q.apply(z,h(t)))}F.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)},V.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},V.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},V.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(G(this.h),G(this.j))};var X=new Set;function Y(e){if(J.has(e))return J.get(e);var t=MediaSource.isTypeSupported(e);return J.set(e,t),t}e.console&&(q=function(){return console.warn.apply(console,h(D.apply(0,arguments)))},K=function(){console.error.apply(console,h(D.apply(0,arguments)))});var J=new Map;function Z(){}function $(){}function Q(){}function ee(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(te(e)==te(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=re(e);t=re(t);for(var r=0;r<e.byteLength;r++)if(n[r]!=t[r])return!1;return!0}function te(e){return e instanceof ArrayBuffer?e:e.buffer}function ne(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function re(e,t,n){return ae(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint8Array)}function ie(e,t,n){return ae(e,void 0===t?0:t,n=void 0===n?1/0:n,DataView)}function ae(e,t,n,r){var i=(e.byteOffset||0)+e.byteLength;return t=Math.max(0,Math.min((e.byteOffset||0)+t,i)),new r(te(e),t,Math.min(t+Math.max(n,0),i)-t)}function oe(){}function se(e){this.h=new $,(e=ue[e.toLowerCase()])&&(this.h=e()),this.g=new Z,(e=ce)&&(this.g=e())}Z.prototype.extract=function(){},Z.prototype.decode=function(){return[]},Z.prototype.clear=function(){},$.prototype.init=function(){},$.prototype.parse=function(){return[]},H("shaka.util.BufferUtils",Q),Q.toDataView=ie,Q.toUint8=re,Q.toArrayBuffer=ne,Q.equal=ee,oe.prototype.init=function(){},oe.prototype.j=function(){},oe.prototype.i=function(){},H("shaka.media.IClosedCaptionParser",oe),se.prototype.init=function(e){this.h.init(e)},se.prototype.j=function(e){for(var t=(e=l(e=this.h.parse(e))).next();!t.done;t=e.next()){var n=re((t=t.value).packet);0<n.length&&this.g.extract(n,t.pts)}return this.g.decode()},se.prototype.i=function(){this.g.clear()},H("shaka.media.ClosedCaptionParser",se),se.findDecoder=function(){return ce},se.unregisterDecoder=function(){ce=null},se.registerDecoder=function(e){ce=e},se.findParser=function(e){return ue[e]},se.unregisterParser=function(e){delete ue[e]},se.registerParser=function(e,t){ue[e]=t};var ue={},ce=null;function le(e,t){return!("number"!=typeof e||"number"!=typeof t||!isNaN(e)||!isNaN(t))||e===t}function he(e,t){var n;if(n||(n=le),e.length!=t.length)return!1;t=t.slice();for(var r={},i=(e=l(e)).next();!i.done;r={ad:r.ad},i=e.next()){if(r.ad=i.value,-1==(i=t.findIndex(function(e){return function(t){return n(e.ad,t)}}(r))))return!1;t[i]=t[t.length-1],t.pop()}return 0==t.length}function fe(e,t,n){if(n||(n=le),e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function de(e,t,n){this.startTime=e,this.endTime=t,this.S=n,this.region=new Ee,this.position=null,this.D=ge,this.size=0,this.textAlign=me,this.direction=ye,this.writingMode=be,this.u=we,this.h=null,this.L="",this.i=Te,this.j=ve,this.A=this.backgroundColor=this.l="",this.C=Se,this.m=xe,this.K=this.I="",this.O=1,this.o=[],this.id=this.Z=this.W=this.P="",this.g=[],this.s=!1,this.F={ug:32,rows:15}}function pe(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.S!=t.S)return!1;for(var n in e)if("startTime"!=n&&"endTime"!=n&&"payload"!=n)if("nestedCues"==n){if(!fe(e.g,t.g,pe))return!1}else if("region"==n||"cellResolution"==n){for(var r in e[n])if(e[n][r]!=t[n][r])return!1}else if(Array.isArray(e[n])){if(!fe(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}de.prototype.clone=function(){var e,t=new de(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},H("shaka.text.Cue",de),de.equal=pe,de.prototype.clone=de.prototype.clone;var ge="auto";de.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:ge};var me="center";de.textAlign={LEFT:"left",RIGHT:"right",CENTER:me,START:"start",END:"end"};var ve="after";de.displayAlign={BEFORE:"before",CENTER:"center",AFTER:ve};var ye="ltr";de.direction={HORIZONTAL_LEFT_TO_RIGHT:ye,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var be="horizontal-tb";de.writingMode={HORIZONTAL_TOP_TO_BOTTOM:be,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var we=0;de.lineInterpretation={LINE_NUMBER:we,PERCENTAGE:1};var Te="start";de.lineAlign={CENTER:"center",START:Te,END:"end"},de.defaultTextColor={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"},de.defaultTextBackgroundColor={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};var Se=400;de.fontWeight={NORMAL:Se,BOLD:700};var xe="normal";function Ee(){this.id="",this.height=this.width=100,this.h=this.i=this.g=Ae}de.fontStyle={NORMAL:xe,ITALIC:"italic",OBLIQUE:"oblique"},de.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},H("shaka.text.CueRegion",Ee);var Ae=1;function ke(){}function Ie(e,t,n){_e[e.toLowerCase().split(";")[0]+"-"+n]={priority:n,Wc:t}}function Ce(e,t){for(var n=e.toLowerCase().split(";")[0],r=l([De,Pe,Re,Me]),i=r.next();!i.done;i=r.next())if(i=_e[n+"-"+i.value]){var a=i.Wc(),o=a.isSupported(e,t);if(a.destroy(),o)return i.Wc}return null}Ee.units={PX:0,PERCENTAGE:Ae,LINES:2},Ee.scrollMode={NONE:"",UP:"up"},ke.prototype.destroy=function(){},H("shaka.transmuxer.TransmuxerEngine",ke),ke.findTransmuxer=Ce,ke.unregisterTransmuxer=function(e,t){delete _e[e.toLowerCase().split(";")[0]+"-"+t]},ke.registerTransmuxer=Ie,ke.prototype.destroy=ke.prototype.destroy;var _e={},Me=1,Re=2,Pe=3,De=4;ke.PluginPriority={FALLBACK:Me,PREFERRED_SECONDARY:Re,PREFERRED:Pe,APPLICATION:De};var Le=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Ne(e){var t;e instanceof Ne?(Oe(this,e.za),this.sb=e.sb,this.Da=e.Da,Be(this,e.Lb),this.va=e.va,Ue(this,e.g.clone()),this.ib=e.ib):e&&(t=String(e).match(Le))?(Oe(this,t[1]||"",!0),this.sb=je(t[2]||""),this.Da=je(t[3]||"",!0),Be(this,t[4]),this.va=je(t[5]||"",!0),Ue(this,t[6]||"",!0),this.ib=je(t[7]||"")):this.g=new We(null)}function Oe(e,t,n){e.za=n?je(t,!0):t,e.za&&(e.za=e.za.replace(/:$/,""))}function Be(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.Lb=t}else e.Lb=null}function Ue(e,t,n){t instanceof We?e.g=t:(n||(t=He(t,Ke)),e.g=new We(t))}function je(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function He(e,t,n){return null!=e?(e=encodeURI(e).replace(t,Fe),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fe(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(r=Ne.prototype).za="",r.sb="",r.Da="",r.Lb=null,r.va="",r.ib="",r.toString=function(){var e=[],t=this.za;if(t&&e.push(He(t,Ge,!0),":"),t=this.Da){e.push("//");var n=this.sb;n&&e.push(He(n,Ge,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.Lb)&&e.push(":",String(t))}return(t=this.va)&&(this.Da&&"/"!=t.charAt(0)&&e.push("/"),e.push(He(t,"/"==t.charAt(0)?ze:Ve,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.ib)&&e.push("#",He(t,qe)),e.join("")},r.resolve=function(e){var t=this.clone();"data"===t.za&&(t=new Ne);var n=!!e.za;n?Oe(t,e.za):n=!!e.sb,n?t.sb=e.sb:n=!!e.Da,n?t.Da=e.Da:n=null!=e.Lb;var r=e.va;if(n)Be(t,e.Lb);else if(n=!!e.va){if("/"!=r.charAt(0))if(this.Da&&!this.va)r="/"+r;else{var i=t.va.lastIndexOf("/");-1!=i&&(r=t.va.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?t.va=r:n=""!==e.g.toString(),n?Ue(t,e.g.clone()):n=!!e.ib,n&&(t.ib=e.ib),t},r.clone=function(){return new Ne(this)};var Ge=/[#\/\?@]/g,Ve=/[#\?:]/g,ze=/[#\?]/g,Ke=/[#\?@]/g,qe=/#/g;function We(e){this.g=e||null}function Xe(e){if(!e.la&&(e.la={},e.Cc=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];a=decodeURIComponent(a.replace(/\+/g," ")),i=i||"",e.add(a,decodeURIComponent(i.replace(/\+/g," ")))}}function Ye(e,t,n){var r=D.apply(3,arguments);if(this.severity=e,this.category=t,this.code=n,this.data=r,this.handled=!1,this.message="Shaka Error "+this.code,Je)try{throw Error(this.message||"Shaka Error")}catch(i){this.stack=i.stack}}(r=We.prototype).la=null,r.Cc=null,r.add=function(e,t){Xe(this),this.g=null;var n=this.la.hasOwnProperty(e)?this.la[e]:null;return n||(this.la[e]=n=[]),n.push(t),this.Cc++,this},r.set=function(e,t){return Xe(this),this.g=null,this.la.hasOwnProperty(e)?this.la[e]=[t]:this.add(e,t),this},r.toString=function(){if(this.g)return this.g;if(!this.la)return"";var e,t=[];for(e in this.la)for(var n=encodeURIComponent(e),r=this.la[e],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),t.push(a)}return this.g=t.join("&")},r.clone=function(){var e=new We;if(e.g=this.g,this.la){var t,n={};for(t in this.la)n[t]=this.la[t].concat();e.la=n,e.Cc=this.Cc}return e},Ye.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},H("shaka.util.Error",Ye);var Je=!0;function Ze(e,t){return e.concat(t)}function $e(){}function Qe(e){return null!=e}function et(e,t){if(0==t.length)return e;var n=t.map((function(e){return new Ne(e)}));return e.map((function(e){return new Ne(e)})).map((function(e){return n.map((function(t){return e.resolve(t)}))})).reduce(Ze,[]).map((function(e){return e.toString()}))}function tt(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:t||[],keyIds:new Set}}function nt(e,t){if(1==t.length)return t[0];if(null!=(e=rt(e,t)))return e;throw new Ye(2,4,4025,t)}function rt(e,t){for(var n=l(ot[e]),r=n.next();!r.done;r=n.next()){r=r.value;for(var i=l(t),a=i.next();!a.done;a=i.next())if(a=a.value,r.test(a.trim()))return a.trim()}return e==it?"":null}Ye.Severity={RECOVERABLE:1,CRITICAL:2},Ye.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},Ye.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_SRC_EQUALS:2016,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_CODEC_UNKNOWN:3021,MSS_TRANSMUXING_FAILED:3022,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,HLS_AES_128_INVALID_IV_LENGTH:4043,HLS_AES_128_INVALID_KEY_LENGTH:4044,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004};var it="text",at={Aa:"video",xb:"audio",da:it,fd:"image",ng:"application"},ot={audio:[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4$/,/^dts[cex]$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av01/,/^dvh/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function st(){}function ut(e,t){var n=e;return t&&!pt.includes(e)&&(n+='; codecs="'+t+'"'),n}function ct(e,t){return t&&(e+='; codecs="'+t+'"'),e}function lt(e,t,n){var r=ut(e,t);return Ce(t=ct(e,t))?(e=Ce(t))?(n=(e=e()).convertCodecs(n,t),e.destroy()):n=t:n="video/mp2t"!=e&&"audio"==n?r.replace("video","audio"):r,n}function ht(e){var t=dt(e);switch(e=t[0],t=t[1].toLowerCase(),!0){case"mp4a"===e&&"69"===t:case"mp4a"===e&&"6b"===t:case"mp4a"===e&&"40.34"===t:return"mp3";case"mp4a"===e&&"66"===t:case"mp4a"===e&&"67"===t:case"mp4a"===e&&"68"===t:case"mp4a"===e&&"40.2"===t:case"mp4a"===e&&"40.02"===t:case"mp4a"===e&&"40.5"===t:case"mp4a"===e&&"40.05"===t:case"mp4a"===e&&"40.29"===t:case"mp4a"===e&&"40.42"===t:return"aac";case"mp4a"===e&&"a5"===t:return"ac-3";case"mp4a"===e&&"a6"===t:return"ec-3";case"mp4a"===e&&"b2"===t:return"dtsx";case"mp4a"===e&&"a9"===t:return"dtsc";case"avc1"===e:case"avc3"===e:return"avc";case"hvc1"===e:case"hev1"===e:return"hevc";case"dvh1"===e:case"dvhe"===e:return"dovi"}return e}function ft(e){return(e=e.split(/ *; */)).shift(),(e=e.find((function(e){return e.startsWith("codecs=")})))?e.split("=")[1].replace(/^"|"$/g,""):""}function dt(e){var t=(e=e.split("."))[0];return e.shift(),[t,e.join(".")]}H("shaka.util.MimeUtils",st),st.getFullTypeWithAllCodecs=ct,st.getFullType=ut,(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");var pt=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function gt(e){this.i=null,this.j=e,this.u=!1,this.l=this.s=0,this.m=1/0,this.h=this.g=null,this.A="",this.o=new Map}function mt(e){return!!bt[e]||("application/cea-608"==e||"application/cea-708"==e)&&!!ce}function vt(e,t,n){if(e.A=t,t=e.o.get(t))for(var r=l(t.keys()),i=r.next();!i.done;i=r.next())(i=t.get(i.value).filter((function(e){return e.endTime<=n})))&&e.j.append(i)}function yt(e,t,n){t.startTime+=n,t.endTime+=n;for(var r=(t=l(t.g)).next();!r.done;r=t.next())yt(e,r.value,n)}gt.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()},gt.prototype.remove=function(e,t){var n=this;return P((function(r){if(1==r.g)return T(r,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||null==n.g||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),S(r)}))},H("shaka.text.TextEngine",gt),gt.prototype.destroy=gt.prototype.destroy,gt.findParser=function(e){return bt[e]},gt.unregisterParser=function(e){delete bt[e]},gt.registerParser=function(e,t){bt[e]=t};var bt={};function wt(){}function Tt(e,t){return e=Et(e),t=Et(t),e.split("-")[0]==t.split("-")[0]}function St(e,t){return e=Et(e),t=Et(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&1==e.length&&2==t.length}function xt(e,t){return e=Et(e),t=Et(t),e=e.split("-"),t=t.split("-"),2==e.length&&2==t.length&&e[0]==t[0]}function Et(e){var t=e.split("-x-"),n=t[0].split("-");return e=n[0]||"",n=n[1]||"",t=t[1]?"x-"+t[1]:"",e=e.toLowerCase(),e=_t.get(e)||e,((n=n.toUpperCase())?e+"-"+n:e)+(t?"-"+t:"")}function At(e,t){return e=Et(e),(t=Et(t))==e?4:St(t,e)?3:xt(t,e)?2:St(e,t)?1:0}function kt(e){var t=e.indexOf("-");return e=(e=0<=t?e.substring(0,t):e).toLowerCase(),_t.get(e)||e}function It(e){return e.language?Et(e.language):e.audio&&e.audio.language?Et(e.audio.language):e.video&&e.video.language?Et(e.video.language):"und"}function Ct(e,t){e=Et(e);var n=new Set,r=l(t);for(t=r.next();!t.done;t=r.next())n.add(Et(t.value));for(t=(r=l(n)).next();!t.done;t=r.next())if((t=t.value)==e)return t;for(t=(r=l(n)).next();!t.done;t=r.next())if(St(t=t.value,e))return t;for(t=(r=l(n)).next();!t.done;t=r.next())if(xt(t=t.value,e))return t;for(t=(n=l(n)).next();!t.done;t=n.next())if(St(e,t=t.value))return t;return null}H("shaka.util.LanguageUtils",wt),wt.findClosestLocale=Ct,wt.getLocaleForVariant=It,wt.getLocaleForText=function(e){return Et(e.language||"und")},wt.getBase=kt,wt.relatedness=At,wt.areSiblings=function(e,t){var n=kt(e),r=kt(t);return e!=n&&t!=r&&n==r},wt.normalize=Et,wt.isSiblingOf=xt,wt.isParentOf=St,wt.areLanguageCompatible=Tt,wt.areLocaleCompatible=function(e,t){return(e=Et(e))==(t=Et(t))};var _t=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function Mt(){this.g={}}function Rt(e){this.h=e,this.g=null}function Pt(e){this.h=e,this.g=null}function Dt(){return!(!e.MediaSource||!MediaSource.isTypeSupported)}function Lt(e){return""!=Vt().canPlayType(e)}function Nt(){return!!navigator.userAgent.match(/Edge?\//)}function Ot(){return Gt("Xbox One")}function Bt(){return Gt("Tizen")}function Ut(){return Gt("Web0S")&&Gt("Chrome/38.0.2125.122 Safari/537.36")}function jt(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Bt()&&!Gt("PC=EOS")&&!Gt("VirginMedia")&&!Gt("SOPOpenBrowser")&&!Ht()&&!Gt("AFT")}function Ht(){return Gt("PlayStation 4")}function Ft(){if(!jt())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function Gt(e){return(navigator.userAgent||"").includes(e)}function Vt(){return Kt||(zt||(zt=new Pt((function(){Kt=null}))),(Kt=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Kt=document.createElement("video")),zt.V(1),Kt)}(r=Mt.prototype).push=function(e,t){this.g.hasOwnProperty(e)?this.g[e].push(t):this.g[e]=[t]},r.get=function(e){return(e=this.g[e])?e.slice():null},r.remove=function(e,t){e in this.g&&(this.g[e]=this.g[e].filter((function(e){return e!=t})),0==this.g[e].length&&delete this.g[e])},r.forEach=function(e){for(var t in this.g)e(t,this.g[t])},r.size=function(){return Object.keys(this.g).length},r.keys=function(){return Object.keys(this.g)},Rt.prototype.V=function(t){var n=this;this.stop();var r=!0,i=null;return this.g=function(){e.clearTimeout(i),r=!1},i=e.setTimeout((function(){r&&n.h()}),1e3*t),this},Rt.prototype.stop=function(){this.g&&(this.g(),this.g=null)},Pt.prototype.Zd=function(){return this.stop(),this.h(),this},Pt.prototype.V=function(e){var t=this;return this.stop(),this.g=new Rt((function(){t.h()})).V(e),this},Pt.prototype.sa=function(e){var t=this;return this.stop(),this.g=new Rt((function(){t.g.V(e),t.h()})).V(e),this},Pt.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},H("shaka.util.Timer",Pt),Pt.prototype.stop=Pt.prototype.stop,Pt.prototype.tickEvery=Pt.prototype.sa,Pt.prototype.tickAfter=Pt.prototype.V,Pt.prototype.tickNow=Pt.prototype.Zd;var zt=null,Kt=null;function qt(){}function Wt(e,t,n,r,i){var a=e.variants;(t.length||n.length)&&(a=function(e,t,n){for(var r={},i=(t=l(t)).next();!i.done;r={ed:r.ed},i=t.next())if(r.ed=i.value,i=e.filter(function(e){return function(t){return t.video&&t.video.codecs.startsWith(e.ed)}}(r)),i.length){e=i;break}for(r={},n=l(n),t=n.next();!t.done;r={$c:r.$c},t=n.next())if(r.$c=t.value,t=e.filter(function(e){return function(t){return t.audio&&t.audio.codecs.startsWith(e.$c)}}(r)),t.length){e=t;break}return e}(a,t,n)),t=function(e){for(var t=new Mt,n=(e=l(e)).next();!n.done;n=e.next()){var r=Yt(n=n.value);t.push(r,n)}return t}(a=gn(a,r)),t=function(e){var t=0,n=new Map,r=e.size();return e.forEach((function(e,i){for(var a=(i=l(i)).next();!a.done;a=i.next()){var o=(a=a.value).video;if(o&&o.width&&o.height){o=o.width*o.height*(o.frameRate||1),n.has(o)||n.set(o,new Mt);var s=n.get(o);s.push(e,a),s.size()===r&&(t=Math.max(t,o))}}})),t?n.get(t):e}(t);var o=function(e,t){for(var n=(t=l(t)).next();!n.done;n=t.next())if((n=n.value)==Sn||n==xn){if(1==(e=Xt(e,n)).size())return e.keys()[0]}else if(n==En)break;return function(e){var t="",n=1/0;return e.forEach((function(e,r){for(var i=0,a=0,o=(r=l(r)).next();!o.done;o=r.next())i+=o.value.bandwidth||0,++a;(i/=a)<n&&(t=e,n=i)})),t}(e)}(t,i);e.variants=e.variants.filter((function(e){return Yt(e)==o}))}function Xt(e,t){var n=0,r=new Mt;return e.forEach((function(e,i){for(var a=0,o=0,s=l(i),u=s.next();!u.done;u=s.next())(u=u.value).decodingInfos.length&&(a+=u.decodingInfos[0][t]?1:0,o++);(a/=o)>n?(r.g={},r.push(e,i),n=a):a==n&&r.push(e,i)})),r}function Yt(e){var t="";e.video&&(t=ht(e.video.codecs));var n="";return e.audio&&(n=ht(e.audio.codecs)),t+"-"+n}function Jt(e,t,n){function r(e,t,n){return e>=t&&e<=n}var i=e.video;return!(i&&i.width&&i.height&&(!r(i.width,t.minWidth,Math.min(t.maxWidth,n.width))||!r(i.height,t.minHeight,Math.min(t.maxHeight,n.height))||!r(i.width*i.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!r(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function Zt(e,t){return P((function(n){return 1==n.g?T(n,function(e,t){return P((function(n){if(1==n.g)return T(n,en(e.variants,t,!1,[]),2);e.variants=e.variants.filter((function(e){var t=e.video;if(t){var n=rn(t.codecs);if(t.codecs.includes(",")){var r=t.codecs.split(",");n=rn(n=nt("video",r)),r=nn(r=nt("audio",r));var i=lt(t.mimeType,r,"audio");if(!Y(i))return!1;n=[n,r].join()}if(!Y(r=lt(t.mimeType,n,"video")))return!1;t.codecs=n}if(n=e.audio){if(r=nn(n.codecs),!Y(i=lt(n.mimeType,r,"audio")))return!1;n.codecs=r}return Ot()&&t&&(t.width&&1920<t.width||t.height&&1080<t.height)&&(t.codecs.includes("avc1.")||t.codecs.includes("avc3."))?(yn(e),!1):((t=e.decodingInfos.some((function(e){return e.supported})))||yn(e),t)})),S(n)}))}(t,0<t.offlineSessionIds.length),2):(an(e,t),function(e){e.textStreams=e.textStreams.filter((function(e){return mt(e=ut(e.mimeType,e.codecs))}))}(t),T(n,function(e){var t,n,r,i,a,o,s;return P((function(u){switch(u.g){case 1:t=[],n=l(e.imageStreams),r=n.next();case 2:if(r.done){u.B(4);break}if(i=r.value,a=i.mimeType,An.has(a)){u.B(5);break}if(!(o=kn.get(a))){An.set(a,!1),u.B(5);break}return T(u,function(e){return new Promise((function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then((function(){t(!0)})).catch((function(){t(!1)})):n.onload=n.onerror=function(){t(2===n.height)}}))}(o),7);case 7:s=u.h,An.set(a,s);case 5:An.get(a)&&t.push(i),r=n.next(),u.B(2);break;case 4:e.imageStreams=t,S(u)}}))}(t),0))}))}function $t(e){var t=[];for(n in e)t.push(n);t.sort();for(var n=[],r=(t=l(t)).next();!r.done;r=t.next()){var i=r.value;r=JSON.stringify(i),(i=e[i])instanceof Object?(i=$t(i),n.push(r+":"+i)):(i=JSON.stringify(i),n.push(r+":"+i))}return"{"+n.join(",")+"}"}function Qt(e,t){var n,r,i;return P((function(a){switch(a.g){case 1:if(n=$t(t),x(a,2),(r=wn)[n]){e.decodingInfos.push(r[n]),a.B(4);break}return T(a,navigator.mediaCapabilities.decodingInfo(t),5);case 5:i=a.h,r[n]=i,e.decodingInfos.push(i);case 4:E(a,0);break;case 2:A(a),JSON.stringify(t),S(a)}}))}function en(e,t,n,r){var i,a,o,s,u,c,h,f,d,p,g,m,v,y,b,w;return P((function(S){switch(S.g){case 1:if(e.some((function(e){return e.decodingInfos.length})))return S.return();i={},a=l(r),o=a.next();case 2:if(o.done){S.B(4);break}i.bd=o.value,s=!1,u=l(e),c=u.next();case 5:if(c.done){S.B(7);break}h=c.value,f=tn(h,t,n).filter((x=i,function(e){return(e.keySystemConfiguration&&e.keySystemConfiguration.keySystem)===x.bd})),d=l(f),p=d.next();case 8:if(p.done){S.B(10);break}return g=p.value,T(S,Qt(h,g),9);case 9:p=d.next(),S.B(8);break;case 10:h.decodingInfos.length&&(s=!0),c=u.next(),S.B(5);break;case 7:if(s)return S.return();i={bd:i.bd},o=a.next(),S.B(2);break;case 4:m=l(e),c=m.next();case 12:if(c.done){S.B(0);break}v=c.value,y=tn(v,t,n).filter((function(e){return!(e=e.keySystemConfiguration&&e.keySystemConfiguration.keySystem)||!r.includes(e)})),b=l(y),p=b.next();case 15:if(p.done){c=m.next(),S.B(12);break}return w=p.value,T(S,Qt(v,w),16);case 16:p=b.next(),S.B(15)}var x}))}function tn(e,t,n){var r=e.audio,i=e.video;if(n={type:n?"file":"media-source"},i){var a=i.codecs;if(i.codecs.includes(",")){var o=i.codecs.split(",");a=rn(a=nt("video",o)),o=nn(o=nt("audio",o)),o=lt(i.mimeType,o,"audio"),n.audio={contentType:o,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1}}if(a=rn(a),a=lt(i.mimeType,a,"video"),n.video={contentType:a,width:i.width||64,height:i.height||64,bitrate:i.bandwidth||e.bandwidth||1,framerate:i.frameRate||1},i.hdr)switch(i.hdr){case"SDR":n.video.transferFunction="srgb";break;case"PQ":n.video.transferFunction="pq";break;case"HLG":n.video.transferFunction="hlg"}}if(r&&(a=nn(r.codecs),a=lt(r.mimeType,a,"audio"),n.audio={contentType:a,channels:r.channelsCount||2,bitrate:r.bandwidth||e.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio}),!(o=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])).length)return[n];e=[],a=new Map;for(var s=(o=l(o)).next();!s.done;s=o.next()){var u=s.value;a.get(u.keySystem)||a.set(u.keySystem,[]),a.get(u.keySystem).push(u)}o=t?"required":"optional",t=t?["persistent-license"]:["temporary"];for(var c=(u=l(a.keys())).next();!c.done;c=u.next()){var h=c.value;c=Object.assign({},n);var f=a.get(h);for(h={keySystem:h,initDataType:"cenc",persistentState:o,distinctiveIdentifier:"optional",sessionTypes:t},s=(f=l(f)).next();!s.done;s=f.next()){if((s=s.value).initData&&s.initData.length){for(var d=new Set,p=l(s.initData),g=p.next();!g.done;g=p.next())d.add(g.value.initDataType);h.initDataType=s.initData[0].initDataType}s.distinctiveIdentifierRequired&&(h.distinctiveIdentifier="required"),s.persistentStateRequired&&(h.persistentState="required"),s.sessionType&&(h.sessionTypes=[s.sessionType]),r&&(""!=s.audioRobustness?h.audio?h.audio.robustness=h.audio.robustness||s.audioRobustness:h.audio={robustness:s.audioRobustness}:h.audio||(h.audio={})),i&&(""!=s.videoRobustness?h.video?h.video.robustness=h.video.robustness||s.videoRobustness:h.video={robustness:s.videoRobustness}:h.video||(h.video={}))}c.keySystemConfiguration=h,e.push(c)}return e}function nn(e){return"fLaC"===e?"flac":"Opus"===e?"opus":Bt()&&"ac-3"==e.toLowerCase()?"ec-3":e}function rn(e){if(e.includes("avc1")){var t=e.split(".");if(3==t.length)return e=t.shift()+".",(e+=parseInt(t.shift(),10).toString(16))+("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if("vp9"==e)return"vp09.00.41.08";return e}function an(e,t){t.variants=t.variants.filter((function(t){var n=t.audio;return t=t.video,!(n&&e&&e.audio&&!on(n,e.audio)||t&&e&&e.video&&!on(t,e.video))}))}function on(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function sn(e){var t=e.audio,n=e.video,r=t?t.mimeType:null,i=n?n.mimeType:null,a=t?t.codecs:null,o=n?n.codecs:null,s=[];o&&s.push(o),a&&s.push(a);var u=[];n&&u.push(n.mimeType),t&&u.push(t.mimeType),u=u[0]||null;var c=[];t&&c.push(t.kind),n&&c.push(n.kind),c=c[0]||null;var h=new Set;if(t)for(var f=l(t.roles),d=f.next();!d.done;d=f.next())h.add(d.value);if(n)for(d=(f=l(n.roles)).next();!d.done;d=f.next())h.add(d.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:c,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:u,audioMimeType:r,videoMimeType:i,codecs:s.join(", "),audioCodec:a,videoCodec:o,primary:e.primary,roles:Array.from(h),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage),e}function un(e){return{id:e.id,active:!1,type:it,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null,accessibilityPurpose:e.accessibilityPurpose,originalLanguage:e.originalLanguage}}function cn(e){var t=e.width||null,n=e.height||null,r=null;e.segmentIndex&&(r=e.segmentIndex.get(0));var i=e.tilesLayout;return r&&(i=r.tilesLayout||i),i&&null!=t&&(t/=Number(i.split("x")[0])),i&&null!=n&&(n/=Number(i.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:i||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId,accessibilityPurpose:null,originalLanguage:null}}function ln(e){return e.__shaka_id||(e.__shaka_id=Tn++),e.__shaka_id}function hn(e){var t=dn(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="application/cea-608"),"subtitles"==e.kind&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),"forced"==e.kind&&(t.forced=!0),t}function fn(e){var t=dn(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function dn(e){var t=e.language;return{id:ln(e),active:!1,type:"",bandwidth:0,language:Et(t||"und"),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:t}}function pn(e){return e.allowedByApplication&&e.allowedByKeySystem&&0==e.disabledUntilTime}function gn(e,t){for(var n=e.filter((function(e){return e.audio&&e.audio.channelsCount})),r=new Map,i=(n=l(n)).next();!i.done;i=n.next()){var a=(i=i.value).audio.channelsCount;r.has(a)||r.set(a,[]),r.get(a).push(i)}return 0==(n=Array.from(r.keys())).length?e:(e=n.filter((function(e){return e<=t}))).length?r.get(Math.max.apply(Math,h(e))):r.get(Math.min.apply(Math,h(n)))}function mn(e,t,n,r){var i=e,a=e.filter((function(e){return e.primary}));a.length&&(i=a);var o=i.length?i[0].language:"";if(i=i.filter((function(e){return e.language==o})),t){var s=Ct(Et(t),e.map((function(e){return e.language})));s&&(i=e.filter((function(e){return Et(e.language)==s})))}if(i=i.filter((function(e){return e.forced==r})),n){if((e=vn(i,n)).length)return e}else if(e=i.filter((function(e){return 0==e.roles.length})),e.length)return e;return e=i.map((function(e){return e.roles})).reduce(Ze,[]),e.length?vn(i,e[0]):i}function vn(e,t){return e.filter((function(e){return e.roles.includes(t)}))}function yn(e){var t=[];return e.audio&&t.push(bn(e.audio)),e.video&&t.push(bn(e.video)),t.join(", ")}function bn(e){return"audio"==e.type?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:"video"==e.type?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}H("shaka.util.StreamUtils",qt),qt.meetsRestrictions=Jt;var wn={},Tn=0,Sn="smooth",xn="powerEfficient",En="bandwidth",An=(new Map).set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),kn=(new Map).set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function In(){var e=this;this.l=null,this.o=!1,this.i=new V,this.u=null,navigator.connection&&navigator.connection.addEventListener&&(this.u=function(){if(e.o&&e.g.useNetworkInformation){e.i=new V,e.g&&e.i.configure(e.g.advanced);var t=e.chooseVariant();t&&e.l(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}},navigator.connection.addEventListener("change",this.u)),this.m=[],this.A=1,this.D=!1,this.h=this.j=this.g=this.s=null,this.C=new Pt((function(){if(e.g.restrictToElementSize){var t=e.chooseVariant();t&&e.l(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}))}function Cn(e){var t=e.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&e.g.useNetworkInformation&&(t=1e6*navigator.connection.downlink),t}function _n(e,t,n,r){return e&&(t=t.filter((function(t){return Jt(t,e,{width:r,height:n})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))}(r=In.prototype).stop=function(){this.l=null,this.o=!1,this.m=[],this.A=1,this.j=this.s=null,this.h&&(this.h.disconnect(),this.h=null),this.C.stop()},r.release=function(){navigator.connection&&navigator.connection.removeEventListener&&(navigator.connection.removeEventListener("change",this.u),this.u=null),this.C=null},r.init=function(e){this.l=e},r.chooseVariant=function(){var t=1/0,n=1/0;this.g.restrictToScreenSize&&(n=this.g.ignoreDevicePixelRatio?1:e.devicePixelRatio,t=e.screen.height*n,n*=e.screen.width),this.h&&this.g.restrictToElementSize&&(n=this.g.ignoreDevicePixelRatio?1:e.devicePixelRatio,t=this.j.clientHeight*n,n*=this.j.clientWidth),t=_n(this.g.restrictions,this.m,t,n),n=this.i.getBandwidthEstimate(Cn(this)),this.m.length&&!t.length&&(t=[(t=_n(null,this.m,1/0,1/0))[0]]);for(var r=t[0]||null,i=0;i<t.length;i++){for(var a=t[i],o=isNaN(this.A)?1:Math.abs(this.A),s=o*a.bandwidth/this.g.bandwidthDowngradeTarget,u={bandwidth:1/0},c=i+1;c<t.length;c++)if(a.bandwidth!=t[c].bandwidth){u=t[c];break}o=o*u.bandwidth/this.g.bandwidthUpgradeTarget,n>=s&&n<=o&&r.bandwidth!=a.bandwidth&&(r=a)}return this.s=Date.now(),r},r.enable=function(){this.o=!0},r.disable=function(){this.o=!1},r.segmentDownloaded=function(e,t){if(this.i.sample(e,t),null!=this.s&&this.o)e:{if(this.D){if(Date.now()-this.s<1e3*this.g.switchInterval)break e}else{if(!((e=this.i).g>=e.i))break e;this.D=!0}e=this.chooseVariant(),this.i.getBandwidthEstimate(Cn(this)),e&&this.l(e,this.g.clearBufferSwitch,this.g.safeMarginSwitch)}},r.getBandwidthEstimate=function(){return this.i.getBandwidthEstimate(Cn(this))},r.setVariants=function(e){this.m=e},r.playbackRateChanged=function(e){this.A=e},r.setMediaElement=function(t){var n=this;this.j=t,this.h&&(this.h.disconnect(),this.h=null),this.j&&"ResizeObserver"in e&&(this.h=new ResizeObserver((function(){n.C.V(Mn)})),this.h.observe(this.j))},r.configure=function(e){this.g=e,this.i&&this.g&&this.i.configure(this.g.advanced)},H("shaka.abr.SimpleAbrManager",In),In.prototype.configure=In.prototype.configure,In.prototype.setMediaElement=In.prototype.setMediaElement,In.prototype.playbackRateChanged=In.prototype.playbackRateChanged,In.prototype.setVariants=In.prototype.setVariants,In.prototype.getBandwidthEstimate=In.prototype.getBandwidthEstimate,In.prototype.segmentDownloaded=In.prototype.segmentDownloaded,In.prototype.disable=In.prototype.disable,In.prototype.enable=In.prototype.enable,In.prototype.chooseVariant=In.prototype.chooseVariant,In.prototype.init=In.prototype.init,In.prototype.release=In.prototype.release,In.prototype.stop=In.prototype.stop;var Mn=1;function Rn(e,t,n,r,i){if(r>=i)return null;for(var a=-1,o=-1,s=0;s<n.length;s++)if(n[s].some((function(e){return null!=e&&""!=e.g.trim()}))){a=s;break}for(s=n.length-1;0<=s;s--)if(n[s].some((function(e){return null!=e&&""!=e.g.trim()}))){o=s;break}if(-1===a||-1===o)return null;for(var u=s=!1,c="white",l="black",h=Pn(r,i,s,u,c,l);a<=o;a++){for(var f=n[a],d=-1,p=-1,g=0;g<f.length;g++)if(null!=f[g]&&""!==f[g].g.trim()){d=g;break}for(g=f.length-1;0<=g;g--)if(null!=f[g]&&""!==f[g].g.trim()){p=g;break}if(-1===d||-1===p)f=Dn(r,i),e.g.push(f);else{for(;d<=p;d++)if(g=f[d]){var m=g.l,v=g.i,y=g.j,b=g.h;m==s&&v==u&&y==c&&b==l||(h.S&&e.g.push(h),h=Pn(r,i,m,v,y,b),s=m,u=v,c=y,l=b),h.S+=g.g}else h.S+=" ";h.S&&e.g.push(h),a!==o&&(h=Dn(r,i),e.g.push(h)),h=Pn(r,i,s,u,c,l)}}return e.g.length?{cue:e,stream:t}:null}function Pn(e,t,n,r,i,a){return e=new de(e,t,""),n&&e.o.push("underline"),r&&(e.m="italic"),e.l=i,e.backgroundColor=a,e}function Dn(e,t){return(e=new de(e,t,"")).s=!0,e}function Ln(e,t,n,r,i){this.g=e,this.l=t,this.i=n,this.h=r,this.j=i}function Nn(e,t){this.i=[],this.g=1,this.h=0,this.u=e,this.s=t,this.j=this.m=!1,this.l="white",this.o="black",Bn(this)}function On(e,t,n){var r="CC"+(e.u<<1|e.s+1),i=new de(t,n,"");return i.u=1,i.h=e.g/16*100,Rn(i,r,e.i,t,n)}function Bn(e){Hn(e,0,15),e.g=1}function Un(e,t,n){if(!(32>n||127<n)){var r="";switch(t){case Fn:r=Kn.has(n)?Kn.get(n):String.fromCharCode(n);break;case Gn:r=qn.get(n);break;case Vn:e.i[e.g].pop(),r=Wn.get(n);break;case zn:e.i[e.g].pop(),r=Xn.get(n)}r&&e.i[e.g].push(new Ln(r,e.m,e.j,e.o,e.l))}}function jn(e,t,n,r){if(!(0>n||0>t))if(t>=n)for(--r;0<=r;r--)e.i[t+r]=e.i[n+r].map((function(e){return e}));else for(var i=0;i<r;i++)e.i[t+i]=e.i[n+i].map((function(e){return e}))}function Hn(e,t,n){for(var r=0;r<=n;r++)e.i[t+r]=[]}var Fn=0,Gn=1,Vn=2,zn=3,Kn=new Map([[39,""],[42,""],[92,""],[92,""],[94,""],[95,""],[96,""],[123,""],[124,""],[125,""],[126,""],[127,""]]),qn=new Map([[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[54,""],[55,""],[56,""],[57,""],[58,""],[59,""],[60,""],[61,""],[62,""],[63,""]]),Wn=new Map([[32,""],[33,""],[34,""],[35,""],[36,""],[37,""],[38,""],[39,""],[40,"*"],[41,"'"],[42,""],[43,""],[44,""],[45,""],[46,""],[47,""],[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[54,""],[55,""],[56,""],[57,""],[58,""],[59,""],[60,""],[61,""],[62,""],[63,""]]),Xn=new Map([[32,""],[33,""],[34,""],[35,""],[36,""],[37,""],[38,""],[39,""],[40,""],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[54,""],[55,""],[56,""],[57,""],[58,""],[59,""],[60,""],[61,""],[62,""],[63,""]]);function Yn(e,t){this.h=Qn,this.o=new Nn(e,t),this.i=new Nn(e,t),this.g=this.j=new Nn(e,t),this.l=0,this.m=null}function Jn(e,t,n){e.g=e.i;var r=e.g,i=null;return e.h!==tr&&e.h!==nr&&(i=On(r,e.l,n),(n=e.i).g=0<n.h?n.h:0,Hn(n,0,15),(n=e.j).g=0<n.h?n.h:0,Hn(n,0,15),r.g=15),e.h=tr,r.h=t,i}function Zn(e){e.h=er,e.g=e.j,e.g.h=0}function $n(e){W("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.o,e.h=nr}var Qn=0,er=1,tr=3,nr=4,rr="black green blue cyan red yellow magenta black".split(" "),ir="white green blue cyan red yellow magenta white_italics".split(" ");function ar(){this.l=!1,this.A=this.D=0,this.C=dr,this.i=[],this.g=this.h=this.j=0,this.u=this.o=!1,this.s="white",this.m="black",or(this)}function or(e){e.i=[];for(var t=0;16>t;t++)e.i.push(sr())}function sr(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function ur(e,t){cr(e)&&(e.i[e.h][e.g]=new Ln(t,e.u,e.o,e.m,e.s),e.g++)}function cr(e){var t=e.g<e.A&&0<=e.g;return e.h<e.D&&0<=e.h&&t}function lr(e,t,n){var r=new de(e.j,t,"");return r.textAlign=e.C===hr?"left":e.C===fr?"right":me,(n=Rn(r,"svc"+n,e.i,e.j,t))&&(e.j=t),n}ar.prototype.isVisible=function(){return this.l};var hr=0,fr=1,dr=2;function pr(){this.i=[],this.h=null,this.g=0}function gr(e,t){3===t.type?(e.g=2*(63&t.value)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),0===e.g&&(e.i.push(new mr(e.h)),e.h=null,e.g=0))}function mr(e){this.g=0,this.h=e}function vr(e){if(!e.ea())throw new Ye(2,2,3e3);return e.h[e.g++]}function yr(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function br(e,t,n,r){if(128<=n&&135>=n)r=7&n,e.h[r]&&(e.g=e.h[r]);else{if(136===n){n=vr(t).value,t=null;for(var i=(n=l(wr(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()&&(t=lr(i,r,e.i)),or(i);return t}if(137===n)for(n=(t=l(wr(e,t=vr(t).value))).next();!n.done;n=t.next())(n=e.h[n.value]).isVisible()||(n.j=r),n.l=!0;else{if(138===n){for(n=vr(t).value,t=null,i=(n=l(wr(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()&&(t=lr(i,r,e.i)),i.l=!1;return t}if(139===n){for(n=vr(t).value,t=null,i=(n=l(wr(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()?t=lr(i,r,e.i):i.j=r,i.l=!i.l;return t}if(140===n)return Tr(e,t=vr(t).value,r);if(143===n)return r=Tr(e,255,r),Sr(e),r;if(144===n)t.skip(1),r=vr(t).value,e.g&&(e.g.o=0<(128&r),e.g.u=0<(64&r));else if(145===n)r=vr(t).value,n=vr(t).value,t.skip(1),e.g&&(t=xr((48&n)>>4,(12&n)>>2,3&n),e.g.s=xr((48&r)>>4,(12&r)>>2,3&r),e.g.m=t);else if(146===n)r=vr(t).value,t=vr(t).value,e.g&&((e=e.g).h=15&r,e.g=63&t);else if(151===n)t.skip(1),t.skip(1),r=vr(t).value,t.skip(1),e.g&&(e.g.C=3&r);else if(152<=n&&159>=n){if(n=(15&n)-8,!(i=null!==e.h[n])){var a=new ar;a.j=r,e.h[n]=a}r=vr(t).value,vr(t),vr(t),a=vr(t).value;var o=vr(t).value;t=vr(t).value,i&&0==(7&t)||((t=e.h[n]).h=0,t.g=0,t.u=!1,t.o=!1,t.s="white",t.m="black"),(t=e.h[n]).l=0<(32&r),t.D=1+(15&a),t.A=1+(63&o),e.g=e.h[n]}}}return null}function wr(e,t){for(var n=[],r=0;8>r;r++)1==(1&t)&&e.h[r]&&n.push(r),t>>=1;return n}function Tr(e,t,n){for(var r=null,i=(t=l(wr(e,t))).next();!i.done;i=t.next()){i=i.value;var a=e.h[i];a.isVisible()&&(r=lr(a,n,e.i)),e.h[i]=null}return r}function Sr(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function xr(e,t,n){var r={0:0,1:0,2:1,3:1};return Ar[(e=r[e])<<2|(t=r[t])<<1|(n=r[n])]}mr.prototype.ea=function(){return this.g<this.h.length},mr.prototype.aa=function(){return this.g},mr.prototype.skip=function(e){if(this.g+e>this.h.length)throw new Ye(2,2,3e3);this.g+=e};var Er=new Map([[32," "],[33,""],[37,""],[42,""],[44,""],[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[57,""],[58,""],[60,""],[61,""],[63,""],[118,""],[119,""],[120,""],[121,""],[122,""],[123,""],[124,""],[125,""],[126,""],[127,""]]),Ar="black blue green cyan red magenta yellow white".split(" ");function kr(e){this.h=e,this.g=void 0}function Ir(){}function Cr(t){if(!t)return"";if(239==(t=re(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),e.TextDecoder&&!Ht())return(t=(new TextDecoder).decode(t)).includes("")&&K('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),t;for(var n="",r=0;r<t.length;++r){var i=65533;if(0==(128&t[r])?i=t[r]:t.length>=r+2&&192==(224&t[r])&&128==(192&t[r+1])?(i=(31&t[r])<<6|63&t[r+1],r+=1):t.length>=r+3&&224==(240&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])?(i=(15&t[r])<<12|(63&t[r+1])<<6|63&t[r+2],r+=2):t.length>=r+4&&240==(241&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])&&128==(192&t[r+3])&&(i=(7&t[r])<<18|(63&t[r+1])<<12|(63&t[r+2])<<6|63&t[r+3],r+=3),65535>=i)n+=String.fromCharCode(i);else{var a=1023&(i-=65536);n+=String.fromCharCode(55296+(i>>10)),n+=String.fromCharCode(56320+a)}}return n}function _r(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new Ye(2,2,2004);n=Math.floor(e.byteLength/2);var r=new Uint16Array(n);e=ie(e);for(var i=0;i<n;i++)r[i]=e.getUint16(2*i,t);return Dr.value()(r)}function Mr(e){function t(e){return n.byteLength<=e||32<=n[e]&&126>=n[e]}if(!e)return"";var n=re(e);if(239==n[0]&&187==n[1]&&191==n[2])return Cr(n);if(254==n[0]&&255==n[1])return _r(n.subarray(2),!1);if(255==n[0]&&254==n[1])return _r(n.subarray(2),!0);if(0==n[0]&&0==n[2])return _r(e,!1);if(0==n[1]&&0==n[3])return _r(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return Cr(e);throw new Ye(2,2,2003)}function Rr(t){if(e.TextEncoder&&!Ht()){var n=new TextEncoder;return ne(n.encode(t))}t=encodeURIComponent(t),t=unescape(t),n=new Uint8Array(t.length);for(var r=0;r<t.length;r++)n[r]=t[r].charCodeAt(0);return ne(n)}function Pr(e,t){for(var n=new ArrayBuffer(2*e.length),r=new DataView(n),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n}kr.prototype.value=function(){return null==this.g&&(this.g=this.h()),this.g},H("shaka.util.StringUtils",Ir),Ir.resetFromCharCode=function(){Dr.g=void 0},Ir.toUTF16=Pr,Ir.toUTF8=Rr,Ir.fromBytesAutoDetect=Mr,Ir.fromUTF16=_r,Ir.fromUTF8=Cr;var Dr=new kr((function(){function e(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(n){return!1}}for(var t={Wa:65536};0<t.Wa;(t={Wa:t.Wa}).Wa/=2)if(e(t.Wa))return function(e){return function(t){for(var n="",r=0;r<t.length;r+=e.Wa)n+=String.fromCharCode.apply(null,t.subarray(r,r+e.Wa));return n}}(t);return null}));function Lr(e,t){this.h=ie(e),this.i=t==Or,this.g=0}function Nr(){return new Ye(2,3,3e3)}(r=Lr.prototype).ea=function(){return this.g<this.h.byteLength},r.aa=function(){return this.g},r.getLength=function(){return this.h.byteLength},r.Sa=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch(t){throw Nr()}},r.ab=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch(t){throw Nr()}},r.H=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch(t){throw Nr()}},r.Ae=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch(t){throw Nr()}},r.Mb=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch(n){throw Nr()}if(2097151<t)throw new Ye(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},r.$a=function(e){if(this.g+e>this.h.byteLength)throw Nr();var t=re(this.h,this.g,e);return this.g+=e,t},r.skip=function(e){if(this.g+e>this.h.byteLength)throw Nr();this.g+=e},r.Zf=function(e){if(this.g<e)throw Nr();this.g-=e},r.seek=function(e){if(0>e||e>this.h.byteLength)throw Nr();this.g=e},r.pc=function(){for(var e=this.g;this.ea()&&0!=this.h.getUint8(this.g);)this.g+=1;return e=re(this.h,e,this.g-e),this.g+=1,Cr(e)},H("shaka.util.DataViewReader",Lr),Lr.prototype.readTerminatedString=Lr.prototype.pc,Lr.prototype.seek=Lr.prototype.seek,Lr.prototype.rewind=Lr.prototype.Zf,Lr.prototype.skip=Lr.prototype.skip,Lr.prototype.readBytes=Lr.prototype.$a,Lr.prototype.readUint64=Lr.prototype.Mb,Lr.prototype.readInt32=Lr.prototype.Ae,Lr.prototype.readUint32=Lr.prototype.H,Lr.prototype.readUint16=Lr.prototype.ab,Lr.prototype.readUint8=Lr.prototype.Sa,Lr.prototype.getLength=Lr.prototype.getLength,Lr.prototype.getPosition=Lr.prototype.aa,Lr.prototype.hasMoreData=Lr.prototype.ea;var Or=1;function Br(){this.h=[],this.g=[],this.i=new pr,this.l=0,this.m=new Map([["CC1",new Yn(0,0)],["CC2",new Yn(0,1)],["CC3",new Yn(1,0)],["CC4",new Yn(1,1)]]),this.s=this.o=0,this.j=new Map,this.u=!0,Ur(this)}function Ur(e){e.o=0,e.s=0;for(var t=l(e.m.values()),n=t.next();!n.done;n=t.next())(n=n.value).h=Qn,n.g=n.j,n.m=null,Bn(n.i),Bn(n.j),Bn(n.o);e.u=!0}function jr(e,t){var n=t.type;if(16==(112&t.ua)){var r=t.ua>>3&1;0===n?e.o=r:e.s=r}if(n=e.m.get("CC"+(n<<1|(n?e.s:e.o)+1)),255===t.ua&&255===t.Ia||!t.ua&&!t.Ia||!Fr(t.ua)||!Fr(t.Ia))return 45<=++e.l&&Ur(e),null;if(e.l=0,t.ua&=127,t.Ia&=127,!t.ua&&!t.Ia)return null;if(e=null,16==(112&t.ua))e:{if(r=t.ua,e=t.Ia,n.m===(r<<8|e))n.m=null;else if(n.m=r<<8|e,16==(240&r)&&64==(192&e)){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&r)<<1|e>>5&1];var i=(30&e)>>1;r="white";var a=!1;7>i?r=ir[i]:7===i&&(a=!0),e=1==(1&e),n.h!==nr&&(i=n.g,n.h===tr&&t!==i.g&&(jn(i,n=1+t-i.h,1+i.g-i.h,i.h),Hn(i,0,n-1),Hn(i,t+1,15-t)),i.g=t,i.m=e,i.j=a,i.l=r,i.o="black")}else if(17==(247&r)&&32==(240&e))n.g.m=!1,n.g.j=!1,n.g.l="white",Un(n.g,Fn,32),r=!1,"white_italics"===(t=ir[(14&e)>>1])&&(t="white",r=!0),n.g.m=1==(1&e),n.g.j=r,n.g.l=t;else if(16==(247&r)&&32==(240&e)||23==(247&r)&&45==(255&e))t="black",0==(7&r)&&(t=rr[(14&e)>>1]),n.g.o=t;else if(17==(247&r)&&48==(240&e))Un(n.g,Gn,e);else if(18==(246&r)&&32==(224&e))Un(n.g,1&r?zn:Vn,e);else if(20==(246&r)&&32==(240&e)){switch(e=t.pts,r=null,t.Ia){case 32:Zn(n);break;case 33:(n=n.g).i[n.g].pop();break;case 37:r=Jn(n,2,e);break;case 38:r=Jn(n,3,e);break;case 39:r=Jn(n,4,e);break;case 40:Un(n.g,Fn,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:Bn(n.o),$n(n);break;case 43:$n(n);break;case 44:t=n.i,r=null,n.h!==nr&&(r=On(t,n.l,e)),Hn(t,0,15);break;case 45:t=n.g,n.h!==tr?r=null:(r=On(t,n.l,e),jn(t,(a=t.g-t.h+1)-1,a,t.h),Hn(t,0,a-1),Hn(t,t.g,15-t.g),n.l=e);break;case 46:Hn(n.j,0,15);break;case 47:t=null,n.h!==nr&&(t=On(n.i,n.l,e)),r=n.j,n.j=n.i,n.i=r,Zn(n),n.l=e,r=t}e=r;break e}e=null}else r=t.Ia,Un(n.g,Fn,t.ua),Un(n.g,Fn,r);return e}function Hr(e,t){var n=[];try{for(;t.ea();){var r=vr(t).value,i=(224&r)>>5,a=31&r;if(7===i&&0!=a&&(i=63&vr(t).value),0!=i){e.j.has(i)||e.j.set(i,new yr(i));for(var o=e.j.get(i),s=t.aa();t.aa()-s<a;){var u=vr(i=t),c=u.value,l=u.pts;if(16===c)c=c<<16|vr(i).value;if(0<=c&&31>=c){var h=l;if(o.g){var f=o.g;switch(i=null,c){case 8:!cr(f)||0>=f.g&&0>=f.h||(0>=f.g?(f.g=f.A-1,f.h--):f.g--,f.i[f.h][f.g]=null);break;case 13:if(f.isVisible()&&(i=lr(f,h,o.i)),f.h+1>=f.D){h=f;for(var d=0,p=1;16>p;p++,d++)h.i[d]=h.i[p];for(p=0;1>p;p++,d++)h.i[d]=sr()}else f.h++;f.g=0;break;case 14:f.isVisible()&&(i=lr(f,h,o.i)),f.i[f.h]=sr(),f.g=0;break;case 12:f.isVisible()&&(i=lr(f,h,o.i)),or(f),(h=f).h=0,h.g=0}var g=i}else g=null}else if(128<=c&&159>=c)g=br(o,i,c,l);else{if(4096<=c&&4127>=c)8<=(h=255&c)&&15>=h?i.skip(1):16<=h&&23>=h?i.skip(2):24<=h&&31>=h&&i.skip(3);else if(4224<=c&&4255>=c)128<=(h=255&c)&&135>=h?i.skip(4):136<=h&&143>=h&&i.skip(5);else if(32<=c&&127>=c)i=c,o.g&&ur(o.g,127===i?"":String.fromCharCode(i));else if(160<=c&&255>=c)o.g&&ur(o.g,String.fromCharCode(c));else if(4128<=c&&4223>=c){if(i=255&c,o.g)if(Er.has(i)){var m=Er.get(i);ur(o.g,m)}else ur(o.g,"_")}else 4256<=c&&4351>=c&&o.g&&ur(o.g,160!=(255&c)?"_":"[CC]");g=null}(i=g)&&n.push(i)}}}}catch(v){if(!(v instanceof Ye&&3e3===v.code))throw v;W("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return n}function Fr(e){for(var t=0;e;)t^=1&e,e>>=1;return 1===t}function Gr(e){for(var t=[],n=e,r=e=0;r<n.length;)2==e&&3==n[r]?(e=0,(n=[].concat(h(n))).splice(r,1),n=new Uint8Array(n)):0==n[r]?e++:e=0,r++;for(e=n,r=0;r<e.length;){for(n=0;255==e[r];)n+=255,r++;n+=e[r++];for(var i=0;255==e[r];)i+=255,r++;i+=e[r++],4==n&&t.push(e.subarray(r,r+i)),r+=i}return t}function Vr(){this.i=[],this.h=[],this.g=!1}function zr(e){for(var t=Yr(e);e.reader.ea()&&!e.parser.g;)e.parser.nc(e.start+t,e.reader,e.partialOkay)}function Kr(e){for(var t=Yr(e),n=e.reader.H(),r=0;r<n&&(e.parser.nc(e.start+t,e.reader,e.partialOkay),!e.parser.g);r++);}function qr(e){var t=Yr(e);for(e.reader.skip(78);e.reader.ea()&&!e.parser.g;)e.parser.nc(e.start+t,e.reader,e.partialOkay)}function Wr(e){for(var t=0,n=(e=l(e)).next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function Xr(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function Yr(e){return 8+(e.has64BitSize?8:0)+(null!=e.flags?4:0)}Lr.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Or},Br.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,Ur(this);for(var t=(e=l(this.j.values())).next();!t.done;t=e.next())Sr(t.value)},Br.prototype.extract=function(e,t){if(this.u){for(var n=l(this.m.values()),r=n.next();!r.done;r=n.next())r.value.l=t;this.u=!1}if(181===(e=new Lr(e,0)).Sa()&&49===e.ab()&&1195456820===e.H()&&3===e.Sa()&&0!=(64&(n=e.Sa())))for(n&=31,e.skip(1),r=0;r<n;r++){var i=e.Sa(),a=(4&i)>>2,o=e.Sa(),s=e.Sa();a&&(0===(i&=3)||1===i?this.h.push({pts:t,type:i,ua:o,Ia:s,order:this.h.length}):(this.g.push({pts:t,type:i,value:o,order:this.g.length}),this.g.push({pts:t,type:2,value:s,order:this.g.length})))}},Br.prototype.decode=function(){function e(e,t){return e.pts-t.pts||e.order-t.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=l(this.h),r=n.next();!r.done;r=n.next())(r=jr(this,r.value))&&t.push(r);for(r=(n=l(this.g)).next();!r.done;r=n.next())gr(this.i,r.value);for(r=(n=l(this.i.i)).next();!r.done;r=n.next())r=Hr(this,r.value),t.push.apply(t,h(r));return this.i.i=[],this.h=[],this.g=[],t},H("shaka.cea.CeaDecoder",Br),ce=function(){return new Br},(r=Vr.prototype).box=function(e,t){return e=Wr(e),this.i[e]=Jr,this.h[e]=t,this},r.R=function(e,t){return e=Wr(e),this.i[e]=Zr,this.h[e]=t,this},r.stop=function(){this.g=!0},r.parse=function(e,t,n){for(e=new Lr(e,0),this.g=!1;e.ea()&&!this.g;)this.nc(0,e,t,n)},r.nc=function(e,t,n,r){var i=t.aa();if(r&&i+8>t.getLength())this.g=!0;else{var a=t.H(),o=t.H(),s=Xr(o),u=!1;switch(a){case 0:a=t.getLength()-i;break;case 1:if(r&&t.aa()+8>t.getLength())return void(this.g=!0);a=t.Mb(),u=!0}var c=this.h[o];if(c){var l=null,h=null;if(this.i[o]==Zr){if(r&&t.aa()+4>t.getLength())return void(this.g=!0);l=(h=t.H())>>>24,h&=16777215}o=i+a,n&&o>t.getLength()&&(o=t.getLength()),r&&o>t.getLength()?this.g=!0:(r=o-t.aa(),c({name:s,parser:this,partialOkay:n||!1,version:l,flags:h,reader:t=new Lr(t=0<r?t.$a(r):new Uint8Array(0),0),size:a,start:i+e,has64BitSize:u}))}else t.skip(Math.min(i+a-t.aa(),t.getLength()-t.aa()))}},H("shaka.util.Mp4Parser",Vr),Vr.headerSize=Yr,Vr.typeToString=Xr,Vr.allData=function(e){return function(t){e(t.reader.$a(t.reader.getLength()-t.reader.aa()))}},Vr.visualSampleEntry=qr,Vr.sampleDescription=Kr,Vr.children=zr,Vr.prototype.parseNext=Vr.prototype.nc,Vr.prototype.parse=Vr.prototype.parse,Vr.prototype.stop=Vr.prototype.stop,Vr.prototype.fullBox=Vr.prototype.R,Vr.prototype.box=Vr.prototype.box;var Jr=0,Zr=1;function $r(e,t){return 1==t?(t=e.H(),e=e.H(),{baseMediaDecodeTime:t*Math.pow(2,32)+e}):{baseMediaDecodeTime:e.H()}}function Qr(e,t){return 1==t?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.H(),e.skip(4),e=e.ab(),{timescale:t,language:String.fromCharCode(96+(e>>10))+String.fromCharCode(96+((960&e)>>5))+String.fromCharCode(96+(31&e))}}function ei(){this.j=new Map,this.i=this.h=0,this.g=ti}ei.prototype.init=function(e){function t(e){(e=e.name)in ii&&(n.g=ii[e])}var n=this,r=[],i=[];if((new Vr).box("moov",zr).box("mvex",zr).R("trex",(function(e){var t=e.reader;t.skip(4),t.skip(4),e=t.H(),t=t.H(),n.h=e,n.i=t})).box("trak",zr).R("tkhd",(function(e){var t=e.reader;1==(e=e.version)?(t.skip(8),t.skip(8)):(t.skip(4),t.skip(4));var n=t.H();1==e?t.skip(8):t.skip(4),t.skip(4),t.skip(8),t.skip(2),t.skip(2),t.skip(2),t.skip(2),t.skip(36),t.ab(),t.ab(),t.ab(),t.ab(),r.push(n)})).box("mdia",zr).R("mdhd",(function(e){e=Qr(e.reader,e.version),i.push(e.timescale)})).box("minf",zr).box("stbl",zr).R("stsd",Kr).box("avc1",t).box("avc3",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("encv",qr).box("sinf",zr).box("frma",(function(e){(e=Xr(e=e.reader.H()))in ii&&(n.g=ii[e])})).parse(e,!0),!r.length||!i.length||r.length!=i.length)throw new Ye(2,2,2010);this.g==ti&&q("Unable to determine bitstream format for CEA parsing!"),r.forEach((function(e,t){n.j.set(e,i[t])}))},ei.prototype.parse=function(e){var t=this;if(this.g==ti)return[];var n=[],r=this.h,i=this.i,a=0,o=[],s=null,u=9e4;return(new Vr).box("moof",(function(e){a=e.start,o=[],zr(e)})).box("traf",zr).R("trun",(function(e){var t=e.reader,n=e.version;e=e.flags;var r=t.H(),i=[],a=null;1&e&&(a=t.H()),4&e&&t.skip(4);for(var s=0;s<r;s++){var u={Ce:null,sampleSize:null,Be:null};256&e&&(u.Ce=t.H()),512&e&&(u.sampleSize=t.H()),1024&e&&t.skip(4),2048&e&&(u.Be=0==n?t.H():t.Ae()),i.push(u)}o.push({yg:r,$f:i,Ye:a})})).R("tfhd",(function(e){var n=e.reader;e=e.flags;var a=null,o=null,s=n.H();1&e&&n.Mb(),2&e&&n.skip(4),8&e&&(a=n.H()),16&e&&(o=n.H()),r=a||t.h,i=o||t.i,t.j.has(s)&&(u=t.j.get(s))})).R("tfdt",(function(e){s=$r(e.reader,e.version).baseMediaDecodeTime})).box("mdat",(function(e){if(null===s)throw q("Unable to find base media decode time for CEA captions!"),new Ye(2,2,2010);!function(e,t,n,r,i,a,o,s,u){var c=0,f=a,d=s.map((function(e){return e.$f}));for((d=[].concat.apply([],h(d))).length&&(f=d[0].sampleSize||a),t.skip(o+s[0].Ye);t.ea();){o=t.H();var p=t.Sa(),g=null;switch(g=!1,s=1,e.g){case ni:g=6==(g=31&p);break;case ri:s=2,t.skip(1),g=39==(g=p>>1&63)||40==g;break;default:return}if(g)for(p=0,c<d.length&&(p=d[c].Be||0),p=(n+p)/r,g=(s=l(Gr(t.$a(o-s)))).next();!g.done;g=s.next())u.push({packet:g.value,pts:p});else try{t.skip(o-s)}catch(m){break}0==(f-=o+4)&&(n=c<d.length?n+(d[c].Ce||i):n+i,f=++c<d.length&&d[c].sampleSize||a)}}(t,e.reader,s,u,r,i,a-e.start-8,o,n)})).parse(e,!1),n},H("shaka.cea.Mp4CeaParser",ei);var ti=0,ni=1,ri=2,ii={avc1:ni,avc3:ni,hev1:ri,hvc1:ri,dvh1:ri,dvhe:ri};function ai(e,t){this.g=e,this.h=t}function oi(e,t){var n=new ai(5,0),r=ci,i=r.g,a=n.h-i.h;(0<(n.g-i.g||a)?r.i:r.h)(r.g,n,e,t)}function si(e,t,n,r){q([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function ui(e,t,n,r){K([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(""))}ue["video/mp4"]=function(){return new ei},ai.prototype.toString=function(){return"v"+this.g+"."+this.h};var ci=null;function li(e){this.j=e,this.i=e.byteLength,this.g=this.h=0}function hi(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),r=Math.min(4,e.i);0!==r&&(n.set(e.j.subarray(t,t+r)),e.h=new Lr(n,0).H(),e.g=8*r,e.i-=r)}function fi(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,hi(e)}e.h<<=t,e.g-=t}function di(e,t){var n=Math.min(e.g,t),r=e.h>>>32-n;return e.g-=n,0<e.g?e.h<<=n:0<e.i&&hi(e),0<(n=t-n)?r<<n|di(e,n):r}function pi(e){var t;for(t=0;t<e.g;++t)if(0!=(e.h&2147483648>>>t))return e.h<<=t,e.g-=t,t;return hi(e),t+pi(e)}function gi(e){fi(e,1+pi(e))}function mi(e){return di(e,pi(e)+1)-1}function vi(e,t){for(var n=8,r=8,i=0;i<t;i++)0!==r&&(r=(n+(1&(r=mi(e))?1+r>>>1:-1*(r>>>1))+256)%256),n=0===r?n:r}function yi(e){return di(e,8),mi(e),mi(e)}function bi(){}function wi(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Ti(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Si(e,t){var n=(127&e[t])<<21;return n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]}function xi(e){var t={key:e.type,description:"",data:""};if("TXXX"===e.type){if(2>e.size||3!==e.data[0])return null;var n=e.data.subarray(1).indexOf(0);if(-1===n)return null;var r=Cr(re(e.data,1,n));return e=Cr(re(e.data,2+n)).replace(/\0*$/,""),t.description=r,t.data=e,t}return"WXXX"===e.type?2>e.size||3!==e.data[0]||-1===(n=e.data.subarray(1).indexOf(0))?null:(r=Cr(re(e.data,1,n)),e=Cr(re(e.data,2+n)).replace(/\0*$/,""),t.description=r,t.data=e,t):"PRIV"===e.type?2>e.size||-1===(r=e.data.indexOf(0))?null:(r=Cr(re(e.data,0,r)),t.description=r,"com.apple.streaming.transportStreamTimestamp"==r?(r=e.data.subarray(r.length+1),e=1&r[3],r=(r[4]<<23)+(r[5]<<15)+(r[6]<<7)+r[7],r/=45,e&&(r+=47721858.84),t.data=r):(e=ne(e.data.subarray(r.length+1)),t.data=e),t):"T"===e.type[0]?2>e.size||3!==e.data[0]?null:(e=Cr(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):"W"===e.type[0]?(e=Cr(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=ne(e.data),t):null}function Ei(e){for(var t=0,n=[];wi(e,t);){var r=Si(e,t+6);for(e[t+5]>>6&1&&(t+=10),r=(t+=10)+r;t+10<r;){var i=e.subarray(t),a=Si(i,4);(a=xi(i={type:String.fromCharCode(i[0],i[1],i[2],i[3]),size:a,data:i.subarray(10,10+a)}))&&n.push(a),t+=i.size+10}Ti(e,t)&&(t+=10)}return n}function Ai(e,t){for(var n=t=void 0===t?0:t,r=0;wi(e,t);)e[t+5]>>6&1&&(r+=10),r+=10,r+=Si(e,t+6),Ti(e,t+10)&&(r+=10),t+=r;return 0<r?e.subarray(n,n+r):new Uint8Array([])}function ki(){}function Ii(e){return e=re(e),e=Dr.value()(e),btoa(e)}function Ci(e,t){return t=null==t||t,e=Ii(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function _i(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}function Mi(t){for(var n=t.length/2,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.parseInt(t.substr(2*i,2),16);return r}function Ri(e){var t=re(e);e="";for(var n=(t=l(t)).next();!n.done;n=t.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),e+=n;return e}function Pi(){for(var e=D.apply(0,arguments),t=0,n=l(e),r=n.next();!r.done;r=n.next())t+=r.value.byteLength;for(t=new Uint8Array(t),n=0,r=(e=l(e)).next();!r.done;r=e.next())r=r.value,t.set(re(r),n),n+=r.byteLength;return t}function Di(){this.u=null,this.A=!1,this.m=this.o=null,this.i=[],this.s=this.j=null,this.g=[],this.l=null,this.h=[]}function Li(e){if(1!=(e[0]<<16|e[1]<<8|e[2]))return null;var t={data:new Uint8Array(0),Md:e[4]<<8|e[5],pts:null,dts:null};if(t.Md&&t.Md>e.byteLength-6)return null;var n=e[7];return 192&n&&(t.pts=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,t.dts=t.pts,64&n&&(t.dts=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)),n=e[8]+9,e.byteLength<=n?null:(t.data=e.subarray(n),t)}function Ni(e){return!(0>Oi(e))}function Oi(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71==e[n]&&71==e[n+188]&&71==e[n+376])return n;n++}return-1}H("shaka.util.ExpGolomb",li),H("shaka.util.Id3Utils",bi),bi.getID3Data=Ai,bi.getID3Frames=Ei,H("shaka.util.Uint8ArrayUtils",ki),ki.concat=Pi,ki.toHex=Ri,ki.fromHex=Mi,ki.fromBase64=_i,ki.toBase64=Ci,ki.toStandardBase64=Ii,(r=Di.prototype).clearData=function(){this.i=[],this.g=[],this.h=[]},r.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,Oi(e)),n=e.length-(e.length+t)%188,r=!1,i=t;i<n;i+=188)if(71==e[i]){var a=!!(64&e[i+1]),o=((31&e[i+1])<<8)+e[i+2];if(1<(48&e[i+3])>>4){var s=i+5+e[i+4];if(s==i+188)continue}else s=i+4;switch(o){case 0:a&&(s+=e[s]+1),this.u=(31&e[s+10])<<8|e[s+11];break;case 17:case 8191:break;case this.u:a&&(s+=e[s]+1),o={audio:-1,video:-1,rd:-1,audioCodec:"",videoCodec:""};var u=s+3+((15&(a=e)[s+1])<<8|a[s+2])-4;for(s+=12+((15&a[s+10])<<8|a[s+11]);s<u;){var c=(31&a[s+1])<<8|a[s+2],l=(15&a[s+3])<<8|a[s+4];switch(a[s]){case 6:if(-1==o.audio&&0<l)for(var h=s+5,f=l;2<f;){switch(a[h]){case 106:o.audio=c,o.audioCodec="ac3";break;case 122:o.audio=c,o.audioCodec="ec3"}var d=a[h+1]+2;h+=d,f-=d}break;case 15:-1==o.audio&&(o.audio=c,o.audioCodec="aac");break;case 21:-1==o.rd&&(o.rd=c);break;case 27:-1==o.video&&(o.video=c,o.videoCodec="avc");break;case 3:case 4:-1==o.audio&&(o.audio=c,o.audioCodec="mp3");break;case 36:-1==o.video&&(o.video=c,o.videoCodec="hvc");break;case 129:-1==o.audio&&(o.audio=c,o.audioCodec="ac3");break;case 132:case 135:-1==o.audio&&(o.audio=c,o.audioCodec="ec3")}s+=l+5}a=o,null==this.o&&(this.o=a.video,this.m=a.videoCodec),null==this.j&&(this.j=a.audio,this.s=a.audioCodec),null==this.l&&(this.l=a.rd),r&&!this.A&&(r=!1,i=t-188),this.A=!0;break;case this.o:s=e.subarray(s,i+188),a?this.i.push(s):this.i.length&&(a=this.i[this.i.length-1])&&(this.i[this.i.length-1]=Pi(a,s));break;case this.j:s=e.subarray(s,i+188),a?this.g.push(s):this.g.length&&(a=this.g[this.g.length-1])&&(this.g[this.g.length-1]=Pi(a,s));break;case this.l:s=e.subarray(s,i+188),a?this.h.push(s):this.h.length&&(a=this.h[this.h.length-1])&&(this.h[this.h.length-1]=Pi(a,s));break;default:r=!0}}return this},r.Nd=function(e,t){for(var n,r=e.pts?e.pts/9e4:null,i=e.data,a=i.byteLength,o=0,s=[],u=-1,c=0,l=!1,h=0;h<a;++h){var f=i[h];if(f){if(2<=o&&1==f&&l){if(0==(e=h-(3<o?3:o)))break;n.data=Pi(n.data,i.subarray(0,e)),n.La=Pi(n.La,i.subarray(0,e));break}if(2<=o&&1==f){if(0<=u&&(o=h-((3<o?3:o)+1),s.push({data:i.subarray(u+1,o+1),La:i.subarray(u,o+1),type:c,time:r})),h>=a-1)return s;u=++h,c=31&i[h]}o=0}else o++;h>=a-1&&0<=u&&0<=o&&(l?(n.data=Pi(n.data,i),n.La=Pi(n.La,i)):(l=!0,n={data:i.subarray(u+1,a),La:i.subarray(u,a),type:c,time:r},t&&0==e.Md&&(a=(i=t.data).byteLength,h=-1)))}return n&&s.push(n),s},r.getMetadata=function(){for(var e=[],t=l(this.h),n=t.next();!n.done;n=t.next())(n=Li(n.value))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:Ei(n.data),dts:n.dts,pts:n.pts});return e},r.jb=function(){for(var e=[],t=l(this.g),n=t.next();!n.done;n=t.next())(n=Li(n.value))&&e.push(n);return e},r.Jc=function(){for(var e=[],t=l(this.i),n=t.next();!n.done;n=t.next()){var r=Li(n=n.value);r&&null!=r.pts&&null!=r.dts?e.push(r):e.length&&(n=r?r.data:n)&&((r=e.pop()).data=Pi(r.data,n),e.push(r))}return e},r.getStartTime=function(){for(var e=null,t=l(this.jb()),n=t.next();!n.done;n=t.next()){var r=n.value;r&&null!=r.pts&&(r=Math.min(r.dts,r.pts)/9e4,null==e||e>r)&&(e=r)}for(t=null,n=(r=l(this.Jc())).next();!n.done;n=r.next())(n=n.value)&&null!=n.pts&&(n=Math.min(n.dts,n.pts)/9e4,null==t||t>n)&&(t=n);return{audio:e,video:t}},r.md=function(){return{audio:this.s,video:this.m}},r.qd=function(){var e=[];if("avc"!=this.m)return e;for(var t=this.Jc(),n=0;n<t.length;n++){var r=t[n],i=void 0;n+1<t.length&&(i=t[n+1]),e.push.apply(e,h(this.Nd(r,i)))}return e},r.Cf=function(){oi("TsParser","Please use getVideoInfo function instead.");var e=this.qe();return{height:e.height,width:e.width}},r.qe=function(){var e={height:null,width:null,Bc:null},t=this.qd();if(!t.length)return e;if(!(t=t.find((function(e){return 7==e.type}))))return e;var n=di(t=new li(t.data),8),r=di(t,8),i=di(t,8);if(gi(t),Bi.includes(n)){var a=mi(t);if(3===a&&fi(t,1),gi(t),gi(t),fi(t,1),1===di(t,1)){a=3!==a?8:12;for(var o=0;o<a;o++)1===di(t,1)&&vi(t,6>o?16:64)}}if(gi(t),0===(a=mi(t)))mi(t);else if(1===a)for(fi(t,1),gi(t),gi(t),a=mi(t),o=0;o<a;o++)gi(t);gi(t),fi(t,1),a=mi(t),o=mi(t);var s=di(t,1);0===s&&fi(t,1),fi(t,1);var u=0,c=0,l=0,h=0;return 1===di(t,1)&&(u=mi(t),c=mi(t),l=mi(t),h=mi(t)),e.height=String((2-s)*(o+1)*16-2*l-2*h),e.width=String(16*(a+1)-2*u-2*c),e.Bc="avc1."+("0"+n.toString(16).toUpperCase()).slice(-2)+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+i.toString(16).toUpperCase()).slice(-2),e},H("shaka.util.TsParser",Di),Di.syncOffset=Oi,Di.probe=Ni,Di.prototype.getVideoInfo=Di.prototype.qe,Di.prototype.getVideoResolution=Di.prototype.Cf,Di.prototype.getVideoNalus=Di.prototype.qd,Di.prototype.getCodecs=Di.prototype.md,Di.prototype.getStartTime=Di.prototype.getStartTime,Di.prototype.getVideoData=Di.prototype.Jc,Di.prototype.getAudioData=Di.prototype.jb,Di.prototype.getMetadata=Di.prototype.getMetadata,Di.prototype.parseAvcNalus=Di.prototype.Nd,Di.prototype.parse=Di.prototype.parse,Di.prototype.clearData=Di.prototype.clearData,Di.Timescale=9e4;var Bi=[100,110,122,244,44,83,86,118,128,138,139,134];function Ui(){}function ji(e){var t=this;this.h=[],this.g=[],this.data=[],(new Vr).box("moov",zr).box("moof",zr).R("pssh",(function(e){if(!(1<e.version)){var n=re(e.reader.h,-12,e.size);if(t.data.push(n),t.h.push(Ri(e.reader.$a(16))),0<e.version){n=e.reader.H();for(var r=0;r<n;r++){var i=Ri(e.reader.$a(16));t.g.push(i)}}}})).parse(e)}function Hi(e,t,n,r){var i=e.length,a=t.length+16+i;0<r&&(a+=4+16*n.size);var o=new Uint8Array(a),s=ie(o),u=0;if(s.setUint32(u,a),u+=4,s.setUint32(u,1886614376),u+=4,1>r?s.setUint32(u,0):s.setUint32(u,16777216),u+=4,o.set(t,u),u+=t.length,0<r)for(s.setUint32(u,n.size),u+=4,n=(t=l(n)).next();!n.done;n=t.next())n=Mi(n.value),o.set(n,u),u+=n.length;return s.setUint32(u,i),o.set(e,u+4),o}function Fi(e,t){return 1!=(e=Vi(e,t)).length?null:e[0]}function Gi(e,t,n){return 1!=(e=zi(e,t,n)).length?null:e[0]}function Vi(e,t){for(var n=[],r=(e=l(e.childNodes)).next();!r.done;r=e.next())(r=r.value)instanceof Element&&r.tagName==t&&n.push(r);return n}function zi(e,t,n){for(var r=[],i=(e=l(e.childNodes)).next();!i.done;i=e.next())(i=i.value)instanceof Element&&i.localName==n&&i.namespaceURI==t&&r.push(i);return r}function Ki(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function qi(e){return Array.from(e.childNodes).every(Wi)?e.textContent.trim():null}function Wi(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}function Xi(e,t,n,r){r=void 0===r?null:r;var i=null;return null!=(e=e.getAttribute(t))&&(i=n(e)),null==i?r:i}function Yi(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function Ji(e){return e&&(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function Zi(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function $i(e){return 0==(e=Number(e))%1?e:null}function Qi(e){return 0==(e=Number(e))%1&&0<e?e:null}function ea(e){return 0==(e=Number(e))%1&&0<=e?e:null}function ta(e){return e=Number(e),isNaN(e)?null:e}function na(e){return!!e&&"true"===e.toLowerCase()}function ra(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function ia(e,t){var n=new DOMParser,r=oa.value()(e);e=null;try{e=n.parseFromString(r,"text/xml")}catch(i){return null}if(!(n=e.documentElement)||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}function aa(e,t){try{return ia(Mr(e),t)}catch(n){return null}}Ui.prototype.init=function(){},Ui.prototype.parse=function(e){var t=[];if(!Ni(e=re(e)))return t;for(var n=(e=l(e=(new Di).parse(e).qd())).next();!n.done;n=e.next())if(6==(n=n.value).type&&null!=n.time)for(var r=l(Gr(n.data)),i=r.next();!i.done;i=r.next())t.push({packet:i.value,pts:n.time});return t},H("shaka.cea.TsCeaParser",Ui),ue["video/mp2t"]=function(){return new Ui},H("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3});var oa=new kr((function(){if("undefined"!=typeof trustedTypes){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(e){return e}});return function(t){return e.createHTML(t)}}return function(e){return e}}));function sa(e,t,n){var r=function(e){for(var t=[],n=(e=l(e)).next();!n.done;n=e.next())(n=ca(n.value))&&t.push(n);return t}(e),i=null;e=[];var a=[],o=new Set(r.map((function(e){return e.keyId})));if(o.delete(null),1<o.size)throw new Ye(2,4,4010);if(t||(a=r.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.Td||(i=e.init||i,!1)}))).length&&(e=function(e,t,n,r){for(var i=[],a=(t=l(t)).next();!a.done;a=t.next()){var o=n[(a=a.value).Td];if(o){var s;if(s=Gi(a.node,"urn:microsoft:playready","pro")){s=_i(s.textContent);var u=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);s=[{initData:Hi(s,u,new Set,0),initDataType:"cenc",keyId:a.keyId}]}else s=null;if(u=null,"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"===a.Td)if(0==(u=r).size)u=null;else{var c=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]);u=[{initData:Hi(new Uint8Array([]),c,u,1),initDataType:"cenc",keyId:a.keyId}]}s=tt(o,a.init||e||s||u),(o=ha.get(o))&&(s.licenseServerUri=o(a)),i.push(s)}}return i}(i,a,n,o),0==e.length&&(e=[tt("",i)])),r.length&&(t||!a.length))for(e=[],n=(t=l(Object.values(n))).next();!n.done;n=t.next())"org.w3.clearkey"!=(n=n.value)&&e.push(tt(n,i));if(o=Array.from(o)[0]||null)for(n=(t=l(e)).next();!n.done;n=t.next())for(r=(n=l(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=o;return{ke:o,vg:i,drmInfos:e,ne:!0}}function ua(e){var t=Gi(e.node,"https://dashif.org/CPS","Laurl");return t&&t.textContent?t.textContent:(e=Gi(e.node,"urn:microsoft:playready","pro"))?(e=function(e){var t=0,n=ie(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,0!=(1&i)||i+e>n.byteLength){n=[];break e}var a=re(n,e,i);t.push({type:r,value:a}),e+=i}n=t}return n}(e=_i(e.textContent)).filter((function(e){return e.type===la}))[0],e&&(e=ia(e=_r(e.value,!0),"WRMHEADER"))?function(e){for(var t=(e=l(e.getElementsByTagName("DATA"))).next();!t.done;t=e.next())for(var n=(t=l(t.value.childNodes)).next();!n.done;n=t.next())if((n=n.value)instanceof Element&&"LA_URL"==n.tagName)return n.textContent;return""}(e):""):""}function ca(e){var t=e.getAttribute("schemeIdUri"),n=Ki(e,"urn:mpeg:cenc:2013","default_KID"),r=zi(e,"urn:mpeg:cenc:2013","pssh").map(qi);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new Ye(2,4,4009);var i=[];try{i=r.map((function(e){return{initDataType:"cenc",initData:_i(e),keyId:null}}))}catch(a){throw new Ye(2,4,4007)}return{node:e,Td:t,keyId:n,init:0<i.length?i:null}}var la=1,ha=(new Map).set("com.widevine.alpha",(function(e){var t=Gi(e.node,"https://dashif.org/CPS","Laurl");return t&&t.textContent?t.textContent:(e=Gi(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",ua).set("com.microsoft.playready.recommendation",ua).set("com.microsoft.playready.software",ua).set("com.microsoft.playready.hardware",ua).set("org.w3.clearkey",(function(e){var t=Gi(e.node,"https://dashif.org/CPS","Laurl");return t&&t.textContent?t.textContent:(e=Gi(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&"EME-1.0"===e.getAttribute("Lic_type")&&e.textContent?e.textContent:""}));function fa(e,t){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4};this.l=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.j=null==e.baseDelay?n.baseDelay:e.baseDelay,this.o=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.m=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==t&&t)&&(this.g=1)}function da(e){var t,n;return P((function(r){if(1==r.g){if(e.g>=e.l){if(!e.i)throw new Ye(2,7,1010);e.g=1,e.h=e.j}return t=e.g,e.g++,0==t?r.return():(n=e.h*(1+(2*Math.random()-1)*e.o),T(r,new Promise((function(e){new Pt(e).V(n/1e3)})),2))}e.h*=e.m,S(r)}))}function pa(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function ga(e,t){this.promise=e,this.i=t,this.g=!1}function ma(e){return new ga(Promise.reject(e),(function(){return Promise.resolve()}))}function va(){var e=Promise.reject(new Ye(2,7,7001));return e.catch((function(){})),new ga(e,(function(){return Promise.resolve()}))}function ya(e){return new ga(Promise.resolve(e),(function(){return Promise.resolve()}))}function ba(e){return new ga(e,(function(){return e.catch((function(){}))}))}function wa(e){return new ga(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function Ta(t,n){if(n)if(n instanceof Map)for(var r=l(n.keys()),i=r.next();!i.done;i=r.next())i=i.value,Object.defineProperty(this,i,{value:n.get(i),writable:!0,enumerable:!0});else for(r in n)Object.defineProperty(this,r,{value:n[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function Sa(){this.ia=new Mt,this.Ke=this}function xa(e){var t=new Set;return function e(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(t.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;t.add(n);var i,a=r?[]:{};for(i in n)a[i]=e(n[i]);return r&&(a.length=n.length),a}}(e)}function Ea(e){var t,n={};for(t in e)n[t]=e[t];return n}function Aa(){this.g=[]}function ka(e,t){e.g.push(t.finally((function(){var n=e.g,r=n.indexOf(t);-1<r&&n.splice(r,1)})))}function Ia(e,t,n,r){Sa.call(this),this.i=!1,this.m=new Aa,this.g=new Set,this.h=new Set,this.l=e||null,this.j=t||null,this.s=n||null,this.u=r||null,this.o=!1}function Ca(e,t,n,r){n=n||La;var i=Na[e];(!i||n>=i.priority)&&(Na[e]={priority:n,Wc:t,Tf:void 0!==r&&r})}function _a(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:void 0===n?null:n}}function Ma(e,t,n,r,i,a,o){e.o&&(n.uris[i]=n.uris[i].replace("http://","https://"));var s=new Ne(n.uris[i]),u=s.za,c=!1;u||(Oe(s,u=(u=location.protocol).slice(0,-1)),n.uris[i]=s.toString()),u=u.toLowerCase();var l=(u=Na[u])?u.Wc:null;if(!l)return ma(new Ye(2,1,1e3,s));var h,f=u.Tf,d=null,p=null,g=!1,m=!1;return ba(da(r)).ka((function(){if(e.i)return va();h=Date.now();var r=l(n.uris[i],n,t,(function(n,r,i){d&&d.stop(),p&&p.V(s/1e3),e.l&&t==Da&&(e.l(n,r),c=!0,o.g=i)}),(function(r){e.j&&e.j(r,n,t),m=!0}));if(!f)return r;var a=n.retryParameters.connectionTimeout;a&&(d=new Pt((function(){g=!0,r.abort()}))).V(a/1e3);var s=n.retryParameters.stallTimeout;return s&&(p=new Pt((function(){g=!0,r.abort()}))),r})).ka((function(r){d&&d.stop(),p&&p.stop(),null==r.timeMs&&(r.timeMs=Date.now()-h);var i={response:r,Ef:c};return!m&&e.j&&e.j(r.headers,n,t),i}),(function(s){if(d&&d.stop(),p&&p.stop(),e.s){var u=null,c=0;s instanceof Ye&&(u=s,1001==s.code&&(c=s.data[1])),e.s(n,u,c,g)}if(e.i)return va();if(g&&(s=new Ye(1,1,1003,n.uris[i],t)),s instanceof Ye){if(7001==s.code)throw s;if(1010==s.code)throw a;if(1==s.severity)return u=new Ta("retry",u=(new Map).set("error",s)),e.dispatchEvent(u),i=(i+1)%n.uris.length,Ma(e,t,n,r,i,s,o)}throw s}))}function Ra(){this.g=0}function Pa(e,t,n){ga.call(this,e,t),this.h=n}pa.prototype.resolve=function(){},pa.prototype.reject=function(){},ga.prototype.abort=function(){return this.g=!0,this.i()},ga.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},ga.prototype.ka=function(e,t){function n(n){return function(s){if(i.g&&n)a.reject(o);else{var u=n?e:t;u?r=function(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}),(function(){}))})}catch(i){return n.reject(i),function(){return Promise.resolve()}}}(u,s,a):(n?a.resolve:a.reject)(s)}}}function r(){return a.reject(o),i.abort()}var i=this,a=new pa,o=new Ye(2,7,7001);return this.promise.then(n(!0),n(!1)),new ga(a,(function(){return r()}))},H("shaka.util.AbortableOperation",ga),ga.prototype.chain=ga.prototype.ka,ga.prototype.finally=ga.prototype.finally,ga.all=wa,ga.prototype.abort=ga.prototype.abort,ga.notAbortable=ba,ga.completed=ya,ga.aborted=va,ga.failed=ma,Ta.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Ta.prototype.stopImmediatePropagation=function(){this.g=!0},Ta.prototype.stopPropagation=function(){},H("shaka.util.FakeEvent",Ta),Sa.prototype.addEventListener=function(e,t){this.ia&&this.ia.push(e,t)},Sa.prototype.removeEventListener=function(e,t){this.ia&&this.ia.remove(e,t)},Sa.prototype.dispatchEvent=function(e){if(!this.ia)return!0;var t=this.ia.get(e.type)||[],n=this.ia.get("All");for(n&&(t=t.concat(n)),n=(t=l(t)).next();!n.done;n=t.next()){n=n.value,e.target=this.Ke,e.currentTarget=this.Ke;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(r){}if(e.g)break}return e.defaultPrevented},Sa.prototype.release=function(){this.ia=null},Aa.prototype.destroy=function(){for(var e=[],t=l(this.g),n=t.next();!n.done;n=t.next())(n=n.value).promise.catch((function(){})),e.push(n.abort());return this.g=[],Promise.all(e)},v(Ia,Sa),(r=Ia.prototype).Vd=function(e){this.o=e},r.Uf=function(e){this.g.add(e)},r.jg=function(e){this.g.delete(e)},r.Ve=function(){this.g.clear()},r.Vf=function(e){this.h.add(e)},r.kg=function(e){this.h.delete(e)},r.We=function(){this.h.clear()},r.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),Sa.prototype.release.call(this),this.m.destroy()},r.request=function(e,t,n){var r=this,i=new Ra;if(this.i){var a=Promise.reject(new Ye(2,7,7001));return a.catch((function(){})),new Pa(a,(function(){return Promise.resolve()}),i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?xa(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},t.uris=xa(t.uris),a=function(e,t,n,r){function i(e){a=a.ka((function(){return n.body&&(n.body=ne(n.body)),e(t,n,r)}))}var a=ya(void 0);e.u&&i(e.u);for(var o=(e=l(e.g)).next();!o.done;o=e.next())i(o.value);return a.ka(void 0,(function(e){if(e instanceof Ye&&7001==e.code)throw e;throw new Ye(2,1,1006,e)}))}(this,e,t,n);var o=a.ka((function(){return Ma(r,e,t,new fa(t.retryParameters,!1),0,null,i)})),s=o.ka((function(t){return function(e,t,n,r){for(var i=ya(void 0),a={},o=(e=l(e.h)).next();!o.done;a={dd:a.dd},o=e.next())a.dd=o.value,i=i.ka(function(e){return function(){var i=n.response;return i.data&&(i.data=ne(i.data)),e.dd(t,i,r)}}(a));return i.ka((function(){return n}),(function(e){var t=2;if(e instanceof Ye){if(7001==e.code)throw e;t=e.severity}throw new Ye(t,1,1007,e)}))}(r,e,t,n)})),u=Date.now(),c=0;a.promise.then((function(){c=Date.now()-u}),(function(){}));var h=0;o.promise.then((function(){h=Date.now()}),(function(){}));var f=s.ka((function(n){var i=Date.now()-h,a=n.response;return a.timeMs+=c,a.timeMs+=i,n.Ef||!r.l||a.fromCache||"HEAD"==t.method||e!=Da||r.l(a.timeMs,a.data.byteLength),a}),(function(e){throw e&&(e.severity=2),e}));return a=new Pa(f.promise,(function(){return f.abort()}),i),ka(this.m,a),a},H("shaka.net.NetworkingEngine",Ia),Ia.prototype.request=Ia.prototype.request,Ia.prototype.destroy=Ia.prototype.destroy,Ia.makeRequest=_a,Ia.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},Ia.prototype.clearAllResponseFilters=Ia.prototype.We,Ia.prototype.unregisterResponseFilter=Ia.prototype.kg,Ia.prototype.registerResponseFilter=Ia.prototype.Vf,Ia.prototype.clearAllRequestFilters=Ia.prototype.Ve,Ia.prototype.unregisterRequestFilter=Ia.prototype.jg,Ia.prototype.registerRequestFilter=Ia.prototype.Uf,Ia.unregisterScheme=function(e){delete Na[e]},Ia.registerScheme=Ca,Ia.prototype.setForceHTTPS=Ia.prototype.Vd,Ia.NumBytesRemainingClass=Ra,v(Pa,ga),Ia.PendingRequest=Pa;var Da=1;Ia.RequestType={MANIFEST:0,SEGMENT:Da,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6},Ia.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5};var La=3;Ia.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:La};var Na={};function Oa(t,n,r,i,a){var o={RepresentationID:n,Number:r,Bandwidth:i,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,n,r,i){if("$$"==t)return"$";var a=o[n];if(null==a)return t;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&(a=Math.round(a)),i){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return r=e.parseInt(r,10)||1,Array(Math.max(0,r-t.length)+1).join("0")+t}))}function Ba(e,t){var n=Ua(e,t,"timescale"),r=1;n&&(r=Qi(n)||1);var i=Ua(e,t,"duration");n=Qi(i||""),"image"==e.G.contentType&&(n=ta(i||"")),n&&(n/=r);var a=Ua(e,t,"startNumber");i=Number(Ua(e,t,"presentationTimeOffset"))||0;var o=ea(a||"");if(null!=a&&null!=o||(o=1),a=ja(e,t,"SegmentTimeline"),t=null,a){t=r,e=e.U.duration||1/0,a=Vi(a,"S");for(var s=[],u=-i,c=0;c<a.length;++c){var l=a[c],h=a[c+1],f=Xi(l,"t",ea),d=Xi(l,"d",ea);if(l=Xi(l,"r",$i),null!=f&&(f-=i),!d)break;if(f=null!=f?f:u,0>(l=l||0))if(h){if(null==(h=Xi(h,"t",ea)))break;if(f>=h)break;l=Math.ceil((h-f)/d)-1}else{if(1/0==e)break;if(f/t>=e)break;l=Math.ceil((e*t-f)/d)-1}for(0<s.length&&f!=u&&(s[s.length-1].end=f/t),h=0;h<=l;++h)u=f+d,s.push({start:f/t,end:u/t,be:f}),f=u}t=s}return{timescale:r,fa:n,Pb:o,Ta:i/r||0,ae:i,timeline:t}}function Ua(e,t,n){return[t(e.G),t(e.$),t(e.ba)].filter(Qe).map((function(e){return e.getAttribute(n)})).reduce((function(e,t){return e||t}))}function ja(e,t,n){return[t(e.G),t(e.$),t(e.ba)].filter(Qe).map((function(e){return Fi(e,n)})).reduce((function(e,t){return e||t}))}function Ha(e,t,n,r,i,a){if(a=void 0===a?0:a,Ki(e,"http://www.w3.org/1999/xlink","href")){var o=function(e,t,n,r,i,a){for(var o=Ki(e,"http://www.w3.org/1999/xlink","href"),s=Ki(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=l(Array.from(e.attributes)),c=u.next();!c.done;c=u.next())"http://www.w3.org/1999/xlink"==(c=c.value).namespaceURI&&e.removeAttributeNS(c.namespaceURI,c.localName);if(5<=a)return ma(new Ye(2,4,4028));if("onLoad"!=s)return ma(new Ye(2,4,4027));var h=et([r],[o]);return i.request(0,_a(h,t)).ka((function(r){if(!(r=aa(r.data,e.tagName)))return ma(new Ye(2,4,4001,o));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),e.appendChild(s)}for(s=(r=l(Array.from(r.attributes))).next();!s.done;s=r.next())e.setAttributeNode(s.value.cloneNode(!1));return Ha(e,t,n,h[0],i,a+1)}))}(e,t,n,r,i,a);return n&&(o=o.ka(void 0,(function(){return Ha(e,t,n,r,i,a)}))),o}o=[];for(var s=l(Array.from(e.childNodes)),u=s.next();!u.done;u=s.next())(u=u.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==Ki(u,"http://www.w3.org/1999/xlink","href")?e.removeChild(u):"SegmentTimeline"!=u.tagName&&o.push(Ha(u,t,n,r,i,a)));return wa(o).ka((function(){return e}))}function Fa(e,t,n,r,i,a){this.Oa=e,this.j=t,this.i=n,this.Cd=void 0===r?null:r,this.timescale=void 0===i?null:i,this.g=void 0===a?null:a}function Ga(e,t,n,r,i,a,o,s,u,c,l,h,f,d,p){c=void 0===c?[]:c,d=void 0===d?Va:d,this.startTime=e,this.l=this.endTime=t,this.O=n,this.j=r,this.i=i,this.g=a,this.m=o,this.L=s,this.K=u,this.h=c,this.tilesLayout=void 0===l?"":l,this.I=void 0===h?null:h,this.D=void 0===f?null:f,this.status=d,this.u=!1,this.s=!0,this.A=!1,this.C=void 0===p?null:p,this.F=null,this.o=0}Fa.prototype.ic=function(){return this.j},Fa.prototype.ec=function(){return this.i},H("shaka.media.InitSegmentReference",Fa),Fa.prototype.getEndByte=Fa.prototype.ec,Fa.prototype.getStartByte=Fa.prototype.ic,(r=Ga.prototype).Oa=function(){return this.O()},r.getStartTime=function(){return this.startTime},r.gf=function(){return this.endTime},r.ic=function(){return this.j},r.ec=function(){return this.i},r.Af=function(){return this.tilesLayout},r.zf=function(){return this.I},r.jc=function(){return this.status},r.Mf=function(){this.status=za},r.Lf=function(){this.u=!0},r.If=function(){return this.u},r.Kf=function(){this.s=!1},r.Hf=function(){return this.s},r.Jf=function(){this.A=!0},r.Ff=function(){return this.A},r.Ie=function(e){this.F=e},r.xf=function(){return this.F},r.offset=function(e){this.startTime+=e,this.endTime+=e,this.l+=e;for(var t=l(this.h),n=t.next();!n.done;n=t.next())(n=n.value).startTime+=e,n.endTime+=e,n.l+=e},r.hg=function(e){null==this.D?K("Sync attempted without sync time!"):(e=this.D-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},H("shaka.media.SegmentReference",Ga),Ga.prototype.syncAgainst=Ga.prototype.hg,Ga.prototype.offset=Ga.prototype.offset,Ga.prototype.getThumbnailSprite=Ga.prototype.xf,Ga.prototype.setThumbnailSprite=Ga.prototype.Ie,Ga.prototype.hasByterangeOptimization=Ga.prototype.Ff,Ga.prototype.markAsByterangeOptimization=Ga.prototype.Jf,Ga.prototype.isIndependent=Ga.prototype.Hf,Ga.prototype.markAsNonIndependent=Ga.prototype.Kf,Ga.prototype.isPreload=Ga.prototype.If,Ga.prototype.markAsPreload=Ga.prototype.Lf,Ga.prototype.markAsUnavailable=Ga.prototype.Mf,Ga.prototype.getStatus=Ga.prototype.jc,Ga.prototype.getTileDuration=Ga.prototype.zf,Ga.prototype.getTilesLayout=Ga.prototype.Af,Ga.prototype.getEndByte=Ga.prototype.ec,Ga.prototype.getStartByte=Ga.prototype.ic,Ga.prototype.getEndTime=Ga.prototype.gf,Ga.prototype.getStartTime=Ga.prototype.getStartTime,Ga.prototype.getUris=Ga.prototype.Oa;var Va=0,za=1;function Ka(e,t,n,r,i,a,o){var s,u=(new Vr).R("sidx",(function(e){s=function(e,t,n,r,i,a,o){var s=[];o.reader.skip(4);var u=o.reader.H();if(0==u)throw new Ye(2,3,3005);if(0==o.version)var c=o.reader.H(),l=o.reader.H();else c=o.reader.Mb(),l=o.reader.Mb();o.reader.skip(2);var h=o.reader.ab();for(e=e+o.size+l,l=0;l<h;l++){var f=o.reader.H(),d=(2147483648&f)>>>31;f&=2147483647;var p=o.reader.H();if(o.reader.skip(4),1==d)throw new Ye(2,3,3006);s.push(new Ga(c/u+n,(c+p)/u+n,(function(){return a}),e,e+f-1,t,n,r,i)),c+=p,e+=f}return o.parser.stop(),s}(t,r,i,a,o,n,e)}));if(e&&u.parse(e),s)return s;throw new Ye(2,3,3004)}function qa(e){this.g=e,this.l=null,this.i=0,this.m=!1}function Wa(e,t,n){return new qa([new Ga(e,e+t,(function(){return n}),0,null,null,e,e,e+t)])}function Xa(e,t,n){this.i=e,this.g=t,this.h=n}function Ya(){qa.call(this,[]),this.h=[]}function Ja(e){this.h=ie(e),this.g=new Lr(this.h,0)}function Za(e){var t=$a(e);if(7<t.length)throw new Ye(2,3,3002);for(var n=0,r=(t=l(t)).next();!r.done;r=t.next())n=256*n+r.value;t=$a(e);e:{for(var i=(r=l(Qa)).next();!i.done;i=r.next())if(ee(t,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)t=e.h.byteLength-e.g.aa();else{if(8==t.length&&224&t[1])throw new Ye(2,3,3001);for(i=r=0;i<t.length;i++){var a=t[i];r=0==i?a&(1<<8-t.length)-1:256*r+a}t=r}return t=e.g.aa()+t<=e.h.byteLength?t:e.h.byteLength-e.g.aa(),r=ie(e.h,e.g.aa(),t),e.g.skip(t),new eo(n,r)}function $a(e){var t=e.g.aa(),n=e.g.Sa();if(0==n)throw new Ye(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),re(e.h,t,n)}Ga.Status={og:Va,sg:za,qg:2},(r=qa.prototype).fc=function(){return this.g.length},r.release=function(){this.m||(this.g=[],this.l&&this.l.stop(),this.l=null)},r.Nf=function(){this.m=!0},r.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var r=this.g[n],i=n<t?this.g[n+1].startTime:r.endTime;if(e>=r.startTime&&e<i)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},r.get=function(e){return 0==this.g.length||0>(e-=this.i)||e>=this.g.length?null:this.g[e]},r.offset=function(e){if(!this.m)for(var t=l(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},r.Qc=function(e){if(!this.m&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter((function(e){return Math.round(1e3*e.startTime)/1e3<t})),this.g.push.apply(this.g,h(e))}},r.Rc=function(e,t){var n=this;e=e.filter((function(e){return e.endTime>t&&(0==n.g.length||e.endTime>n.g[0].startTime)})),this.Qc(e),this.Ka(t)},r.Ka=function(e){if(!this.m){var t=this.g.length;this.g=this.g.filter((function(t){return t.endTime>e})),this.i+=t-this.g.length}},r.dc=function(e,t,n){if(n=void 0!==n&&n,!this.m){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;0!=this.g.length&&(e=this.g[this.g.length-1],this.g[this.g.length-1]=new Ga(e.startTime,t,e.O,e.j,e.i,e.g,e.m,e.L,e.K,e.h,e.tilesLayout,e.I,e.D,e.status,e.C),this.g[this.g.length-1].o=e.o)}},r.Yc=function(e,t){var n=this;this.m||(this.l&&this.l.stop(),this.l=new Pt((function(){var e=t();e?n.g.push.apply(n.g,h(e)):(n.l.stop(),n.l=null)})),this.l.sa(e))},qa.prototype[Symbol.iterator]=function(){return this.kb(0)},qa.prototype.kb=function(e){var t=this.find(e);if(null==t)return null;t--;var n=this.get(t+1),r=-1;if(n&&0<n.h.length)for(var i=n.h.length-1;0<=i;--i){var a=n.h[i];if(e>=a.startTime&&e<a.endTime){for(;i&&!a.s;)i--,a=n.h[i];if(!a.s)return K("No independent partial segment found!"),null;t++,r=i-1;break}}return new Xa(this,t,r)},H("shaka.media.SegmentIndex",qa),qa.forSingleSegment=Wa,qa.prototype.getIteratorForTime=qa.prototype.kb,qa.prototype.updateEvery=qa.prototype.Yc,qa.prototype.fit=qa.prototype.dc,qa.prototype.evict=qa.prototype.Ka,qa.prototype.mergeAndEvict=qa.prototype.Rc,qa.prototype.offset=qa.prototype.offset,qa.prototype.get=qa.prototype.get,qa.prototype.find=qa.prototype.find,qa.prototype.markImmutable=qa.prototype.Nf,qa.prototype.release=qa.prototype.release,Xa.prototype.Xe=function(){return this.g},Xa.prototype.current=function(){var e=this.i.get(this.g);return e&&0<e.h.length&&e.Oa().length&&this.h>=e.h.length&&(this.g++,this.h=0,e=this.i.get(this.g)),e&&0<e.h.length?e.h[this.h]:e},Xa.prototype.next=function(){var e=this.i.get(this.g);return e&&0<e.h.length?(this.h++,e.Oa().length&&this.h==e.h.length&&(this.g++,this.h=0)):(this.g++,this.h=0),{value:e=this.current(),done:!e}},H("shaka.media.SegmentIterator",Xa),Xa.prototype.next=Xa.prototype.next,Xa.prototype.current=Xa.prototype.current,Xa.prototype.currentPosition=Xa.prototype.Xe,v(Ya,qa),(r=Ya.prototype).clone=function(){var e=new Ya;return e.h=this.h.slice(),e},r.release=function(){for(var e=l(this.h),t=e.next();!t.done;t=e.next())t.value.release();this.h=[]},r.find=function(e){for(var t=0,n=l(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).find(e);if(null!=i)return i+t;t+=r.i+r.g.length}return null},r.get=function(e){for(var t=0,n=l(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).get(e-t);if(i)return i;t+=r.i+r.g.length}return null},r.offset=function(){},r.Qc=function(){},r.Ka=function(){},r.Rc=function(){},r.dc=function(){},r.Yc=function(){},H("shaka.media.MetaSegmentIndex",Ya),Ya.prototype.updateEvery=Ya.prototype.Yc,Ya.prototype.fit=Ya.prototype.dc,Ya.prototype.mergeAndEvict=Ya.prototype.Rc,Ya.prototype.evict=Ya.prototype.Ka,Ya.prototype.merge=Ya.prototype.Qc,Ya.prototype.offset=Ya.prototype.offset,Ya.prototype.get=Ya.prototype.get,Ya.prototype.find=Ya.prototype.find,Ya.prototype.release=Ya.prototype.release,Ja.prototype.ea=function(){return this.g.ea()};var Qa=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function eo(e,t){this.id=e,this.g=t}function to(e){if(8<e.g.byteLength)throw new Ye(2,3,3002);if(8==e.g.byteLength&&224&e.g.getUint8(0))throw new Ye(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){t=256*t+e.g.getUint8(n)}return t}function no(e){var t=new Ja(e.g);if(179!=(e=Za(t)).id)throw new Ye(2,3,3013);if(e=to(e),183!=(t=Za(t)).id)throw new Ye(2,3,3012);t=new Ja(t.g);for(var n=0;t.ea();){var r=Za(t);if(241==r.id){n=to(r);break}}return{lg:e,Wf:n}}function ro(e,t){if(!(t=ja(e,t,"Initialization")))return null;var n=e.G.ta,r=t.getAttribute("sourceURL");r&&(n=et(e.G.ta,[r])),r=0;var i=null;return(t=Xi(t,"range",Zi))&&(r=t.start,i=t.end),new Fa((function(){return n}),r,i,co(e))}function io(e,t){var n=Number(Ua(e,oo,"presentationTimeOffset"))||0,r=Ua(e,oo,"timescale"),i=1;r&&(i=Qi(r)||1);var a=n/i||0,o=ro(e,oo);!function(e,t){if(uo(e,t),!so(e))throw new Ye(2,4,4002)}(e,o);var s=Ea(e);return{Eb:function(){var e=ja(s,oo,"RepresentationIndex"),n=s.G.ta;return e&&(e=e.getAttribute("sourceURL"))&&(n=et(s.G.ta,[e])),e=so(s),ao(s,t,o,n,e.start,e.end,a)}}}function ao(e,t,n,r,i,a,o){var s,u,c,l,h,f,d,p,g,m,v,y,b,w,S;return P((function(x){if(1==x.g)return s=e.presentationTimeline,u=!e.Ya||!e.U.sd,c=e.U.start,l=e.U.duration,h=e.G.mimeType.split("/")[1],d=null,p=[(f=t)(r,i,a,!1),"webm"==h?f(n.Oa(),n.j,n.i,!0):null],f=null,T(x,Promise.all(p),2);if(g=x.h,m=g[0],v=g[1]||null,null,b=c-o,w=c,S=l?c+l:1/0,"mp4"==h)var E=Ka(m,i,r,n,b,w,S);else{if(440786851!=Za(E=new Ja(v)).id)throw new Ye(2,3,3008);var A=Za(E);if(408125543!=A.id)throw new Ye(2,3,3009);E=A.g.byteOffset,A=new Ja(A.g);for(var k=null;A.ea();){var I=Za(A);if(357149030==I.id){k=I;break}}if(!k)throw new Ye(2,3,3010);for(k=new Ja(k.g),I=1e6,A=null;k.ea();){var C=Za(k);if(2807729==C.id)I=to(C);else if(17545==C.id)if(4==C.g.byteLength)A=C.g.getFloat32(0);else{if(8!=C.g.byteLength)throw new Ye(2,3,3003);A=C.g.getFloat64(0)}}if(null==A)throw new Ye(2,3,3011);if(A*=k=I/1e9,475249515!=(I=Za(new Ja(m))).id)throw new Ye(2,3,3007);E=function(e,t,n,r,i,a,o,s,u){function c(){return i}var l=[];e=new Ja(e.g);for(var h=null,f=null;e.ea();){var d=Za(e);if(187==d.id){var p=no(d);p&&(d=n*p.lg,p=t+p.Wf,null!=h&&l.push(new Ga(h+o,d+o,c,f,p-1,a,o,s,u)),h=d,f=p)}}return null!=h&&l.push(new Ga(h+o,r+o,c,f,null,a,o,s,u)),l}(I,E,k,A,r,n,b,w,S)}return y=E,s.Hd(y),d=new qa(y),u&&d.dc(w,S,!0),x.return(d)}))}function oo(e){return e.sc}function so(e){var t=ja(e,oo,"RepresentationIndex");return e=Zi((e=Ua(e,oo,"indexRange"))||""),t&&(e=Xi(t,"range",Zi,e)),e}function uo(e,t){var n=e.G.mimeType.split("/")[1];if(e.G.contentType!=it&&"mp4"!=n&&"webm"!=n)throw new Ye(2,4,4006);if("webm"==n&&!t)throw new Ye(2,4,4005)}function co(e){var t=e.G;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.Tc,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null}}function lo(e,t){var n=ro(e,ho),r=function(e){var t=function(e){return[e.G.bb,e.$.bb,e.ba.bb].filter(Qe).map((function(e){return Vi(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.getAttribute("indexRange")&&!e.se&&(e.se=!0),{Of:t.getAttribute("media"),start:(t=Xi(t,"mediaRange",Zi,{start:0,end:null})).start,end:t.end}}))}(e);e=Ba(e,ho);var n=e.Pb;0==n&&(n=1);var r=0;return e.fa?r=e.fa*(n-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{fa:e.fa,startTime:r,Pb:n,Ta:e.Ta,timeline:e.timeline,Jb:t}}(e);if(!r.fa&&!r.timeline&&1<r.Jb.length)throw new Ye(2,4,4002);if(!r.fa&&!e.U.duration&&!r.timeline&&1==r.Jb.length)throw new Ye(2,4,4002);if(r.timeline&&0==r.timeline.length)throw new Ye(2,4,4002);var i=null,a=null;e.ba.id&&e.G.id&&(a=t[e.ba.id+","+e.G.id])&&(i=a.segmentIndex);var o=function(e,t,n,r,i){var a=r.Jb.length;r.timeline&&r.timeline.length!=r.Jb.length&&(a=Math.min(r.timeline.length,r.Jb.length));for(var o=e-r.Ta,s=t?e+t:1/0,u=[],c=r.startTime,l={},h=0;h<a;l={Vb:l.Vb,Tb:l.Tb},h++){l.Tb=r.Jb[h];var f=void 0;f=null!=r.fa?c+r.fa:r.timeline?r.timeline[h].end:c+t,l.Vb=null,u.push(new Ga(e+c,e+f,function(e){return function(){return null==e.Vb&&(e.Vb=et(n,[e.Tb.Of])),e.Vb}}(l),l.Tb.start,l.Tb.end,i,o,e,s)),c=f}return u}(e.U.start,e.U.duration,e.G.ta,r,n);return t=!i,i?i.Rc(o,e.presentationTimeline.mb()):i=new qa(o),e.presentationTimeline.Hd(o),e.Ya&&e.U.sd||i.dc(e.U.start,e.U.duration?e.U.start+e.U.duration:1/0,t),a&&(a.segmentIndex=i),{Eb:function(){return i&&0!=i.fc()||i.Qc(o),Promise.resolve(i)}}}function ho(e){return e.bb}function fo(e,t,n,r,i,a){var o=function(e){var t=Ua(e,po,"initialization");if(!t)return null;var n=e.G.id,r=e.bandwidth||null,i=e.G.ta;return new Fa((function(){var e=Oa(t,n,null,r,null);return et(i,[e])}),0,null,co(e))}(e),s=function(e){var t=Ba(e,po),n=Ua(e,po,"media");return e=Ua(e,po,"index"),{fa:t.fa,timescale:t.timescale,Pb:t.Pb,Ta:t.Ta,ae:t.ae,timeline:t.timeline,Dd:n,lc:e}}(e);!function(e){var t=e.lc?1:0;if(t+=e.timeline?1:0,t+=e.fa?1:0,0==t)throw new Ye(2,4,4002);if(1!=t&&(e.lc&&(e.timeline=null),e.fa=null),!e.lc&&!e.Dd)throw new Ye(2,4,4002)}(s);var u=Ea(e);if(s.lc)return uo(e,o),{Eb:function(){var e=Oa(s.lc,u.G.id,null,u.bandwidth||null,null);return e=et(u.G.ta,[e]),ao(u,t,o,e,0,null,s.Ta)}};if(s.fa)return r||"image"===e.$.contentType||(e.presentationTimeline.Gd(s.fa),e.presentationTimeline.Sc(e.U.start)),{Eb:function(){return function(e,t,n,r,i){function a(e){var n=(e-p)*d,i=n+t.Ta,a=n+c;return n=a+d,(a=new Ga(a,Math.min(n,s()),(function(){var t=Oa(m,y,e,v,i*g);return et(b,[t])}),0,null,r,w,c,s())).l=n,a}function o(){var e=[Math.max(u.mb(),c),Math.min(u.lb(),s())].map((function(e){return e-c}));return[Math.ceil(e[0]/d),Math.ceil(e[1]/d)-1].map((function(e){return e+p}))}function s(){var e=null!=h&&i[h]||f;return e?c+e:1/0}var u=e.presentationTimeline,c=e.U.start,h=e.ba.id,f=e.U.duration,d=t.fa,p=t.Pb,g=t.timescale,m=t.Dd,v=e.bandwidth||null,y=e.G.id,b=e.G.ta,w=c-t.Ta,T=o();e=e.Ya?Math.max(T[0],T[1]-n+1):T[0],T=T[1],n=[];for(var S=e;S<=T;++S){var x=a(S);n.push(x)}var E=new qa(n);if(n=u.lb()<s(),S=u.T(),n||S){var A=Math.max(e,T+1);E.Yc(d,(function(){var e=u.mb();E.Ka(e);var t=l(o());t.next(),t=t.next().value;for(var n=[];A<=t;){var r=a(A);n.push(r),A++}return e>s()&&!n.length?null:n}))}return Promise.resolve(E)}(u,s,i,o,a)}};var c=null;r=r=null,e.ba.id&&e.G.id&&(r=n[r=e.ba.id+","+e.G.id])&&(c=r.segmentIndex);var h=e.U.start,f=e.U.duration?h+e.U.duration:1/0,d=!(e.Ya&&e.U.sd);return c?(mo(n=c,s,h,f,d),n.Ka(e.presentationTimeline.mb())):c=new go(s,e.G.id,e.bandwidth,e.G.ta,h,f,o,d),s.timeline&&"image"!==e.$.contentType&&e.presentationTimeline.ye(s.timeline,h),r&&e.Ya&&(r.segmentIndex=c),{Eb:function(){return c instanceof go&&0==c.fc()&&mo(c,s,h,f,d),Promise.resolve(c)}}}function po(e){return e.tc}function go(e,t,n,r,i,a,o,s){qa.call(this,[]),this.h=e,this.C=t,this.s=n,this.u=r,this.j=i,this.o=a,this.A=o,s&&vo(this)}function mo(e,t,n,r,i){if(e.h){var a=(n=e.h.timeline)[n.length-1];0<(t=t.timeline.filter((function(e){return e.start>=a.end}))).length&&e.h.timeline.push.apply(e.h.timeline,h(t)),e.o!==r&&(e.o=r)}else e.h=t,e.j=n,e.o=r;i&&vo(e)}function vo(e){if(!e.m){for(var t=e.h.timeline;t.length&&t[t.length-1].start>=e.o;)t.pop();e.Ka(e.j),0!==t.length&&1/0!==e.o&&(t[t.length-1].end=e.o-e.j)}}function yo(){}function bo(e,t,n){var r,i,a;return P((function(o){return 1==o.g?((r=_a([e],n)).method="HEAD",T(o,t.request(0,r).promise,2)):(i=o.h,a=i.headers["content-type"],o.return(a?a.toLowerCase().split(";").shift():""))}))}function wo(e){return 1==(e=new Ne(e).va.split("/").pop().split(".")).length?"":e.pop().toLowerCase()}v(go,qa),(r=go.prototype).fc=function(){return this.h?this.h.timeline.length:0},r.release=function(){qa.prototype.release.call(this),this.h=null},r.Ka=function(e){if(this.h){for(var t=0,n=this.h.timeline,r=0;r<n.length&&n[r].end+this.j<=e;r+=1)t+=1;0<t&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.i+=t,0===this.fc()&&this.release())}},r.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var t=this.h.timeline;if(e<this.j||e>this.o)return null;for(var n=t.length-1,r=0;r<t.length;r++){var i=t[r],a=i.start+this.j;if(i=i.end+this.j,r<n&&(i=t[r+1].start+this.j),e>=a&&e<i)return r+this.i}return null},r.get=function(e){var t=this,n=e-this.i;if(0>n||n>=this.fc()||!this.h)return null;var r=this.g[n];if(!r){r=this.h.timeline[n];var i=e+this.h.Pb,a=this.h.ae+r.be;r=new Ga(this.j+r.start,this.j+r.end,(function(){return t.h?function(e,t,n,r,i,a){return e=Oa(e,t,n,r||null,i),et(a,[e]).map((function(e){return e.toString()}))}(t.h.Dd,t.C,i,t.s,a,t.u):[]}),0,null,this.A,this.j-this.h.Ta,this.j,this.o),this.g[n]=r}return r},H("shaka.media.ManifestParser",yo),yo.unregisterParserByMime=function(e){delete To[e]},yo.registerParserByMime=function(e,t){To[e]=t},yo.registerParserByExtension=function(e,t){So[e]=t},yo.AccessibilityPurpose={tg:"visually impaired",pg:"hard of hearing"};var To={},So={};function xo(e,t,n){this.i=e,this.u=t,this.o=this.j=1/0,this.g=1,this.h=this.l=null,this.m=0,this.C=!0,this.D=0,this.s=void 0===n||n,this.F=0,this.A=!1}function Eo(e,t,n,r,i){return e=_a(e,r,i),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Ao(e){this.g=!1,this.h=new pa,this.i=e}function ko(e,t){if(e.g){if(t instanceof Ye&&7003==t.code)throw t;throw new Ye(2,7,7003,t)}}function Io(){this.g=new Mt}function Co(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.g=function(e,t){if(null==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!n.has(e)})),function(e){var t=_o;if(null==t){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch(i){t=!1}_o=t}return t||!1}(e)?t:t.capture||!1}(e,r),this.target.addEventListener(t,n,this.g)}(r=xo.prototype).getDuration=function(){return this.j},r.pf=function(){return this.g},r.eg=function(e){this.i=e},r.Va=function(e){this.j=e},r.uf=function(){return this.i},r.He=function(e){this.m=e},r.Yd=function(e){this.C=e},r.Xd=function(e){this.o=e},r.cg=function(e){this.u=e},r.ff=function(){return this.u},r.ye=function(e,t){if(0!=e.length){var n=e[e.length-1].end+t;this.Sc(e[0].start+t),this.g=e.reduce((function(e,t){return Math.max(e,t.end-t.start)}),this.g),this.h=Math.max(this.h,n),null!=this.i&&this.s&&!this.A&&(this.i=(Date.now()+this.m)/1e3-this.h-this.g)}},r.Hd=function(e){if(0!=e.length){for(var t=e[0].startTime,n=e[0].endTime,r=(Date.now()+this.m)/1e3,i=(e=l(e)).next();!i.done;i=e.next())r<(i=i.value).startTime||(t=Math.min(t,i.startTime),n=Math.max(n,i.endTime),this.g=Math.max(this.g,i.endTime-i.startTime));this.Sc(t),this.h=Math.max(this.h,n),null!=this.i&&this.s&&!this.A&&(this.i=r-this.h-this.g)}},r.zd=function(){this.A=!0},r.Sc=function(e){this.l=null==this.l?e:Math.min(this.l,e)},r.Gd=function(e){this.g=Math.max(this.g,e)},r.offset=function(e){null!=this.l&&(this.l+=e),null!=this.h&&(this.h+=e)},r.T=function(){return 1/0==this.j&&!this.C},r.Hb=function(){return 1/0!=this.j&&!this.C},r.mb=function(){return Math.max(this.D,this.lb()-this.o)},r.Je=function(e){this.D=e},r.lb=function(){return this.T()||this.Hb()?Math.min(Math.max(0,(Date.now()+this.m)/1e3-this.g-this.i)+this.F,this.j):this.h?Math.min(this.h,this.j):this.j},r.hc=function(e){var t=Math.max(this.l,this.D);return 1/0==this.o?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.lb()-this.o+e,this.Na()))},r.Fb=function(){return this.hc(0)},r.Na=function(){return Math.max(0,this.lb()-(this.T()||this.Hb()?this.u:0))},r.Oe=function(){return!(null==this.i||null!=this.h&&this.s)},r.Ge=function(e){this.F=e},H("shaka.media.PresentationTimeline",xo),xo.prototype.setAvailabilityTimeOffset=xo.prototype.Ge,xo.prototype.usingPresentationStartTime=xo.prototype.Oe,xo.prototype.getSeekRangeEnd=xo.prototype.Na,xo.prototype.getSeekRangeStart=xo.prototype.Fb,xo.prototype.getSafeSeekRangeStart=xo.prototype.hc,xo.prototype.getSegmentAvailabilityEnd=xo.prototype.lb,xo.prototype.setUserSeekStart=xo.prototype.Je,xo.prototype.getSegmentAvailabilityStart=xo.prototype.mb,xo.prototype.isInProgress=xo.prototype.Hb,xo.prototype.isLive=xo.prototype.T,xo.prototype.offset=xo.prototype.offset,xo.prototype.notifyMaxSegmentDuration=xo.prototype.Gd,xo.prototype.notifyMinSegmentStartTime=xo.prototype.Sc,xo.prototype.lockStartTime=xo.prototype.zd,xo.prototype.notifySegments=xo.prototype.Hd,xo.prototype.notifyTimeRange=xo.prototype.ye,xo.prototype.getDelay=xo.prototype.ff,xo.prototype.setDelay=xo.prototype.cg,xo.prototype.setSegmentAvailabilityDuration=xo.prototype.Xd,xo.prototype.setStatic=xo.prototype.Yd,xo.prototype.setClockOffset=xo.prototype.He,xo.prototype.getPresentationStartTime=xo.prototype.uf,xo.prototype.setDuration=xo.prototype.Va,xo.prototype.setPresentationStartTime=xo.prototype.eg,xo.prototype.getMaxSegmentDuration=xo.prototype.pf,xo.prototype.getDuration=xo.prototype.getDuration,Ao.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then((function(){e.h.resolve()}),(function(){e.h.resolve()})))},(r=Io.prototype).release=function(){this.Nb(),this.g=null},r.J=function(e,t,n,r){this.g&&(e=new Co(e,t,n,r),this.g.push(t,e))},r.oa=function(e,t,n,r){var i=this;this.J(e,t,(function r(a){i.uc(e,t,r),n(a)}),r)},r.uc=function(e,t,n){if(this.g)for(var r=this.g.get(t)||[],i=(r=l(r)).next();!i.done;i=r.next())(i=i.value).target!=e||n!=i.listener&&n||(i.uc(),this.g.remove(t,i))},r.Nb=function(){if(this.g){var e,t=this.g,n=[];for(e in t.g)n.push.apply(n,h(t.g[e]));for(n=(t=l(n)).next();!n.done;n=t.next())n.value.uc();this.g.g={}}},H("shaka.util.EventManager",Io),Io.prototype.removeAll=Io.prototype.Nb,Io.prototype.unlisten=Io.prototype.uc,Io.prototype.listenOnce=Io.prototype.oa,Io.prototype.listen=Io.prototype.J,Io.prototype.release=Io.prototype.release,Co.prototype.uc=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var _o=void 0;function Mo(e){for(var t=new Map,n=l(Object.keys(e)),r=n.next();!r.done;r=n.next())r=r.value,t.set(r,e[r]);return t}function Ro(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function Po(e,t){if(!e&&!t)return!0;if(e&&!t||t&&!e)return!1;if(e.size!=t.size)return!1;for(var n=(e=l(e)).next();!n.done;n=e.next()){var r=l(n.value);if(n=r.next().value,r=r.next().value,!t.has(n))return!1;if((n=t.get(n))!=r||null==n)return!1}return!0}function Do(e,t){var n=this;t=void 0===t?1:t,this.C=e,this.F=new Set,this.m=this.s=null,this.ha=!1,this.I=0,this.g=null,this.u=new Io,this.i=new Map,this.A=new Map,this.l=new pa,this.h=null,this.o=function(t){2==t.severity&&n.l.reject(t),e.onError(t)},this.P=new Map,this.ia=new Map,this.W=new Pt((function(){return function(e){var t=e.P,n=e.ia;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),t=Array.from(n.values()),t.length&&t.every((function(e){return"expired"==e}))&&e.o(new Ye(2,6,6014)),e.C.ze(Ro(n))}(n)})),this.ca=!1,this.L=[],this.O=!1,this.ja=new Pt((function(){!function(e){e.i.forEach((function(t,n){var r=t.Jd,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.C.onExpirationUpdated(n.sessionId,i),t.Jd=i)}))}(n)})).sa(t),this.l.catch((function(){})),this.j=new Ao((function(){return function(e){return P((function(t){switch(t.g){case 1:return e.u.release(),e.u=null,e.l.reject(),e.ja.stop(),e.ja=null,e.W.stop(),e.W=null,T(t,Go(e),2);case 2:if(!e.m){t.B(3);break}return x(t,4),T(t,e.m.setMediaKeys(null),6);case 6:E(t,5);break;case 4:A(t);case 5:e.m=null;case 3:e.g=null,e.F.clear(),e.s=null,e.A=new Map,e.h=null,e.o=function(){},e.C=null,e.Z=!1,e.D=null,S(t)}}))}(n)})),this.Z=!1,this.K=this.D=null}function Lo(t,n,r){t.A=new Map;for(var i=(r=l(r)).next();!i.done;i=r.next())t.A.set(i.value,{initData:null,initDataType:null});for(i=(r=l(t.h.persistentSessionsMetadata)).next();!i.done;i=r.next())i=i.value,t.A.set(i.sessionId,{initData:i.initData,initDataType:i.initDataType});return t.ca=0<t.A.size,function(t,n){var r,i,a,o,s,u,c,h,f,d,p,g,m,v,y;return P((function(b){if(1==b.g){if(r=function(t){if(t=Mo(t.h.clearKeys),0==t.size)return null;var n=[],r=[];t.forEach((function(e,t){var i=t;22!=i.length&&(i=Ci(Mi(t),!1)),22!=(t=e).length&&(t=Ci(Mi(e),!1)),e={kty:"oct",kid:i,k:t},n.push(e),r.push(e.kid)})),t=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:re(Rr(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:i,keyIds:new Set(r)}}(t))for(i=l(n),a=i.next();!a.done;a=i.next())(o=a.value).video&&(o.video.drmInfos=[r]),o.audio&&(o.audio.drmInfos=[r]);for((s=n.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})))||(u=Mo(t.h.servers),function(e,t){var n=[];for(t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})})),e=l(e),t=e.next();!t.done;t=e.next())(t=t.value).video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}(n,u)),c=new Set,h=l(n),a=h.next();!a.done;a=h.next())for(f=a.value,d=zo(f),p=l(d),g=p.next();!g.done;g=p.next())m=g.value,c.add(m);for(v=l(c),g=v.next();!g.done;g=v.next())Wo(g.value,Mo(t.h.servers),Mo(t.h.advanced||{}),t.h.keySystemsMapping);return T(b,en(n,t.ca,t.Z,t.h.preferredKeySystems),2)}return s||Object.keys(t.h.servers).length?(y=function(e,t){var n,r,i,a,o,s,u,c,h,f,d,p,g,m;return P((function(v){switch(v.g){case 1:if(n=new Map,t.length){r=function(e,t,n){for(var r=l(t),i=r.next();!i.done;i=r.next()){var a=l(zo(i.value));for(i=a.next();!i.done;i=a.next())i=i.value,n.has(i.keySystem)||n.set(i.keySystem,[]),n.get(i.keySystem).push(i)}if(1==n.size&&n.has(""))throw new Ye(2,6,6e3);for(r={},e=l(e.h.preferredKeySystems),i=e.next();!i.done;r={cd:r.cd},i=e.next())for(r.cd=i.value,a=l(t),i=a.next();!i.done;i=a.next())if(i=i.value.decodingInfos.find(function(e){return function(t){return t.supported&&null!=t.keySystemAccess&&t.keySystemAccess.keySystem==e.cd}}(r)))return i.keySystemAccess;for(e=l([!0,!1]),i=e.next();!i.done;i=e.next())for(r=i.value,a=l(t),i=a.next();!i.done;i=a.next()){var o=l(i.value.decodingInfos);for(i=o.next();!i.done;i=o.next()){var s=i.value;if(s.supported&&s.keySystemAccess){var u=l(i=n.get(s.keySystemAccess.keySystem));for(i=u.next();!i.done;i=u.next())if(!!i.value.licenseServerUri==r)return s.keySystemAccess}}}return null}(e,t,n),v.B(2);break}return T(v,function(e){var t,n,r,i,a,o,s,u,c,h,f,d,p,g,m;return P((function(v){switch(v.g){case 1:if(1==(void 0).size&&(void 0).has(""))throw new Ye(2,6,6e3);for(n=l((void 0).values()),r=n.next();!r.done;r=n.next())0==(i=r.value).audioCapabilities.length&&delete i.audioCapabilities,0==i.videoCapabilities.length&&delete i.videoCapabilities;a=l(e.h.preferredKeySystems),o=a.next();case 2:if(o.done){v.B(4);break}if(s=o.value,!(void 0).has(s)){v.B(3);break}return u=(void 0).get(s),x(v,6),T(v,navigator.requestMediaKeySystemAccess(s,[u]),8);case 8:return t=v.h,v.return(t);case 6:A(v);case 7:ko(e.j);case 3:o=a.next(),v.B(2);break;case 4:c=l([!0,!1]),h=c.next();case 9:if(h.done){v.B(11);break}f=h.value,d=l((void 0).keys()),o=d.next();case 12:if(o.done){h=c.next(),v.B(9);break}if(p=o.value,g=(void 0).get(p),m=g.drmInfos.some((function(e){return!!e.licenseServerUri})),m!=f){v.B(13);break}return x(v,15),T(v,navigator.requestMediaKeySystemAccess(p,[g]),17);case 17:return t=v.h,v.return(t);case 15:A(v);case 16:ko(e.j);case 13:o=d.next(),v.B(12);break;case 11:return v.return(t)}}))}(e),3);case 3:r=v.h;case 2:if(!(i=r))throw new Ye(2,6,6001);for(ko(e.j),x(v,4),e.F.clear(),a=i.getConfiguration(),o=a.audioCapabilities||[],s=a.videoCapabilities||[],u=l(o),c=u.next();!c.done;c=u.next())h=c.value,e.F.add(h.contentType.toLowerCase());for(f=l(s),c=f.next();!c.done;c=f.next())d=c.value,e.F.add(d.contentType.toLowerCase());if(t.length){var y=i.keySystem,b=n.get(i.keySystem),w=[],S=[],k=[],I=[],C=new Set;qo(b,w,k,S,I,C);var _=e.ca?"persistent-license":"temporary";for(y={keySystem:y,licenseServerUri:w[0],distinctiveIdentifierRequired:b[0].distinctiveIdentifierRequired,persistentStateRequired:b[0].persistentStateRequired,sessionType:b[0].sessionType||_,audioRobustness:b[0].audioRobustness||"",videoRobustness:b[0].videoRobustness||"",serverCertificate:k[0],serverCertificateUri:S[0],initData:I,keyIds:C},w=(b=l(b)).next();!w.done;w=b.next())(w=w.value).distinctiveIdentifierRequired&&(y.distinctiveIdentifierRequired=w.distinctiveIdentifierRequired),w.persistentStateRequired&&(y.persistentStateRequired=w.persistentStateRequired);b=y}else b=i.keySystem,y=(void 0).get(i.keySystem),w=[],S=[],k=[],I=[],C=new Set,qo(y.drmInfos,w,k,S,I,C),b={keySystem:b,licenseServerUri:w[0],distinctiveIdentifierRequired:"required"==y.distinctiveIdentifier,persistentStateRequired:"required"==y.persistentState,sessionType:y.sessionTypes[0]||"temporary",audioRobustness:(y.audioCapabilities?y.audioCapabilities[0].robustness:"")||"",videoRobustness:(y.videoCapabilities?y.videoCapabilities[0].robustness:"")||"",serverCertificate:k[0],serverCertificateUri:S[0],initData:I,keyIds:C};if(e.g=b,!e.g.licenseServerUri)throw new Ye(2,6,6012,e.g.keySystem);return T(v,i.createMediaKeys(),6);case 6:if(p=v.h,ko(e.j),e.s=p,""==e.h.minHdcpVersion||!("getStatusForPolicy"in e.s)){v.B(7);break}return x(v,8),T(v,e.s.getStatusForPolicy({minHdcpVersion:e.h.minHdcpVersion}),10);case 10:if("usable"!=v.h)throw new Ye(2,6,6018);ko(e.j),E(v,7,4);break;case 8:if((g=A(v,4))instanceof Ye)throw g;throw new Ye(2,6,6019,g.message);case 7:return e.ha=!0,T(v,function(e){var t,n;return P((function(r){switch(r.g){case 1:if(!e.s||!e.g)return r.return();if(!e.g.serverCertificateUri||e.g.serverCertificate&&e.g.serverCertificate.length){r.B(2);break}return t=_a([e.g.serverCertificateUri],e.h.retryParameters),x(r,3),T(r,e.C.mc.request(5,t).promise,5);case 5:n=r.h,e.g.serverCertificate=re(n.data),E(r,4);break;case 3:throw new Ye(2,6,6017,A(r));case 4:if(e.j.g)return r.return();case 2:return e.g.serverCertificate&&e.g.serverCertificate.length?(x(r,6),T(r,e.s.setServerCertificate(e.g.serverCertificate),8)):r.return();case 8:E(r,0);break;case 6:throw new Ye(2,6,6004,A(r).message)}}))}(e),11);case 11:ko(e.j),E(v,0);break;case 4:if(m=A(v),ko(e.j,m),e.g=null,e.F.clear(),m instanceof Ye)throw m;throw new Ye(2,6,6002,m.message)}}))}(t,n),b.return(s?y:y.catch((function(){})))):(t.ha=!0,b.return(Promise.resolve()))}))}(t,n)}function No(e){var t;return P((function(n){switch(n.g){case 1:if(e.m.mediaKeys)return n.return();if(!e.D){n.B(2);break}return T(n,e.D,3);case 3:return ko(e.j),n.return();case 2:return x(n,4),e.D=e.m.setMediaKeys(e.s),T(n,e.D,6);case 6:E(n,5);break;case 4:t=A(n),e.o(new Ye(2,6,6003,t.message));case 5:ko(e.j),S(n)}}))}function Oo(e,t,n){if(n.length){for(var r=e.i.values(),i=(r=l(r)).next();!i.done;i=r.next())if(ee(n,i.value.initData)&&!Gt("Tizen 2"))return;0<e.i.size&&Ko(e)&&(e.l.resolve(),e.l=new pa,e.l.catch((function(){}))),function(e,t,n,r){try{var i=e.s.createSession(r)}catch(a){return void e.o(new Ye(2,6,6005,a.message))}e.u.J(i,"message",(function(t){e.m&&e.h.delayLicenseRequestUntilPlayed&&e.m.paused&&!e.O?e.L.push(t):Ho(e,t)})),e.u.J(i,"keystatuseschange",(function(t){return Fo(e,t)})),e.i.set(i,{initData:n,initDataType:t,loaded:!1,Jd:1/0,cb:null,type:r});try{n=e.h.initDataTransform(n,t,e.g)}catch(a){return t=a,a instanceof Ye||(t=new Ye(2,6,6016,a)),void e.o(t)}e.h.logLicenseExchange&&Ci(n),i.generateRequest(t,n).catch((function(t){if(!e.j.g){e.i.delete(i);var n=t.errorCode;if(n&&n.systemCode){var r=n.systemCode;0>r&&(r+=Math.pow(2,32)),r="0x"+r.toString(16)}e.o(new Ye(2,6,6006,t.message,t,r))}}))}(e,t,n,e.g.sessionType)}}function Bo(e){return!!e&&!!e.match(/^com\.(microsoft|chromecast)\.playready/)}function Uo(e){Ko(e)&&e.l.resolve()}function jo(e,t){new Pt((function(){t.loaded=!0,Uo(e)})).V(Yo)}function Ho(e,t){var n,r,i,a,o,s,u,c,h,f,d,p;P((function(g){switch(g.g){case 1:if(n=t.target,e.h.logLicenseExchange&&Ci(t.message),r=e.i.get(n),i=e.g.licenseServerUri,a=e.h.advanced[e.g.keySystem],"individualization-request"==t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(o=_a([i],e.h.retryParameters)).body=t.message,o.method="POST",o.licenseRequestType=t.messageType,o.sessionId=n.sessionId,o.drmInfo=e.g,r&&(o.initData=r.initData,o.initDataType=r.initDataType),Bo(e.g.keySystem)){var m=_r(o.body,!0,!0);if(m.includes("PlayReadyKeyMessage")){for(var v=l((m=ia(m,"PlayReadyKeyMessage")).getElementsByTagName("HttpHeader")),y=v.next();!y.done;y=v.next())y=y.value,o.headers[y.getElementsByTagName("name")[0].textContent]=y.getElementsByTagName("value")[0].textContent;o.body=_i(m.getElementsByTagName("Challenge")[0].textContent)}else o.headers["Content-Type"]="text/xml; charset=utf-8"}return s=Date.now(),x(g,2),T(g,e.C.mc.request(2,o).promise,4);case 4:u=g.h,E(g,3);break;case 2:return c=A(g),h=new Ye(2,6,6007,c),e.o(h),r&&r.cb&&r.cb.reject(h),g.return();case 3:return e.j.g?g.return():(e.I+=(Date.now()-s)/1e3,e.h.logLicenseExchange&&Ci(u.data),x(g,5),T(g,n.update(u.data),7));case 7:E(g,6);break;case 5:return f=A(g),d=new Ye(2,6,6008,f.message),e.o(d),r&&r.cb&&r.cb.reject(d),g.return();case 6:if(e.j.g)return g.return();p=new Ta("drmsessionupdate"),e.C.onEvent(p),r&&(r.cb&&r.cb.resolve(),jo(e,r)),S(g)}}))}function Fo(e,t){t=t.target;var n=e.i.get(t),r=!1;t.keyStatuses.forEach((function(t,i){if("string"==typeof i){var a=i;i=t,t=a}if(Bo(e.g.keySystem)&&16==i.byteLength&&(Nt()||Ht())){var o=(a=ie(i)).getUint32(0,!0),s=a.getUint16(4,!0),u=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,u,!1)}"status-pending"!=t&&(n.loaded=!0),"expired"==t&&(r=!0),i=Ri(i).slice(0,32),e.P.set(i,t)}));var i=t.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.cb&&(e.i.delete(t),t.close().catch((function(){}))),Ko(e)&&(e.l.resolve(),e.W.V(Jo))}function Go(e){var t;return P((function(n){return t=Array.from(e.i.entries()),e.i.clear(),T(n,Promise.all(t.map((function(t){var n=(t=l(t)).next().value,r=t.next().value;return P((function(t){return 1==t.g?(x(t,2),e.A.has(n.sessionId)||"persistent-license"!==r.type||e.h.persistentSessionOnlinePlayback?T(t,function(e){var t;return P((function(n){return 1==n.g?(t=new Promise((function(e,t){new Pt(t).V(Xo)})),x(n,2),T(n,Promise.race([Promise.all([e.close(),e.closed]),t]),4)):2!=n.g?E(n,0):(A(n),void S(n))}))}(n),5):T(t,n.remove(),5)):2!=t.g?E(t,0):(A(t),void S(t))}))}))),0)}))}function Vo(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=(e=l(e)).next();!r.done;r=e.next()){r=r.value;for(var i={},a=l(t),o=a.next();!o.done;i={ya:i.ya},o=a.next())if(o=o.value,r.keySystem==o.keySystem){i.ya=[],i.ya=i.ya.concat(r.initData||[]),i.ya=i.ya.concat(o.initData||[]),i.ya=i.ya.filter(function(e){return function(t,n){return void 0===t.keyId||n===e.ya.findIndex((function(e){return e.keyId===t.keyId}))}}(i)),a=r.keyIds&&o.keyIds?new Set([].concat(h(r.keyIds),h(o.keyIds))):r.keyIds||o.keyIds,n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||o.persistentStateRequired,videoRobustness:r.videoRobustness||o.videoRobustness,audioRobustness:r.audioRobustness||o.audioRobustness,serverCertificate:r.serverCertificate||o.serverCertificate,serverCertificateUri:r.serverCertificateUri||o.serverCertificateUri,initData:i.ya,keyIds:a});break}}return n}function zo(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function Ko(e){return function(e,t){for(var n=(e=l(e)).next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}(e=e.i.values(),(function(e){return e.loaded}))}function qo(e,t,n,r,i,a){for(var o={},s=(e=l(e)).next();!s.done;o={ma:o.ma},s=e.next()){if(o.ma=s.value,t.includes(o.ma.licenseServerUri)||t.push(o.ma.licenseServerUri),r.includes(o.ma.serverCertificateUri)||r.push(o.ma.serverCertificateUri),o.ma.serverCertificate&&(n.some(function(e){return function(t){return ee(t,e.ma.serverCertificate)}}(o))||n.push(o.ma.serverCertificate)),o.ma.initData){s={};for(var u=l(o.ma.initData),c=u.next();!c.done;s={wc:s.wc},c=u.next())s.wc=c.value,i.some(function(e){return function(t){var n=e.wc;return!(!t.keyId||t.keyId!=n.keyId)||t.initDataType==n.initDataType&&ee(t.initData,n.initData)}}(s))||i.push(s.wc)}if(o.ma.keyIds)for(u=(s=l(o.ma.keyIds)).next();!u.done;u=s.next())a.add(u.value)}}function Wo(t,n,r,i){var a=t.keySystem;!a||"org.w3.clearkey"==a&&t.licenseServerUri||(n.size&&(n=n.get(a)||"",t.licenseServerUri=n),t.keyIds||(t.keyIds=new Set),(r=r.get(a))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=r.persistentStateRequired),t.videoRobustness||(t.videoRobustness=r.videoRobustness),t.audioRobustness||(t.audioRobustness=r.audioRobustness),t.serverCertificate||(t.serverCertificate=r.serverCertificate),r.sessionType&&(t.sessionType=r.sessionType),t.serverCertificateUri||(t.serverCertificateUri=r.serverCertificateUri)),i[a]&&(t.keySystem=i[a]),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==a&&(t.keySystem="com.chromecast.playready"))}(r=Do.prototype).destroy=function(){return this.j.destroy()},r.configure=function(e){this.h=e},r.Xb=function(e){var t=this;return P((function(n){if(1==n.g)return t.s?(t.m=e,t.u.oa(t.m,"play",(function(){for(var e=l(t.L),n=e.next();!n.done;n=e.next())Ho(t,n.value);t.O=!0,t.L=[]})),"webkitCurrentPlaybackTargetIsWireless"in t.m&&t.u.J(t.m,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return Go(t)})),t.K=t.g&&t.g.initData.find((function(e){return 0<e.initData.length}))||null,t.K||"com.apple.fps"!==t.g.keySystem||t.A.size?T(n,No(t),2):n.B(2)):(t.u.oa(e,"encrypted",(function(){t.o(new Ye(2,6,6010))})),n.return());(function(e){var t,n,r,i;return P((function(a){if(1==a.g)return e.A.size?(e.A.forEach((function(t,n){!function(e,t,n){var r,i,a,o,s,u,c;P((function(l){switch(l.g){case 1:try{r=e.s.createSession("persistent-license")}catch(h){return i=new Ye(2,6,6005,h.message),e.o(i),l.return(Promise.reject(i))}return e.u.J(r,"message",(function(t){e.m&&e.h.delayLicenseRequestUntilPlayed&&e.m.paused&&!e.O?e.L.push(t):Ho(e,t)})),e.u.J(r,"keystatuseschange",(function(t){return Fo(e,t)})),a={initData:n.initData,initDataType:n.initDataType,loaded:!1,Jd:1/0,cb:null,type:"persistent-license"},e.i.set(r,a),x(l,2),T(l,r.load(t),4);case 4:return o=l.h,ko(e.j),o||(e.i.delete(r),s=e.h.persistentSessionOnlinePlayback?1:2,e.o(new Ye(s,6,6013)),a.loaded=!0),jo(e,a),Uo(e),l.return(r);case 2:u=A(l),ko(e.j,u),e.i.delete(r),c=e.h.persistentSessionOnlinePlayback?1:2,e.o(new Ye(c,6,6005,u.message)),a.loaded=!0,Uo(e);case 3:return l.return(Promise.resolve())}}))}(e,n,t)})),T(a,e.l,3)):a.B(2);if(2!=a.g){if(0<(e.g&&e.g.keyIds||new Set([])).size&&function(e){for(var t=l(e.g&&e.g.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if("usable"!==e.P.get(n.value))return!1;return!0}(e))return a.return(e.l);e.l=new pa,e.l.catch((function(){}))}for(t=(e.g?e.g.initData:[])||[],n=l(t),r=n.next();!r.done;r=n.next())i=r.value,Oo(e,i.initDataType,i.initData);return t.length||e.l.resolve(),a.return(e.l)}))})(t).catch((function(){})),t.K||t.A.size||t.h.parseInbandPsshEnabled||t.u.J(t.m,"encrypted",(function(e){return function(e,t){return P((function(n){if(1==n.g)return T(n,No(e),2);Oo(e,t.initDataType,re(t.initData)),S(n)}))}(t,e)})),S(n)}))},r.ld=function(){var e=this,t=this.i.keys();return t=function(e,t){for(var n=[],r=(e=l(e)).next();!r.done;r=e.next())n.push(t(r.value));return n}(t,(function(t){var n=e.i.get(t);return{sessionId:t.sessionId,sessionType:n.type,initData:n.initData,initDataType:n.initDataType}})),Array.from(t)},r.nd=function(){for(var e=1/0,t=this.i.keys(),n=(t=l(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},r.Fc=function(){return Ro(this.ia)};var Xo=1,Yo=5,Jo=.5,Zo=new kr((function(){return ne(new Uint8Array([0]))}));function $o(){this.j=[],this.g=[],this.i=[],this.l=[],this.h=[],this.m=new Set}function Qo(e,t,n){var r,i,a,o,s,u,c,h,f,d,p,g,m,v,y,b,w,S,x=rs,E=is;return P((function(A){switch(A.g){case 1:for(r=at,i=[],a=0;a<t.length;a++)a>=n?i.push(new Set(t[a])):i.push(new Set);o=l(e),s=o.next();case 2:if(s.done){A.B(4);break}return T(A,function(e,t,n,r,i){return P((function(a){return 1==a.g?(as(t,e),e.matchedStreams?e.segmentIndex?T(a,es(e,n),2):a.B(2):a.return(!1)):(ns(e,n,r,i),a.return(!0))}))}(s.value,t,n,E,i),5);case 5:if(!A.h)throw new Ye(2,4,4037);s=o.next(),A.B(2);break;case 4:for(u=l(i),c=u.next();!c.done;c=u.next())for(h=c.value,f=l(h),d=f.next();!d.done;d=f.next())p=d.value,(g=ts(p,t,x,E,i))&&e.push(g);for(m=l(i),c=m.next();!c.done;c=m.next())for(v=c.value,y={},b=l(v),d=b.next();!d.done;y={Xa:y.Xa},d=b.next())if(y.Xa=d.value,w=y.Xa.type==r.da&&!y.Xa.language,S=y.Xa.type==r.fd&&!y.Xa.tilesLayout,!w&&!S&&e.some(function(e){return function(t){return t.mimeType==e.Xa.mimeType&&ht(t.codecs)==ht(e.Xa.codecs)}}(y)))throw new Ye(2,4,4037);return A.return(e)}}))}function es(e,t){var n,r,i,a,o,s,u;return P((function(c){if(1==c.g){for(n=[],r=e.matchedStreams,i=l(r),a=i.next();!a.done;a=i.next())o=a.value,n.push(o.createSegmentIndex()),o.trickModeVideo&&!o.trickModeVideo.segmentIndex&&n.push(o.trickModeVideo.createSegmentIndex());return T(c,Promise.all(n),2)}if(e.segmentIndex instanceof Ya)for(s=t;s<r.length;s++)(u=r[s]).segmentIndex&&e.segmentIndex.h.push(u.segmentIndex);S(c)}))}function ts(e,t,n,r,i){var a=n(e);return as(t,a),a.createSegmentIndex&&(a.createSegmentIndex=function(){return P((function(e){return a.segmentIndex?e.B(0):(a.segmentIndex=new Ya,T(e,es(a,0),0))}))}),a.matchedStreams&&a.matchedStreams.length?(ns(a,0,r,i),a):null}function ns(e,t,n,r){for(var i=e.matchedStreams,a=0;a<i.length;a++)if(a>=t){var o=i[a];n(e,o);var s=!0;"audio"==e.type&&0==At(e.language,o.language)&&(s=!1),s&&r[a].delete(o)}}function rs(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var e=l(t.matchedStreams),n=e.next();!n.done;n=e.next())(n=n.value).segmentIndex&&(n.segmentIndex.release(),n.segmentIndex=null)},t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set,t.closedCaptions=null,t.trickModeVideo=null,t}function is(e,t){var n,r;e.roles=Array.from(new Set(e.roles.concat(t.roles))),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=Array.from(new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris)))),e.keyIds=(n=e.keyIds,r=t.keyIds,new Set([].concat(h(n),h(r)))),null==e.originalId?e.originalId=t.originalId:e.originalId+=","+(t.originalId||"");var i=Vo(e.drmInfos,t.drmInfos);if(t.drmInfos.length&&e.drmInfos.length&&!i.length)throw new Ye(2,4,4038);if(e.drmInfos=i,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var a=(i=l(t.closedCaptions)).next();!a.done;a=i.next()){var o=l(a.value);a=o.next().value,o=o.next().value,e.closedCaptions.set(a,o)}}t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=rs(t.trickModeVideo),e.trickModeVideo.createSegmentIndex=function(){return e.trickModeVideo.segmentIndex=e.segmentIndex.clone(),Promise.resolve()}),is(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&is(e.trickModeVideo,t)}function as(e,t){for(var n=[],r=(e=l(e)).next();!r.done;r=e.next()){for(var i=t,a={audio:os,video:os,text:ss,image:us}[i.type],o={audio:cs,video:ls,text:hs,image:fs}[i.type],s=null,u=(r=l(r.value)).next();!u.done;u=r.next())!a(i,u=u.value)||s&&!o(i,s,u)||(s=u);if(!(i=s))return;n.push(i)}t.matchedStreams=n}function os(e,t){function n(e){if(!bs.has(e)){var t=ht(e);bs.set(e,t)}return bs.get(e)}return!(t.mimeType!=e.mimeType||n(t.codecs)!=n(e.codecs)||e.drmInfos&&!function(e,t){return!e.length||!t.length||e===t||0<Vo(e,t).length}(e.drmInfos,t.drmInfos))}function ss(e,t){return!!e.language&&(!t.language||0!=At(e.language,t.language)&&t.kind==e.kind)}function us(e){return!!e.tilesLayout}function cs(e,t,n){if(e.id==n.id)return!0;var r=At(e.language,t.language),i=At(e.language,n.language);return i>r||!(i<r)&&(e.roles.length?(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length||!(i.length<r.length)&&n.roles.length<t.roles.length):!(n.roles.length||!t.roles.length)||!(n.roles.length&&!t.roles.length)&&(!(t.primary||!n.primary)||!(t.primary&&!n.primary)&&((r=ps(e.channelsCount,t.channelsCount,n.channelsCount))==ms||r!=ys&&((r=ps(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate))==ms||r!=ys&&!(!e.bandwidth||gs(e.bandwidth,t.bandwidth,n.bandwidth)!=ms)))))}function ls(e,t,n){if(e.id==n.id)return!0;var r=ps(e.width*e.height,t.width*t.height,n.width*n.height);if(r==ms)return!0;if(r==ys)return!1;if(e.frameRate){if((r=ps(e.frameRate,t.frameRate,n.frameRate))==ms)return!0;if(r==ys)return!1}return!(!e.bandwidth||gs(e.bandwidth,t.bandwidth,n.bandwidth)!=ms)}function hs(e,t,n){if(e.id==n.id)return!0;var r=At(e.language,t.language),i=At(e.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(e.roles.length){if(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return n.mimeType==e.mimeType&&n.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function fs(e,t,n){return e.id==n.id||ps(e.width*e.height,t.width*t.height,n.width*n.height)==ms}function ds(e){return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new qa([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1}}function ps(e,t,n){if(t==e&&e!=n)return ys;if(n==e&&e!=t)return ms;if(t>e){if(n<=e||n-e<t-e)return ms;if(n-e>t-e)return ys}else{if(n>e)return ys;if(e-n<e-t)return ms;if(e-n>e-t)return ys}return vs}function gs(e,t,n){return t=Math.abs(e-t),(e=Math.abs(e-n))<t?ms:t<e?ys:vs}(r=$o.prototype).release=function(){for(var e=l(this.g.concat(this.i,this.l,this.h)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.g=[],this.i=[],this.l=[],this.h=[],this.j=[]},r.Bf=function(){return this.j},r.pd=function(){return this.l.slice()},r.hf=function(){return this.h},r.ie=function(e,t){var n,r,i,a,o,s,u,c,h,f,d,p,g,m,v,y,b,w,x,E,A,k,I,C,_,M,R,D,L=this;return P((function(P){switch(P.g){case 1:if(n=at,function(e){for(var t=(e=l(e)).next();!t.done;t=e.next()){for(var n=[],r=l((t=t.value).audioStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var a=!1,o=l(n),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.channelsCount==s.channelsCount&&i.language==s.language&&i.bandwidth==s.bandwidth&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&he(i.roles,s.roles)&&i.audioSamplingRate==s.audioSamplingRate&&i.primary==s.primary&&(a=!0);a||n.push(i)}t.audioStreams=n}}(e),function(e){for(var t=(e=l(e)).next();!t.done;t=e.next()){for(var n=[],r=l((t=t.value).videoStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var a=!1,o=l(n),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.frameRate==s.frameRate&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&i.label==s.label&&he(i.roles,s.roles)&&Po(i.closedCaptions,s.closedCaptions)&&i.bandwidth==s.bandwidth&&(a=!0);a||n.push(i)}t.videoStreams=n}}(e),function(e){for(var t=(e=l(e)).next();!t.done;t=e.next()){for(var n=[],r=l((t=t.value).textStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var a=!1,o=l(n),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.language==s.language&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&i.bandwidth==s.bandwidth&&he(i.roles,s.roles)&&(a=!0);a||n.push(i)}t.textStreams=n}}(e),function(e){for(var t=(e=l(e)).next();!t.done;t=e.next()){for(var n=[],r=l((t=t.value).imageStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var a=!1,o=l(n),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&(a=!0);a||n.push(i)}t.imageStreams=n}}(e),!t&&1==e.length){r=e[0],L.g=r.audioStreams,L.i=r.videoStreams,L.l=r.textStreams,L.h=r.imageStreams,P.B(2);break}for(i=-1,a=0;a<e.length;a++)o=e[a],L.m.has(o.id)||(L.m.add(o.id),-1==i&&(i=a));if(-1==i)return P.return();for(s=e.map((function(e){return e.audioStreams})),u=e.map((function(e){return e.videoStreams})),c=e.map((function(e){return e.textStreams})),h=e.map((function(e){return e.imageStreams})),f=l(c),d=f.next();!d.done;d=f.next())d.value.push(ds(n.da));for(p=l(h),g=p.next();!g.done;g=p.next())g.value.push(ds(n.fd));return T(P,Qo(L.g,s,i),3);case 3:return T(P,Qo(L.i,u,i),4);case 4:return T(P,Qo(L.l,c,i),5);case 5:return T(P,Qo(L.h,h,i),2);case 2:if(m=0,v=[],L.i.length&&L.g.length)for(A=l(L.g),k=A.next();!k.done;k=A.next())for(I=k.value,C=l(L.i),_=C.next();!_.done;_=C.next())M=_.value,R=Vo(I.drmInfos,M.drmInfos),I.drmInfos.length&&M.drmInfos.length&&!R.length||(D=m++,v.push({id:D,language:I.language,disabledUntilTime:0,primary:I.primary,audio:I,video:M,bandwidth:(I.bandwidth||0)+(M.bandwidth||0),drmInfos:R,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(y=L.i.concat(L.g),b=l(y),w=b.next();!w.done;w=b.next())x=w.value,E=m++,v.push({id:E,language:x.language,disabledUntilTime:0,primary:x.primary,audio:x.type==n.xb?x:null,video:x.type==n.Aa?x:null,bandwidth:x.bandwidth||0,drmInfos:x.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});L.j=v,S(P)}}))},H("shaka.util.PeriodCombiner",$o),$o.prototype.combinePeriods=$o.prototype.ie,$o.prototype.getImageStreams=$o.prototype.hf,$o.prototype.getTextStreams=$o.prototype.pd,$o.prototype.getVariants=$o.prototype.Bf;var ms=1,vs=0,ys=-1,bs=new Map;function ws(){var e=this;this.h=this.g=null,this.o=[],this.i=null,this.I=1,this.l={},this.L={},this.j=new $o,this.C=0,this.F=new F(5),this.D=new Pt((function(){!function(e){var t,n;P((function(r){switch(r.g){case 1:return t=0,x(r,2),T(r,Ts(e),4);case 4:t=r.h,E(r,3);break;case 2:if(n=A(r),e.h){if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.h.onError(n),r.return();n.severity=1,e.h.onError(n)}case 3:if(!e.h)return r.return();As(e,t),S(r)}}))}(e)})),this.u=new Aa,this.A=null,this.K=[],this.m=1/0,this.s=!1}function Ts(e){var t,n,r,i,a,o,s;return P((function(u){return 1==u.g?(t=_a(e.o,e.g.retryParameters),n=e.h.networkingEngine,r=Date.now(),i=n.request(0,t,{type:4}),ka(e.u,i),T(u,i.promise,2)):3!=u.g?(a=u.h,e.h?(a.uri&&!e.o.includes(a.uri)&&e.o.unshift(a.uri),T(u,function(e,t,n){var r,i,a,o;return P((function(s){if(1==s.g){if(!(r=aa(t,"MPD")))throw new Ye(2,4,4001,n);return e.g.dash.disableXlinkProcessing?s.return(Ss(e,r,n)):(i=e.g.dash.xlinkFailGracefully,a=Ha(r,e.g.retryParameters,i,n,e.h.networkingEngine),ka(e.u,a),T(s,a.promise,2))}return o=s.h,s.return(Ss(e,o,n))}))}(e,a.data,a.uri),3)):u.return(0)):(o=Date.now(),s=(o-r)/1e3,e.F.sample(1,s),u.return(s))}))}function Ss(e,t,n){var r,i,a,o,s,u,c,h,f,d,p,g,m,v,y,b,w,k,I,C,_,M,R,D,L,N,O,B,U;return P((function(j){switch(j.g){case 1:if((r=e.g.dash.manifestPreprocessor)&&r(t),i=[n],0<(a=Vi(t,"Location").map(qi).filter(Qe)).length&&(o=et(i,a),i=e.o=o),s=Vi(t,"BaseURL"),u=s.map(qi),c=et(i,u),h=0,s&&s.length&&(h=Xi(s[0],"availabilityTimeOffset",ta)||0),f=e.g.dash.ignoreMinBufferTime,d=0,f||(d=Xi(t,"minBufferTime",Ji)||0),e.C=Xi(t,"minimumUpdatePeriod",Ji,-1),p=Xi(t,"availabilityStartTime",Yi),g=Xi(t,"timeShiftBufferDepth",Ji),m=e.g.dash.ignoreSuggestedPresentationDelay,v=null,m||(v=Xi(t,"suggestedPresentationDelay",Ji)),y=e.g.dash.ignoreMaxSegmentDuration,b=null,y||(b=Xi(t,"maxSegmentDuration",Ji)),w=t.getAttribute("type")||"static",e.i)for(k=e.i.presentationTimeline,I=l(Object.values(e.l)),C=I.next();!C.done;C=I.next())(_=C.value).segmentIndex&&_.segmentIndex.Ka(k.mb());else M=e.g.defaultPresentationDelay||1.5*d,k=new xo(p,null!=v?v:M,e.g.dash.autoCorrectDrift);return k.Yd("static"==w),k.T()&&!isNaN(e.g.availabilityWindowOverride)&&(g=e.g.availabilityWindowOverride),null==g&&(g=1/0),k.Xd(g),R=t.getAttribute("profiles")||"",D={Ya:"static"!=w,presentationTimeline:k,ba:null,U:null,$:null,G:null,bandwidth:0,se:!1,Db:h,profiles:R.split(",")},L=function(e,t,n,r){var i=Xi(r,"mediaPresentationDuration",Ji),a=[],o=0;r=Vi(r,"Period");for(var s=0;s<r.length;s++){var u=r[s],c=r[s+1],l=Xi(u,"start",Ji,o),h=u.id,f=Xi(u,"duration",Ji),d=null;if(c){var p=Xi(c,"start",Ji);null!=p&&(d=p-l)}else null!=i&&(d=i-l);if(null==d&&(d=f),!(null!==e.A&&null!==h&&null!==l&&l<e.A)||e.K.includes(h)||s+1==r.length){if(null!==l&&(null===e.A||l>e.A)&&(e.A=l),o=xs(e,t,n,{start:l,duration:d,node:u,sd:null==d||!c}),a.push(o),t.ba.id&&d&&(e.L[t.ba.id]=d),null==d){o=null;break}o=l+d}}return e.K=a.map((function(e){return e.id})),null!=i?{periods:a,duration:i,le:!1}:{periods:a,duration:o,le:!0}}(e,D,c,t),N=L.duration,O=L.periods,"static"!=w&&L.le||k.Va(N||1/0),e.m&&!e.s&&e.h.isAutoLowLatencyMode()&&(e.h.enableLowLatencyMode(),e.s=e.h.isLowLatencyMode()),e.s?k.Ge(e.m):e.m&&q("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),k.Gd(b||1),T(j,e.j.ie(O,D.Ya),2);case 2:if(e.s&&(d=0),e.s&&e.m&&(e.C=e.m),e.i){e.i.variants=e.j.j,e.i.textStreams=e.j.pd(),e.i.imageStreams=e.j.h,e.h.filter(e.i),j.B(3);break}var H=k,F=e.j.j,G=e.j.pd(),V=e.j.h,z=d||0,K=e.g.dash.sequenceMode,W=Fi(t,"ServiceDescription");if(W){var X=Fi(W,"Latency");W=Fi(W,"PlaybackRate"),X&&X.getAttribute("max")||W?X={maxLatency:X=X&&X.getAttribute("max")?parseInt(X.getAttribute("max"),10)/1e3:null,maxPlaybackRate:W=W?parseFloat(W.getAttribute("max")):null}:X=null}else X=null;if(e.i={presentationTimeline:H,variants:F,textStreams:G,imageStreams:V,offlineSessionIds:[],minBufferTime:z,sequenceMode:K,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:X},!k.Oe()){j.B(4);break}return B=Vi(t,"UTCTiming"),T(j,function(e,t,n){var r,i,a,o,s,u,c,h;return P((function(f){switch(f.g){case 1:r=n.map((function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}})),i=e.g.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),a=l(r),o=a.next();case 2:if(o.done){f.B(4);break}switch(s=o.value,x(f,5),u=s.scheme,c=s.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return f.B(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return f.B(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return h=Date.parse(c),f.return(isNaN(h)?0:h-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":q("NTP UTCTiming scheme is not supported");break;default:q("Unrecognized scheme in UTCTiming element",u)}f.B(9);break;case 7:return T(f,Is(e,t,c,"HEAD"),10);case 10:return f.return(f.h);case 8:return T(f,Is(e,t,c,"GET"),11);case 11:return f.return(f.h);case 9:E(f,3);break;case 5:A(f);case 3:o=a.next(),f.B(2);break;case 4:return q("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),f.return(0)}}))}(e,c,B),5);case 5:if(U=j.h,!e.h)return j.return();k.He(U);case 4:k.zd();case 3:e.h.makeTextStreamsForClosedCaptions(e.i),S(j)}}))}function xs(e,t,n,r){t.ba=ks(r.node,null,n),t.U=r,t.ba.Db=t.Db,t.ba.id||(t.ba.id="__shaka_period_"+r.start);var i=Vi(r.node,"EventStream");n=t.presentationTimeline.mb();for(var a=(i=l(i)).next();!a.done;a=i.next())Cs(e,r.start,r.duration,a.value,n);if(n=Vi(r.node,"AdaptationSet").map((function(n){return function(e,t,n){function r(e){switch(e){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}t.$=ks(n,t.ba,null);var i,a=!1,o=Vi(n,"Role"),s=o.map((function(e){return e.getAttribute("value")})).filter(Qe),u=void 0,c=t.$.contentType==it;c&&(u="subtitle");for(var f=(o=l(o)).next();!f.done;f=o.next()){var d=(f=f.value).getAttribute("schemeIdUri");if(null==d||"urn:mpeg:dash:role:2011"==d)switch(f=f.getAttribute("value"),f){case"main":a=!0;break;case"caption":case"subtitle":u=f}}d=Vi(n,"EssentialProperty"),o=null,f=!1;for(var p=(d=l(d)).next();!p.done;p=d.next()){var g=(p=p.value).getAttribute("schemeIdUri");"http://dashif.org/guidelines/trickmode"==g?o=p.getAttribute("value"):"urn:mpeg:mpegB:cicp:TransferCharacteristics"==g?i=r(parseInt(p.getAttribute("value"),10)):"urn:mpeg:mpegB:cicp:ColourPrimaries"!=g&&"urn:mpeg:mpegB:cicp:MatrixCoefficients"!=g&&(f=!0)}for(d=l(d=Vi(n,"SupplementalProperty")),p=d.next();!p.done;p=d.next())"urn:mpeg:mpegB:cicp:TransferCharacteristics"==(p=p.value).getAttribute("schemeIdUri")&&(i=r(parseInt(p.getAttribute("value"),10)));d=Vi(n,"Accessibility");var m,v=new Map;for(d=l(d),p=d.next();!p.done;p=d.next())if(g=p.value,p=g.getAttribute("schemeIdUri"),g=g.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==p)if(p=1,null!=g)for(var y=l(g=g.split(";")),b=y.next();!b.done;b=y.next()){var w=b.value,x=b=void 0;w.includes("=")?(b=(w=w.split("="))[0].startsWith("CC")?w[0]:"CC"+w[0],x=w[1]||"und"):(b="CC"+p,2==g.length?p+=2:p++,x=w),v.set(b,Et(x))}else v.set("CC1","und");else if("urn:scte:dash:cc:cea-708:2015"==p)if(p=1,null!=g)for(g=l(g.split(";")),b=g.next();!b.done;b=g.next())b=b.value,w=y=void 0,b.includes("=")?(b=b.split("="),y="svc"+b[0],w=b[1].split(",")[0].split(":").pop()):(y="svc"+p,p++,w=b),v.set(y,Et(w));else v.set("svc1","und");else"urn:mpeg:dash:role:2011"==p?null!=g&&(s.push(g),"captions"==g&&(u="caption")):"urn:tva:metadata:cs:AudioPurposeCS:2007"==p&&("1"==g?m="visually impaired":"2"==g&&(m="hard of hearing"));if(f)return null;f=Vi(n,"ContentProtection");var E=sa(f,e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI),A=Et(t.$.language||"und"),k=n.getAttribute("label");if((f=Vi(n,"Label"))&&f.length&&(f=f[0],f.textContent&&(k=f.textContent)),f=Vi(n,"Representation"),n=f.map((function(n){return(n=function(e,t,r,i,a,o,s,u,c,l,h){if(t.G=ks(l,t.$,null),e.m=Math.min(e.m,t.G.Db),!function(e){var t=e.sc?1:0;return t+=e.bb?1:0,t+=e.tc?1:0,0==t?e.contentType==it||"application"==e.contentType:(1!=t&&(e.sc&&(e.bb=null),e.tc=null),!0)}(t.G))return null;var f=t.U.start;t.bandwidth=Xi(l,"bandwidth",Qi)||0;var d=t.G.contentType,p=d==it||"application"==d;d="image"==d;try{var g=function(t,n,r,i){return function(e,t,n,r,i){var a,o,s,u,c,l;return P((function(h){return 1==h.g?(a=Da,o=i?0:1,s=Eo(t,n,r,e.g.retryParameters),u=e.h.networkingEngine,c=u.request(a,s,{type:o}),ka(e.u,c),T(h,c.promise,2)):(l=h.h,h.return(l.data))}))}(e,t,n,r,i)};if(t.G.sc)var m=io(t,g);else if(t.G.bb)m=lo(t,e.l);else if(t.G.tc)m=fo(t,g,e.l,!!e.i,e.g.dash.initialSegmentLimit,e.L);else{var v=t.G.ta,y=t.U.duration||0;m={Eb:function(){return Promise.resolve(Wa(f,y,v))}}}}catch(n){if((p||d)&&4002==n.code)return null;throw n}g=Vi(l,"ContentProtection"),g=function(e,t,n,r){var i=sa(e,n,r);if(t.ne)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=i.drmInfos),t.ne=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new Ye(2,4,4008);return i.ke||t.ke}(g,r,e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI),g=new Set(g?[g]:[]);var b=!1;Vi(l,"SupplementalProperty").some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.getAttribute("schemeIdUri")&&"JOC"==e.getAttribute("value")}))&&(b=!0);var w,x,E=!1;if(p&&(E=u.includes("forced_subtitle")||u.includes("forced-subtitle")),d&&((l=Vi(l,"EssentialProperty").find((function(e){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(e.getAttribute("schemeIdUri"))})))&&(w=l.getAttribute("value")),!w))return null;l=t.G.codecs,t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(l.includes("hvc1.2.4.L153.B0")||l.includes("hev1.2.4.L153.B0"))&&(x="PQ"),l=t.G.id?t.ba.id+","+t.G.id:"";var A=l&&e.l[l]?e.l[l]:{id:e.I++,originalId:t.G.id,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){A.segmentIndex&&(A.segmentIndex.release(),A.segmentIndex=null)},segmentIndex:null,mimeType:t.G.mimeType,codecs:t.G.codecs,frameRate:t.G.frameRate,pixelAspectRatio:t.G.pixelAspectRatio,bandwidth:t.bandwidth,width:t.G.width,height:t.G.height,kind:i,encrypted:0<r.drmInfos.length,drmInfos:r.drmInfos,keyIds:g,language:a,originalLanguage:t.$.language,label:o,type:t.$.contentType,primary:s,trickModeVideo:null,emsgSchemeIdUris:t.G.emsgSchemeIdUris,roles:u,forced:E,channelsCount:t.G.Tc,audioSamplingRate:t.G.audioSamplingRate,spatialAudio:b,closedCaptions:c,hdr:x,tilesLayout:w,matchedStreams:[],accessibilityPurpose:h,external:!1};return A.createSegmentIndex=function(){var e;return P((function(t){if(1==t.g)return A.segmentIndex?t.B(0):(e=A,T(t,m.Eb(),3));e.segmentIndex=t.h,S(t)}))},l&&t.Ya&&!e.l[l]&&(e.l[l]=A),A}(e,t,E,u,A,k,a,s,v,n,m))&&(n.hdr=n.hdr||i),n})).filter((function(e){return!!e})),0==n.length){if(o="image"==t.$.contentType,e.g.dash.ignoreEmptyAdaptationSet||c||o)return null;throw new Ye(2,4,4003)}if(!t.$.contentType||"application"==t.$.contentType)for(t.$.contentType=_s(n[0].mimeType,n[0].codecs),c=l(n),d=c.next();!d.done;d=c.next())d.value.type=t.$.contentType;for(c=l(n),d=c.next();!d.done;d=c.next())for(d=d.value,p=l(E.drmInfos),g=p.next();!g.done;g=p.next())(g=g.value).keyIds=g.keyIds&&d.keyIds?new Set([].concat(h(g.keyIds),h(d.keyIds))):g.keyIds||d.keyIds;return c=f.map((function(e){return e.getAttribute("id")})).filter(Qe),{id:t.$.id||"__fake__"+e.I++,contentType:t.$.contentType,language:A,wg:a,streams:n,drmInfos:E.drmInfos,$d:o,Xf:c}}(e,t,n)})).filter(Qe),t.Ya){for(r=[],a=(i=l(n)).next();!a.done;a=i.next())for(var o=(a=l(a.value.Xf)).next();!o.done;o=a.next())r.push(o.value);if(r.length!=new Set(r).size)throw new Ye(2,4,4018)}for(r=n.filter((function(e){return!e.$d})),i=(n=l(n=n.filter((function(e){return e.$d})))).next();!i.done;i=n.next()){a=(i=i.value).$d.split(" ");for(var s=(o=l(r)).next();!s.done;s=o.next()){var u=s.value;if(a.includes(u.id)){s={};for(var c=(u=l(u.streams)).next();!c.done;s={xc:s.xc},c=u.next())s.xc=c.value,s.xc.trickModeVideo=i.streams.find(function(e){return function(t){return ht(e.xc.codecs)==ht(t.codecs)}}(s))}}}if(i=e.g.disableAudio?[]:Es(r,"audio"),o=e.g.disableVideo?[]:Es(r,"video"),a=e.g.disableText?[]:Es(r,it),n=e.g.disableThumbnails?[]:Es(r,"image"),!o.length&&!i.length)throw new Ye(2,4,4004);for(r=[],s=(i=l(i)).next();!s.done;s=i.next())r.push.apply(r,h(s.value.streams));for(i=[],s=(o=l(o)).next();!s.done;s=o.next())i.push.apply(i,h(s.value.streams));for(o=[],s=(a=l(a)).next();!s.done;s=a.next())o.push.apply(o,h(s.value.streams));for(a=[],s=(n=l(n)).next();!s.done;s=n.next())a.push.apply(a,h(s.value.streams));return{id:t.ba.id,audioStreams:r,videoStreams:i,textStreams:o,imageStreams:a}}function Es(e,t){return e.filter((function(e){return e.contentType==t}))}function As(e,t){0>e.C||e.D.V(Math.max(e.C-t,G(e.F)))}function ks(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Tc:null,audioSamplingRate:null,Db:0},n=n||t.ta;for(var r=Vi(e,"BaseURL"),i=r.map(qi),a=e.getAttribute("contentType")||t.contentType,o=e.getAttribute("mimeType")||t.mimeType,s=e.getAttribute("codecs")||t.codecs,u=Xi(e,"frameRate",ra)||t.frameRate,c=e.getAttribute("sar")||t.pixelAspectRatio,h=Vi(e,"InbandEventStream"),f=t.emsgSchemeIdUris.slice(),d=(h=l(h)).next();!d.done;d=h.next())d=d.value.getAttribute("schemeIdUri"),f.includes(d)||f.push(d);h=function(e){for(var t=(e=l(e)).next();!t.done;t=e.next()){var n=t.value;if((t=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(t=parseInt(n,10)))continue;return t;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(!(t=parseInt(n,16)))continue;for(e=0;t;)1&t&&++e,t>>=1;return e;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(t=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(n=parseInt(n,10))&&0<n&&n<t.length)return t[n]}}return null}(h=Vi(e,"AudioChannelConfiguration"))||t.Tc,d=Xi(e,"audioSamplingRate",ea)||t.audioSamplingRate,a||(a=_s(o,s));var p=Fi(e,"SegmentBase"),g=Fi(e,"SegmentTemplate"),m=p&&Xi(p,"availabilityTimeOffset",ta)||0,v=g&&Xi(g,"availabilityTimeOffset",ta)||0;return r=r&&r.length&&Xi(r[0],"availabilityTimeOffset",ta)||0,r=t.Db+r+m+v,{ta:et(n,i),sc:p||t.sc,bb:Fi(e,"SegmentList")||t.bb,tc:g||t.tc,width:Xi(e,"width",ea)||t.width,height:Xi(e,"height",ea)||t.height,contentType:a,mimeType:o,codecs:s,frameRate:u,pixelAspectRatio:c,emsgSchemeIdUris:f,id:e.getAttribute("id"),language:e.getAttribute("lang"),Tc:h,audioSamplingRate:d,Db:r}}function Is(e,t,n,r){var i,a,o,s,u,c;return P((function(l){if(1==l.g)return i=et(t,[n]),(a=_a(i,e.g.retryParameters)).method=r,o=e.h.networkingEngine.request(4,a),ka(e.u,o),T(l,o.promise,2);if(s=l.h,"HEAD"==r){if(!s.headers||!s.headers.date)return l.return(0);u=s.headers.date}else u=Cr(s.data);return c=Date.parse(u),isNaN(c)?l.return(0):l.return(c-Date.now())}))}function Cs(e,t,n,r,i){for(var a=r.getAttribute("schemeIdUri")||"",o=r.getAttribute("value")||"",s=Xi(r,"timescale",ea)||1,u=(r=l(Vi(r,"Event"))).next();!u.done;u=r.next()){var c=Xi(u=u.value,"presentationTime",ea)||0,h=Xi(u,"duration",ea)||0;h=(c=c/s+t)+h/s,null!=n&&(c=Math.min(c,t+n),h=Math.min(h,t+n)),h<i||(u={schemeIdUri:a,value:o,startTime:c,endTime:h,id:u.getAttribute("id")||"",eventElement:u},e.h.onTimelineRegionAdded(u))}}function _s(e,t){return mt(t=ut(e,t))?it:e.split("/")[0]}function Ms(){}(r=ws.prototype).configure=function(e){this.g=e},r.start=function(e,t){var n,r=this;return P((function(i){if(1==i.g)return r.s=t.isLowLatencyMode(),r.o=[e],r.h=t,T(i,Ts(r),2);if(n=i.h,r.h&&As(r,n),!r.h)throw new Ye(2,7,7001);return i.return(r.i)}))},r.stop=function(){for(var e=l(Object.values(this.l)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();return this.j&&this.j.release(),this.g=this.h=null,this.o=[],this.i=null,this.l={},this.j=null,null!=this.D&&(this.D.stop(),this.D=null),this.u.destroy()},r.update=function(){var e,t=this;return P((function(n){return 1==n.g?(x(n,2),T(n,Ts(t),4)):2!=n.g?E(n,0):(e=A(n),t.h&&e?(t.h.onError(e),void S(n)):n.return())}))},r.onExpirationUpdated=function(){},H("shaka.dash.DashParser",ws),So.mpd=function(){return new ws},To["application/dash+xml"]=function(){return new ws},To["video/vnd.mpeg.dash.mpd"]=function(){return new ws},H("shaka.dependencies",Ms),Ms.has=function(e){return Ps.has(e)},Ms.add=function(e,t){if(!Rs[e])throw Error(e+" is not supported");Ps.set(e,(function(){return t}))};var Rs={muxjs:"muxjs",ISOBoxer:"ISOBoxer"};Ms.Allowed=Rs;var Ps=new Map([["muxjs",function(){return e.muxjs}],["ISOBoxer",function(){return e.ISOBoxer}]]);function Ds(e,t,n){this.g=null,this.i=-1,this.j=e,this.h=t,this.l=n,"undefined"==typeof libDPIModule&&q("Could not Find LCEVC Library dependencies on this page"),"undefined"==typeof LcevcDil?q("Could not Find LCEVC Library on this page"):LcevcDil.SupportObject.SupportStatus||q(LcevcDil.SupportObject.SupportError),"undefined"!=typeof LcevcDil&&"undefined"!=typeof libDPIModule&&this.h instanceof HTMLCanvasElement&&LcevcDil.SupportObject.SupportStatus&&!this.g&&LcevcDil.SupportObject.webGLSupport(this.h)&&(this.h.classList.remove("shaka-hidden"),this.g=new LcevcDil.LcevcDil(this.j,this.h,this.l))}function Ls(e,t){var n=Ns;switch(t.mimeType){case"video/webm":n=Os;break;case"video/mp4":n=Bs}e.g&&(e.i=t.id,e.g.setLevelSwitching(t.id,!0),e.g.setContainerFormat(n))}Ds.prototype.release=function(){this.g&&(this.g.close(),this.g=null)},H("shaka.lcevc.Dil",Ds),Ds.prototype.release=Ds.prototype.release;var Ns=0,Os=1,Bs=2;function Us(e,t){for(this.h=e,this.g=new Set([e]),t=(e=l(t=t||[])).next();!t.done;t=e.next())this.add(t.value)}function js(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var r=t.audio;n=!((!(!n.channelsCount||!r.channelsCount||2<n.channelsCount||2<r.channelsCount)||n.channelsCount==r.channelsCount)&&Hs(n,r)&&Fs(n.roles,r.roles))}return!n&&(n=e.video&&t.video)&&(n=!(Hs(e=e.video,t=t.video)&&Fs(e.roles,t.roles))),!n}function Hs(e,t){if(e.mimeType!=t.mimeType)return!1;if(e=e.codecs.split(",").map((function(e){return dt(e)[0]})),t=t.codecs.split(",").map((function(e){return dt(e)[0]})),e.length!=t.length)return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Fs(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;for(var n=(e=l(e)).next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}function Gs(e){this.g=e,this.h=new Vs(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"","")}function Vs(e,t,n,r,i){this.j=e,this.l=t,this.g=n,this.h=r,this.i=void 0===i?"":i}function zs(){this.g=Ws,this.h=(new Map).set(Ws,2).set(qs,1)}function Ks(e,t,n){e.h.set(Ws,n).set(qs,t)}Us.prototype.add=function(e){return!!js(this.h,e)&&(this.g.add(e),!0)},Us.prototype.values=function(){return this.g.values()},Gs.prototype.create=function(e){var t=this,n=e.filter((function(e){return js(t.g,e)}));return n.length?new Us(n[0],n):this.h.create(e)},Vs.prototype.create=function(t){var n=[];n=function(e,t){t=Et(t);var n=Ct(t,e.map((function(e){return It(e)})));return n?e.filter((function(e){return n==It(e)})):[]}(t,this.j);var r=t.filter((function(e){return e.primary}));for(t=function(e,t){return e.filter((function(e){return!!e.audio&&(t?e.audio.roles.includes(t):0==e.audio.roles.length)}))}(n=n.length?n:r.length?r:t,this.l),t.length&&(n=t),this.h&&(t=function(t,n){return"AUTO"==n&&(n=e.matchMedia("(color-gamut: p3)").matches?"PQ":"SDR"),t.filter((function(e){return!e.video||!e.video.hdr||e.video.hdr==n}))}(n,this.h),t.length&&(n=t)),this.g&&((t=gn(n,this.g)).length&&(n=t)),this.i&&(t=function(e,t){return e.filter((function(e){return!(!e.audio||!e.audio.label)&&e.audio.label.toLowerCase()==t.toLowerCase()}))}(n,this.i),t.length&&(n=t)),t=new Us(n[0]),r=(n=l(n)).next();!r.done;r=n.next())r=r.value,js(t.h,r)&&t.add(r);return t};var qs=0,Ws=1;function Xs(e,t,n,r,i){var a=Js.value(),o=e.subarray(n.start,n.start+n.size),s=ie(o),u=new Uint8Array(n.size+a.byteLength);for(u.set(o,0),(o=ie(u)).setUint32(4,i),u.set(a,n.size),i=s.getUint32(4),o.setUint32(n.size+16,i),Ys(u,0,u.byteLength),i=new Uint8Array(e.byteLength+u.byteLength),n=Ot()?n.start:n.start+n.size,a=e.subarray(n),i.set(e.subarray(0,n)),i.set(u,n),i.set(a,n+u.byteLength),r=(e=l(r)).next();!r.done;r=e.next())Ys(i,(r=r.value).start,r.size+u.byteLength);return u=ie(i,t.start),t=Yr(t),e=u.getUint32(t),u.setUint32(t,e+1),i}function Ys(e,t,n){0!=(t=(e=ie(e,t)).getUint32(0))&&(1==t?(e.setUint32(8,n>>32),e.setUint32(12,4294967295&n)):e.setUint32(0,n))}var Js=new kr((function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}));function Zs(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function $s(e,t){return!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t>=e.start(0)}function Qs(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var n=0,r=(e=l(eu(e))).next();!r.done;r=e.next()){var i=r.value;r=i.start,(i=i.end)>t&&(n+=i-Math.max(r,t))}return n}function eu(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function tu(e,t,n){this.l=n,this.j=e,this.s=ru(e),this.g=e.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.o=0,this.u=t,this.i=function(){}}function nu(e){this.g=e}function ru(e){if(e.g.paused||0==e.g.playbackRate||0==e.g.buffered.length)var t=!1;else e:{t=e.g.currentTime;for(var n=(e=l(eu(e.g.buffered))).next();!n.done;n=e.next())if(!(t<(n=n.value).start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function iu(e,t,n,r,i){var a=this;this.u=i,this.g=e,this.A=t,this.s=n,this.l=new Io,this.j=!1,this.D=e.readyState,this.C=this.i=0,this.h=r,this.o=!1,this.l.J(e,"waiting",(function(){return au(a)})),this.m=new Pt((function(){au(a)})).sa(this.s.gapJumpTimerTime)}function au(e){if(0!=e.g.readyState){if(e.g.seeking){if(!e.j)return}else e.j=!1;if(!e.g.paused||e.g.currentTime==e.i&&(e.g.autoplay||e.g.currentTime!=e.i)){var t;if(e.g.readyState!=e.D&&(e.D=e.g.readyState),!(t=!e.h)){var n=(t=e.h).j,r=ru(n),i=n.g.currentTime,a=Date.now()/1e3;t.g==i&&t.s==r||(t.m=a,t.g=i,t.s=r,t.h=!1),(r=(i=a-t.m)>=t.u&&r&&!t.h)&&(t.i(t.g,i),t.h=!0,t.g=n.g.currentTime,t.o++,t.l(new Ta("stalldetected"))),t=!r}t&&(t=e.g.currentTime,r=function(e,t,n){return!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)?null:0<=(e=eu(e).findIndex((function(e,r,i){return e.start>t&&(0==r||i[r-1].end-t<=n)})))?e:null}(n=e.g.buffered,t,e.s.gapDetectionThreshold),null==r||0==r&&!e.o||((i=n.start(r))>=e.A.Na()||.001>i-t||(0!=r&&n.end(r-1),e.g.currentTime=i,t==e.i&&(e.i=i),e.C++,e.u(new Ta("gapjumped")))))}}}function ou(e,t,n,r){var i=this;this.l=e,this.C=null,this.u=t,this.h={},this.I={},this.ca={},this.g=null,this.O=!1,this.ia=n||function(){},this.L=r||null,this.j={},this.A=new Io,this.m={},this.D=null,this.F=new pa,this.W="",this.i=su(this,this.F),this.o=!1,this.K=new Ao((function(){return function(e){var t,n,r,i,a,o,s;return P((function(u){if(1==u.g){for(n in t=[],e.j)for(r=e.j[n],i=r[0],e.j[n]=r.slice(0,1),i&&t.push(i.p.catch($e)),a=l(r.slice(1)),o=a.next();!o.done;o=a.next())o.value.p.reject(new Ye(2,7,7003,void 0));for(s in e.g&&t.push(e.g.destroy()),e.u&&t.push(e.u.destroy()),e.m)t.push(e.m[s].destroy());return T(u,Promise.all(t),2)}e.A&&(e.A.release(),e.A=null),e.l&&(e.l.removeAttribute("src"),e.l.load(),e.l=null),e.C=null,e.i=null,e.g=null,e.u=null,e.h={},e.m={},e.D=null,e.j={},e.L=null,S(u)}))}(i)})),this.s=!1,this.P="UNKNOWN",this.Z=this.ha=!1,this.ja=new pa}function su(e,t){var n=new MediaSource;return e.A.oa(n,"sourceopen",(function(){URL.revokeObjectURL(e.W),t.resolve()})),e.W=Au(n),e.l.src=e.W,n}function uu(e,t,n){var r=ut(n.mimeType,n.codecs);if(t==it)cu(e,r,e.s,n.external);else{var i=e.C.forceTransmux;(!Y(r)||!e.s&&pt.includes(r))&&(i=!0);var a=ct(n.mimeType,n.codecs);i&&(i=Ce(a))&&(r=i(),e.m[t]=r,r=r.convertCodecs(t,a)),a=r+e.C.sourceBufferExtraFeatures,ko(e.K);try{var o=e.i.addSourceBuffer(a)}catch(s){throw new Ye(2,3,3015,s,"The mediaSource_ status was"+e.i.readyState+"expected 'open'")}e.s&&(o.mode=ku),e.A.J(o,"error",(function(){e.j[t][0].p.reject(new Ye(2,3,3014,e.l.error?e.l.error.code:0))})),e.A.J(o,"updateend",(function(){return wu(e,t)})),e.h[t]=o,e.I[t]=r,e.ca[t]=!!n.drmInfos.length}}function cu(e,t,n,r){e.g||(e.g=new gt(e.u));var i=e.g;r=r||e.O,e=e.P,"application/cea-608"==t||"application/cea-708"==t?i.i=null:(i.i=(0,bt[t])(),i.i.setSequenceMode?i.i.setSequenceMode(n):q('Text parsers should have a "setSequenceMode" method!'),i.i.setManifestType?i.i.setManifestType(e):q('Text parsers should have a "setManifestType" method!'),i.u=r)}function lu(e){return!e.o&&(!e.i||"ended"==e.i.readyState)}function hu(e,t){return e.o?e=null:t==it?e=e.g.g:e=!(e=du(e,t))||1==e.length&&1e-6>e.end(0)-e.start(0)?null:1==e.length&&0>e.start(0)?0:e.length?e.start(0):null,e}function fu(e,t){return e.o?null:t==it?e.g.h:Zs(du(e,t))}function du(e,t){try{return e.h[t].buffered}catch(n){return null}}function pu(e,t,n,r,i,a,o,s){var u,c,h,f,d,p,g,m,v,y;return o=void 0!==o&&o,s=void 0!==s&&s,P((function(b){switch(b.g){case 1:if(t!=(u=at).da){b.B(2);break}if(!e.s){b.B(3);break}return T(b,e.ja,4);case 4:c=b.h,e.g.s=c;case 3:return T(b,function(e,t,n,r){var i,a,o,s;return P((function(u){return 1==u.g?T(u,Promise.resolve(),2):e.i&&e.j?null==n||null==r?(e.i.parseInit(re(t)),u.return()):(i=e.u?n:e.s,a={periodStart:e.s,segmentStart:n,segmentEnd:r,vttOffset:i},o=e.i.parseMedia(re(t),a),s=o.filter((function(t){return t.startTime>=e.l&&t.startTime<e.m})),e.j.append(s),null==e.g&&(e.g=Math.max(n,e.l)),e.h=Math.min(r,e.m),void S(u)):u.return()}))}(e.g,n,r?r.startTime:null,r?r.endTime:null),5);case 5:return b.return();case 2:if(h=e.h[t].timestampOffset,f=e.I[t],e.m[t]&&(f=e.m[t].getOrginalMimeType()),r&&(d=function(e,t,n,r,i,a){var o=null,s=re(n);if(pt.includes(i))(a=Ei(s)).length&&r&&((t=a.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&t.data&&(o=Math.round(t.data)/1e3),e.ia([{cueTime:r.startTime,data:s,frames:a,dts:r.startTime,pts:r.startTime}],0,r.endTime));else if(i.includes("/mp4")&&r&&0==r.m&&r.g&&r.g.timescale){var u=r.g.timescale;if(!isNaN(u)){var c=0,l=!1;(new Vr).box("moof",zr).box("traf",zr).R("tfdt",(function(e){c=$r(e.reader,e.version).baseMediaDecodeTime/u,l=!0,e.parser.stop()})).parse(n,!0),l&&(o=c)}}else i.includes("/mp4")||i.includes("/webm")||!Ni(s)||(null!=(t=(s=(new Di).parse(s)).getStartTime()[t])&&(o=t),(s=s.getMetadata()).length&&e.ia(s,a,r?r.endTime:null));return o}(e,t,n,r,f,h),null!=d)&&(p=r.startTime-d,(.1<=Math.abs(h-p)||o||s)&&(h=p,e.Z&&(Tu(e,t,(function(){return yu(e,t)})),Tu(e,t,(function(){return bu(e,t,h)})))),g=t==u.Aa||!(u.Aa in e.h),e.s&&g&&e.ja.resolve(h)),a&&t==u.Aa&&(e.g||cu(e,"application/cea-608",e.s,!1),e.D||(m=f.split(";",1)[0],e.D=new se(m)),r?(v=e.D.j(n)).length&&function(e,t,n,r,i){for(var a=n+" "+r,o=new Map,s=(t=l(t)).next();!s.done;s=t.next()){var u=s.value;s=u.stream,u=u.cue,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),yt(e,u,i),u.startTime>=e.l&&u.startTime<e.m&&(o.get(s).get(a).push(u),s==e.A&&e.j.append([u]))}for(a=(i=l(o.keys())).next();!a.done;a=i.next())for(a=a.value,e.o.has(a)||e.o.set(a,new Map),s=(t=l(o.get(a).keys())).next();!s.done;s=t.next())s=s.value,u=o.get(a).get(s),e.o.get(a).set(s,u);e.g=null==e.g?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(r,e.m))}(e.g,v,r.startTime,r.endTime,h):e.D.init(n)),!e.m[t]){b.B(6);break}return T(b,e.m[t].transmux(n,i,r,e.i.duration,t),7);case 7:n=b.h;case 6:return n=function(e,t,n,r){var i=e.ca[r];return e.C.insertFakeEncryptionInInit&&null==n&&i&&(Bt()||Ot())&&"mp4"==e.I[r].split(";")[0].split("/")[1]&&(t=function(e){function t(){i=!0}function n(e){a.push(e),zr(e)}e=re(e);var r,i=!1,a=[],o=[];if((new Vr).box("moov",n).box("trak",n).box("mdia",n).box("minf",n).box("stbl",n).R("stsd",(function(e){r=e,a.push(e),Kr(e)})).R("encv",t).R("enca",t).R("hev1",(function(e){o.push({box:e,pb:1701733238})})).R("hvc1",(function(e){o.push({box:e,pb:1701733238})})).R("avc1",(function(e){o.push({box:e,pb:1701733238})})).R("avc3",(function(e){o.push({box:e,pb:1701733238})})).R("ac-3",(function(e){o.push({box:e,pb:1701733217})})).R("ec-3",(function(e){o.push({box:e,pb:1701733217})})).R("mp4a",(function(e){o.push({box:e,pb:1701733217})})).parse(e),i)return e;if(0==o.length||!r)throw Ri(e),new Ye(2,3,3019);o.reverse();for(var s=l(o),u=s.next();!u.done;u=s.next())u=u.value,e=Xs(e,r,u.box,a,u.pb);return e}(t)),t}(e,n,r?r.startTime:null,t),r&&e.s&&t!=u.da&&(o||s)&&(y=r.startTime,Tu(e,t,(function(){return yu(e,t)})),Tu(e,t,(function(){return bu(e,t,y)}))),T(b,Tu(e,t,(function(){var r=n;if("video"==t&&e.L){var i=e.L;i.g&&i.g.appendBuffer(r,"video",i.i)}e.h[t].appendBuffer(r)})),8);case 8:S(b)}}))}function gu(e,t){return P((function(n){return t==at.da?e.g?T(n,e.g.remove(0,1/0),0):n.return():T(n,Tu(e,t,(function(){var n=e.i.duration;0>=n?wu(e,t):e.h[t].remove(0,n)})),0)}))}function mu(t,n,r,i,a,o,s,u){var c;return P((function(h){return 1==h.g?n==at.da?(o||(t.g.s=r),function(e,t,n){e.l=t,e.m=n}(t.g,i,a),h.return()):(c=[],T(h,function(t,n,r,i){var a,o,s,u,c,h,f,d,p;return P((function(g){return 1==g.g?(a=dt(ft(t.I[n]))[0],o=t.I[n].split(";")[0],u=ut(r.mimeType,r.codecs),c=t.C.forceTransmux,(!Y(u)||!t.s&&pt.includes(u))&&(c=!0),h=ct(r.mimeType,r.codecs),c&&(f=Ce(h))&&(s=f(),u=s.convertCodecs(n,h)),d=dt(ft(u))[0],p=u.split(";")[0],a===d&&o===p?g.return(!1):e.SourceBuffer&&SourceBuffer.prototype&&SourceBuffer.prototype.changeType?T(g,function(t,n,r,i){return Tu(t,n,(function(){n!==it&&(e.SourceBuffer&&SourceBuffer.prototype&&SourceBuffer.prototype.changeType&&(t.m[n]&&t.m[n].destroy(),i&&(t.m[n]=i),t.h[n].changeType(r+t.C.sourceBufferExtraFeatures),t.I[n]=r),wu(t,n))}))}(t,n,u,s),3):(s&&s.destroy(),T(g,function(e,t){return Su(e,(function(){return function(e,t){var n,r,i,a,o,s,u,c,h,f,d,p,g,m,v,y,b,w,S;return P((function(x){switch(x.g){case 1:for(i in e.o=!0,n=e.l.currentTime,function(e){e.m=0,e.j=2}(x),e.A.Nb(),r=[],e.m)r.push(e.m[i].destroy());for(a in e.j)for(o=e.j[a],s=o[0],e.j[a]=o.slice(0,1),s&&r.push(s.p.catch($e)),u=l(o.slice(1)),c=u.next();!c.done;c=u.next())c.value.p.reject(new Ye(2,7,7003,void 0));for(h in e.h){f=e.h[h];try{e.i.removeSourceBuffer(f)}catch(E){}}return T(x,Promise.all(r),4);case 4:return e.m={},e.j={},e.h={},d=e.i.duration,e.F=new pa,e.i=su(e,e.F),T(x,e.F,5);case 5:for(e.i.duration=d,p=new pa,g=e.i.sourceBuffers,m=t.size,v=0,e.A.J(g,"addsourcebuffer",(function(){++v===m&&p.resolve()})),y=l(t.keys()),b=y.next();!b.done;b=y.next())w=b.value,S=t.get(w),uu(e,w,S);return e.l.currentTime=n,T(x,p,2);case 2:k(x),e.o=!1,I(x)}}))}(e,t)}))}(t,i),3))):g.return(!0)}))}(t,n,s,u),2)):(h.h||c.push(Tu(t,n,(function(){return yu(t,n)}))),o||c.push(Tu(t,n,(function(){return bu(t,n,r)}))),c.push(Tu(t,n,(function(){t.h[n].appendWindowStart=0,t.h[n].appendWindowEnd=a,t.h[n].appendWindowStart=i,wu(t,n)}))),T(h,Promise.all(c),0))}))}function vu(e,t,n){return P((function(r){return t==at.da?r.return():(Tu(e,t,(function(){return yu(e,t)})),T(r,Tu(e,t,(function(){return bu(e,t,n)})),0))}))}function yu(e,t){var n=e.h[t].appendWindowStart,r=e.h[t].appendWindowEnd;e.h[t].abort(),e.h[t].appendWindowStart=n,e.h[t].appendWindowEnd=r,wu(e,t)}function bu(e,t,n){0>n&&(n+=.001),e.h[t].timestampOffset=n,wu(e,t)}function wu(e,t){if(!e.o){var n=e.j[t][0];n&&(n.p.resolve(),xu(e,t))}}function Tu(e,t,n){return ko(e.K),n={start:n,p:new pa},e.j[t].push(n),1==e.j[t].length&&Eu(e,t),n.p}function Su(e,t){var n,r,i,a,o;return P((function(s){switch(s.g){case 1:for(i in ko(e.K),n=[],r={},e.h)r.Sb=new pa,a={start:function(e){return function(){return e.Sb.resolve()}}(r),p:r.Sb},e.j[i].push(a),n.push(r.Sb),1==e.j[i].length&&a.start(),r={Sb:r.Sb};return x(s,2),T(s,Promise.all(n),4);case 4:E(s,3);break;case 2:throw A(s);case 3:return x(s,5,6),T(s,t(),6);case 6:for(o in k(s),e.h)xu(e,o);I(s);break;case 5:throw new Ye(2,3,3015,A(s),e.l.error||"No error in the media element")}}))}function xu(e,t){e.j[t].shift(),Eu(e,t)}function Eu(e,t){var n=e.j[t][0];if(n)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new Ye(2,3,3017,t)):n.p.reject(new Ye(2,3,3015,r,e.l.error||"No error in the media element")),xu(e,t)}}tu.prototype.release=function(){this.l=this.j=null,this.i=function(){}},iu.prototype.release=function(){this.l&&(this.l.release(),this.l=null),null!=this.m&&(this.m.stop(),this.m=null),this.h&&(this.h.release(),this.h=null),this.g=this.A=this.u=null},iu.prototype.Kd=function(){this.o=!0,au(this)},(r=ou.prototype).destroy=function(){return this.K.destroy()},r.init=function(e,t,n,r){t=void 0!==t&&t,n=void 0===n?"UNKNOWN":n,r=void 0!==r&&r;var i,a,o,s,u=this;return P((function(c){if(1==c.g)return T(c,u.F,2);for(u.s=t,u.P=n,u.ha=r,u.Z=!u.s&&"HLS"==u.P&&!u.ha,i=l(e.keys()),a=i.next();!a.done;a=i.next())o=a.value,s=e.get(o),uu(u,o,s),u.j[o]=[];S(c)}))},r.configure=function(e){this.C=e},r.Ma=function(){var e={total:this.o?[]:eu(this.l.buffered),audio:this.o?[]:eu(du(this,"audio")),video:this.o?[]:eu(du(this,"video")),text:[]};if(this.g){var t=this.g.g,n=this.g.h;null!=t&&null!=n&&e.text.push({start:t,end:n})}return e},r.remove=function(e,t,n){var r=this;return P((function(i){return e==at.da?T(i,r.g.remove(t,n),0):T(i,Tu(r,e,(function(){n<=t?wu(r,e):r.h[e].remove(t,n)})),0)}))},r.flush=function(e){var t=this;return P((function(n){return e==at.da?n.return():T(n,Tu(t,e,(function(){t.l.currentTime-=.001,wu(t,e)})),0)}))},r.endOfStream=function(e){var t=this;return P((function(n){return T(n,Su(t,(function(){lu(t)||"closed"===t.i.readyState||(e?t.i.endOfStream(e):t.i.endOfStream())})),0)}))},r.Va=function(e){var t=this;return P((function(n){return T(n,Su(t,(function(){if(e<t.i.duration)for(var n in t.h){var r={start:function(){},p:new pa};t.j[n].unshift(r)}t.i.duration=e})),0)}))},r.getDuration=function(){return this.i.duration};var Au=e.URL.createObjectURL,ku="sequence";function Iu(e){var t=this;this.g=e,this.j=!1,this.i=this.g.Ic(),this.h=new Pt((function(){t.g.we(.25*t.i)}))}function Cu(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{return void(e.g.Ic()!=t&&e.g.Wd(t))}catch(n){}e.h.sa(.25),0!=e.g.Ic()&&e.g.Wd(0)}function _u(e,t,n,r){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=Mu.value().get(t),n.oa(e,t,r))}Iu.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},Iu.prototype.set=function(e){this.i=e,Cu(this)},Iu.prototype.Ec=function(){return this.g.Ec()};var Mu=new kr((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}));function Ru(e,t,n,r){var i=this;this.g=e,this.m=t,this.s=n,this.l=null,this.j=function(){return null==i.l&&(i.l=r()),i.l},this.o=!1,this.h=new Io,this.i=new Ou(e),_u(this.g,HTMLMediaElement.HAVE_METADATA,this.h,(function(){Lu(i,i.j())}))}function Pu(e){return e.o?e.g.currentTime:e.j()}function Du(e,t){0<e.g.readyState?Bu(e.i,t):_u(e.g,HTMLMediaElement.HAVE_METADATA,e.h,(function(){Lu(e,e.j())}))}function Lu(e,t){.001>Math.abs(e.g.currentTime-t)?Nu(e):(e.h.oa(e.g,"seeking",(function(){Nu(e)})),Bu(e.i,e.g.currentTime&&0!=e.g.currentTime?e.g.currentTime:t))}function Nu(e){e.o=!0,e.h.J(e.g,"seeking",(function(){return e.m()})),e.s(e.g.currentTime)}function Ou(e){var t=this;this.h=e,this.m=10,this.l=this.j=this.i=0,this.g=new Pt((function(){0>=t.i||t.h.currentTime!=t.j?t.g.stop():(t.h.currentTime=t.l,t.i--)}))}function Bu(e,t){e.j=e.h.currentTime,e.l=t,e.i=e.m,e.h.currentTime=t,e.g.sa(.1)}function Uu(e){this.g=e,this.j=!1,this.h=null,this.i=new Io}function ju(e,t,n,r,i,a){var o=this;this.i=e,this.g=t.presentationTimeline,this.A=t.minBufferTime||0,this.l=n,this.u=i,this.s=null,this.o=function(e,t,n){if(!t.stallEnabled)return null;var r=t.stallSkip;return t=new tu(new nu(e),t.stallThreshold,n),function(e,t){e.i=t}(t,(function(){r?e.currentTime+=r:(e.pause(),e.play())})),t}(e,n,a),this.j=new iu(e,t.presentationTimeline,n,this.o,a),this.h=new Ru(e,(function(){var e=o.j;e.j=!0,e.o=!1;var t=Pu(o.h);return e=Fu(o,t),.001<Math.abs(e-t)&&(t=Date.now()/1e3,!o.s||o.s<t-1)?(o.s=t,Du(o.h,e),e=void 0):(o.u(),e=void 0),e}),(function(e){var t=o.j;t.g.seeking&&!t.j&&(t.j=!0,t.i=e)}),(function(){var e=r;return null==e?e=1/0>o.g.getDuration()?o.g.Fb():o.g.Na():0>e&&(e=o.g.Na()+e),Hu(o,Gu(o,e))})),this.m=new Pt((function(){if(0!=o.i.readyState&&!o.i.paused){var e=Pu(o.h),t=o.g.Fb(),n=o.g.Na();3>n-t&&(t=n-3),e<t&&(e=Fu(o,e),o.i.currentTime=e)}}))}function Hu(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function Fu(e,t){var n=Math.max(e.A,e.l.rebufferingGoal),r=e.l.safeSeekOffset,i=e.g.Fb(),a=e.g.Na(),o=e.g.getDuration();3>a-i&&(i=a-3);var s=e.g.hc(n),u=e.g.hc(r);return n=e.g.hc(n+r),t>=o?Hu(e,t):t>a?a:t<i?$s(e.i.buffered,u)?u:n:t>=s||$s(e.i.buffered,t)?t:n}function Gu(e,t){var n=e.g.Fb();return t<n?n:t>(e=e.g.Na())?e:t}function Vu(e){var t=this;this.h=e,this.g=new Set,this.i=new Pt((function(){zu(t,!1)})).sa(.25)}function zu(e,t){for(var n=l(e.g),r=n.next();!r.done;r=n.next())r.value.j(e.h.currentTime,t)}function Ku(e){Sa.call(this),this.g=new Map,this.h=e}function qu(e){Sa.call(this);var t=this;this.g=new Set,this.i=e,this.h=new Pt((function(){for(var e=t.i(),n=l(t.g),r=n.next();!r.done;r=n.next())(r=r.value).endTime<e.start&&(t.g.delete(r),r=new Ta("regionremove",new Map([["region",r]])),t.dispatchEvent(r))})).sa(2)}function Wu(e,t){Sa.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{vb:null,ub:Ju,ob:function(e,t){return Xu(n,"enter",e,t)}},{vb:Yu,ub:Ju,ob:function(e,t){return Xu(n,"enter",e,t)}},{vb:Zu,ub:Ju,ob:function(e,t){return Xu(n,"enter",e,t)}},{vb:Ju,ub:Yu,ob:function(e,t){return Xu(n,"exit",e,t)}},{vb:Ju,ub:Zu,ob:function(e,t){return Xu(n,"exit",e,t)}},{vb:Yu,ub:Zu,ob:function(e,t){return Xu(n,"skip",e,t)}},{vb:Zu,ub:Yu,ob:function(e,t){return Xu(n,"skip",e,t)}}],this.h=new Io,this.h.J(this.i,"regionremove",(function(e){n.g.delete(e.region)}))}function Xu(e,t,n,r){t=new Ta(t,new Map([["region",n],["seeking",r]])),e.dispatchEvent(t)}Ru.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.m=function(){},this.g=null},Ou.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null},(r=Uu.prototype).gd=function(){var e=this;_u(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,(function(){null==e.h||0==e.h?e.j=!0:(e.i.oa(e.g,"seeking",(function(){e.j=!0})),e.g.currentTime=Math.max(0,e.g.currentTime+e.h))}))},r.release=function(){this.i&&(this.i.release(),this.i=null),this.g=null},r.hd=function(e){this.h=this.j?this.h:e},r.yc=function(){return(this.j?this.g.currentTime:this.h)||0},r.de=function(){return 0},r.ce=function(){return 0},r.xe=function(){},(r=ju.prototype).gd=function(){this.m.sa(.25)},r.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.u=function(){}},r.hd=function(e){Du(this.h,e)},r.yc=function(){var e=Pu(this.h);return 0<this.i.readyState&&!this.i.paused?Gu(this,e):e},r.de=function(){return this.o?this.o.o:0},r.ce=function(){return this.j.C},r.xe=function(){this.j.Kd()},Vu.prototype.release=function(){this.i.stop();for(var e=l(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()},v(Ku,Sa),Ku.prototype.release=function(){this.g.clear(),Sa.prototype.release.call(this)},Ku.prototype.j=function(e){for(var t=l(this.g.values()),n=t.next();!n.done;n=t.next()){e:{for(var r=(n=n.value).oc,i=r.length-1;0<=i;i--){var a=r[i];if(a.position<=e){r=a.Cd;break e}}r=null}if((i=r)&&(i=!((i=n.je)===r||i&&r&&i.bandwidth==r.bandwidth&&i.audioSamplingRate==r.audioSamplingRate&&i.codecs==r.codecs&&i.contentType==r.contentType&&i.frameRate==r.frameRate&&i.height==r.height&&i.mimeType==r.mimeType&&i.channelsCount==r.channelsCount&&i.pixelAspectRatio==r.pixelAspectRatio&&i.width==r.width)),i)e:{if(i=e,a=r.contentType,(a=this.h()[a])&&0<a.length){var o=a[a.length-1].end;if(i>=a[0].start&&i<o){i=!0;break e}}i=!1}i&&(n.je=r,JSON.stringify(r),n=new Ta("qualitychange",new Map([["quality",r],["position",e]])),this.dispatchEvent(n))}},v(qu,Sa),qu.prototype.release=function(){this.g.clear(),this.h.stop(),Sa.prototype.release.call(this)},v(Wu,Sa),Wu.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,Sa.prototype.release.call(this)},Wu.prototype.j=function(e,t){if(!this.l||0!=e){this.l=!1;for(var n=l(this.i.g),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),a=e<r.startTime?Yu:e>r.endTime?Zu:Ju;this.g.set(r,a);for(var o=l(this.m),s=o.next();!s.done;s=o.next())(s=s.value).vb==i&&s.ub==a&&s.ob(r,t)}}};var Yu=1,Ju=2,Zu=3;function $u(e,t,n){this.j=e,this.h=t,this.i=0,this.l=n,this.g=new Map}function Qu(e){if(0!==e.g.size){for(var t=l(e.g.keys()),n=t.next();!n.done;n=t.next())(n=n.value)&&ec(e,n);e.i=0}}function ec(e,t){var n=e.g.get(t);e.g.delete(t),n&&n.abort()}function tc(e){this.i=e,this.g=this.h=null}function nc(e,t,n){e.g=e.i(t,n,(function(t){return P((function(n){return e.h?T(n,e.h(t),0):n.B(0)}))}))}function rc(e,t){var n=this;this.g=t,this.m=e,this.i=null,this.u=1,this.o=this.j=null,this.D=0,this.C=!1,this.h=new Map,this.A=!1,this.F=null,this.s=!1,this.l=new Ao((function(){return function(e){var t,n,r,i;return P((function(a){if(1==a.g){for(t=[],n=l(e.h.values()),r=n.next();!r.done;r=n.next())yc(i=r.value),t.push(bc(i));return T(a,Promise.all(t),2)}e.h.clear(),e.g=null,e.m=null,e.i=null,S(a)}))}(n)}))}function ic(e,t){var n=e.h.get("video");if(n){var r=n.stream;r&&(t?(t=r.trickModeVideo)&&!n.rb&&(sc(e,t,!1,0,!1),n.rb=r):(r=n.rb)&&(n.rb=null,sc(e,r,!0,0,!1)))}}function ac(e,t,n,r,i,a){n=void 0!==n&&n,r=void 0===r?0:r,i=void 0!==i&&i,a=void 0!==a&&a,e.j=t,e.A&&(t.video&&sc(e,t.video,n,r,i,a),t.audio&&sc(e,t.audio,n,r,i,a))}function oc(e,t){P((function(n){if(1==n.g)return e.o=t,e.A?t.segmentIndex?n.B(2):T(n,t.createSegmentIndex(),2):n.return();sc(e,t,!0,0,!1),S(n)}))}function sc(e,t,n,r,i,a){var o=e.h.get(t.type);o||t.type!=it?o&&(o.rb&&(t.trickModeVideo?(o.rb=t,t=t.trickModeVideo):o.rb=null),o.stream!=t||i)&&(o.ra&&function(e,t){t&&t!==e.h&&(Qu(e),e.h=t)}(o.ra,t),t.type==it&&(i=ut(t.mimeType,t.codecs),cu(e.g.N,i,e.m.sequenceMode,t.external)),o.stream.closeSegmentIndex&&o.stream.closeSegmentIndex(),o.stream=t,o.X=null,o.ee=!!a,n&&(o.$b?o.Zc=!0:o.pa?(o.eb=!0,o.Ac=r,o.Zc=!0):(yc(o),mc(e,o,!0,r).catch((function(t){e.g&&e.g.onError(t)})))),function(e,t){var n,r;return P((function(i){if(1==i.g)return t.qa?(n=t.stream,r=t.qa,n.segmentIndex?i.B(2):T(i,n.createSegmentIndex(),2)):i.return();if(t.qa!=r||t.stream!=n)return i.return();var a=e.g.Hc(),o=fu(e.g.N,t.type),s=t.stream.segmentIndex.find(t.na?t.na.endTime:a),u=null==s?null:t.stream.segmentIndex.get(s);s=u&&u.i?u.i-u.j:null,u&&!s&&(s=(u.endTime-u.getStartTime())*(t.stream.bandwidth||0)/8),s?((u=u.g)&&(s+=(u.i?u.i-u.j:null)||0),a=8*s/(u=e.g.getBandwidthEstimate())<(o||0)-a-Math.max(e.m.minBufferTime||0,e.i.rebufferingGoal)||t.qa.h.g>s):a=!1,a&&t.qa.abort(),S(i)}))}(e,o).catch((function(t){e.g&&e.g.onError(t)}))):function(e,t){var n,r,i,a,o;P((function(s){switch(s.g){case 1:return n=at,e.D++,r=e.D,x(s,2),T(s,gu(e.g.N,n.da),4);case 4:E(s,3);break;case 2:i=A(s),e.g&&e.g.onError(i);case 3:a=ut(t.mimeType,t.codecs),cu(e.g.N,a,e.m.sequenceMode,t.external),(e.g.N.u.isTextVisible()||e.i.alwaysStreamText)&&e.D==r&&(o=cc(e,t),e.h.set(n.da,o),vc(e,o,0)),S(s)}}))}(e,t)}function uc(e,t){t.$b||t.eb||(t.pa?(t.eb=!0,t.Ac=0):null==hu(e.g.N,t.type)?null==t.Ha&&vc(e,t,0):(yc(t),mc(e,t,!1,0).catch((function(t){e.g&&e.g.onError(t)}))))}function cc(e,t){return{stream:t,type:t.type,X:null,ra:lc(e,t),na:null,Ib:null,yd:null,wd:null,vd:null,rb:null,endOfStream:!1,pa:!1,Ha:null,eb:!1,Ac:0,Zc:!1,$b:!1,rc:!0,Fd:!1,Qd:!1,kc:!1,qa:null}}function lc(e,t){return"video"!==t.type&&"audio"!==t.type?null:0<e.i.segmentPrefetchLimit?new $u(e.i.segmentPrefetchLimit,t,(function(t,n,r){return gc(e,t,n,r)})):null}function hc(t,n){var r,i,a,o,s;return P((function(u){switch(u.g){case 1:if(ko(t.l),n.pa||null==n.Ha||n.$b)return u.return();if(n.Ha=null,!n.eb){u.B(2);break}return T(u,mc(t,n,n.Zc,n.Ac),3);case 3:return u.return();case 2:if(n.stream.segmentIndex){u.B(4);break}return r=n.stream,T(u,n.stream.createSegmentIndex(),5);case 5:if(r!=n.stream)return r.closeSegmentIndex&&r.closeSegmentIndex(),n.pa||n.Ha||vc(t,n,0),u.return();case 4:x(u,6),i=function(t,n){if(dc(n))return function(e,t){var n=fu(e,"video")||0;vt(e.g,t,n)}(t.g.N,n.stream.originalId||""),null;n.type==it&&function(e){e.g&&vt(e.g,"",0)}(t.g.N);var r=t.g.Hc(),i=n.na?n.na.endTime:r,a=function(e,t,n){return e.o?0:t==it?null==(e=e.g).h||e.h<n?0:e.h-Math.max(n,e.g):Qs(e=du(e,t),n)}(t.g.N,n.type,r),o=Math.max(t.m.minBufferTime||0,t.i.rebufferingGoal,t.i.bufferingGoal)*t.u,s=t.m.presentationTimeline.getDuration()-i,u=fu(t.g.N,n.type);if(1e-6>s&&u)return n.endOfStream=!0,"video"==n.type&&(t=t.h.get(it))&&dc(t)&&(t.endOfStream=!0),null;if(n.endOfStream=!1,a>=o)return t.i.updateIntervalSeconds/2;if(a=function(e,t,n,r){if(t.X)return t.X.current();if(t.na||r)return n=t.na?t.na.endTime:r,t.Fd=!0,t.X=t.stream.segmentIndex.kb(n),t.X&&t.X.next().value;e=e.i.inaccurateManifestTolerance,r=Math.max(n-e,0);var i=null;return e&&(t.X=t.stream.segmentIndex.kb(r),i=t.X&&t.X.next().value),i||(t.X=t.stream.segmentIndex.kb(n),i=t.X&&t.X.next().value),i}(t,n,r,u),!a)return t.i.updateIntervalSeconds;for(o=1/0,s=l(s=Array.from(t.h.values())),u=s.next();!u.done;u=s.next())dc(u=u.value)||u.X&&!u.X.current()||(o=Math.min(o,u.na?u.na.endTime:r));return i>=o+t.m.presentationTimeline.g?t.i.updateIntervalSeconds:(n.ra&&n.X&&function(e,t){if(e.h.segmentIndex){var n=e.h.segmentIndex.kb(Math.max(t.startTime,e.i));if(n)for(;e.g.size<e.j&&null!=t;){var r=!0;t.u&&null!=t.i&&(r=!1),2==t.jc()&&(r=!1),r&&!e.g.has(t)&&(nc(r=new tc(e.l),t,e.h),e.g.set(t,r)),e.i=t.startTime,t=n.next().value}}}(n.ra,a),function(t,n,r,i){var a,o,s,u,c,l,h,f,d,p,g,m,v,y;return P((function(b){switch(b.g){case 1:if(a=at,o=n.stream,s=n.X,n.pa=!0,x(b,2),2==i.jc())throw new Ye(1,1,1011);return T(b,function(e,t,n){var r,i,a,o,s,u,c,l,h,f,d,p,g;return P((function(m){return r=at,i=[],a=Math.max(0,n.L-.1),o=n.K+.01,s=dt(t.stream.codecs)[0],u=t.stream.mimeType.split(";")[0],(c=n.m)==t.yd&&a==t.wd&&o==t.vd&&s==t.Pc&&u==t.xd||((t.Pc&&s!=t.Pc||t.xd&&u!=t.xd)&&(t.type===r.Aa?(l=e.h.get(r.xb))&&(l.Ib=null,bc(l)):t.type===r.xb&&(h=e.h.get(r.Aa))&&(h.Ib=null,bc(h))),f=function(){var n,i,l;return P((function(h){if(1==h.g)return n=new Map,e.j.audio&&n.set(r.xb,e.j.audio),e.j.video&&n.set(r.Aa,e.j.video),x(h,2),t.wd=a,t.vd=o,t.Pc=s,t.xd=u,t.yd=c,i=e.m.sequenceMode||"HLS"==e.m.type,T(h,mu(e.g.N,t.type,c,a,o,i,t.stream,n),4);if(2!=h.g)return E(h,0);throw l=A(h),t.wd=null,t.vd=null,t.Pc=null,t.yd=null,l}))},i.push(f())),!function(e,t){return e&&t?e.ic()==t.ic()&&e.ec()==t.ec()&&fe(e.Oa(),t.Oa())&&ee(e.g,t.g):e==t}(n.g,t.Ib)&&(t.Ib=n.g)&&(d=pc(e,t,n.g,void 0,!0),p=function(){var i,a,o,s,u;return P((function(c){switch(c.g){case 1:return x(c,2),T(c,d,4);case 4:return i=c.h,ko(e.l),a=null,o=new Map,(new Vr).box("moov",zr).box("trak",zr).box("mdia",zr).R("mdhd",(function(e){a=Qr(e.reader,e.version).timescale})).box("hdlr",(function(e){(e=e.reader).skip(8),e=e.$a(4);var t=String.fromCharCode(e[0]);switch(t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])){case"soun":o.set(r.xb,a);break;case"vide":o.set(r.Aa,a)}a=null})).parse(i),o.has(t.type)?n.g.timescale=o.get(t.type):null!=a&&(n.g.timescale=a),s=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,T(c,e.g.fe(t.type,i),5);case 5:return T(c,pu(e.g.N,t.type,i,null,t.stream,s),6);case 6:E(c,0);break;case 2:throw u=A(c),t.Ib=null,u}}))},e.g.Qf(n.startTime,n.g),i.push(p())),g=t.na?t.na.o:null,e.m.sequenceMode?(n.o!=g||t.Fd)&&(t.Fd=!1,i.push(vu(e.g.N,t.type,n.startTime))):e.m.ignoreManifestTimestampsInSegmentsMode&&n.o!=g&&i.push(vu(e.g.N,t.type,n.m)),T(m,Promise.all(i),0)}))}(t,n,i),4);case 4:return ko(t.l),t.s?b.return():(u="video/mp4"==o.mimeType||"audio/mp4"==o.mimeType,c=e.ReadableStream,t.i.lowLatencyMode&&c&&u&&("HLS"!=t.m.type||i.A)?(h=new Uint8Array(0),d=f=!1,p=function(e){var a,s,u;return P((function(c){return f?c.return():(d=!0,ko(t.l),t.s?c.return():(h=function(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(h,e),a=!1,s=0,(new Vr).box("mdat",(function(e){s=e.size+e.start,a=!0})).parse(h,!1,!0),a?(u=h.subarray(0,s),h=h.subarray(s),T(c,fc(t,n,r,o,i,u),0)):c.B(0)))}))},T(b,pc(t,n,i,p),11)):T(b,pc(t,n,i),7));case 7:if(l=b.h,ko(t.l),t.s)return b.return();if(!i.C){b.B(8);break}return T(b,function(t,n,r){var i,a,o,s;return P((function(u){if(1==u.g)return(i=n.C).cryptoKey?u.B(2):T(u,i.fetchKey(),3);if(!(a=i.iv))for(a=re(new ArrayBuffer(16)),o=i.firstMediaSequenceNumber+r.g,s=a.byteLength-1;0<=s;s--)a[s]=255&o,o>>=8;return u.return(e.crypto.subtle.decrypt({name:"AES-CBC",iv:a},i.cryptoKey,t))}))}(l,i,s),9);case 9:l=b.h;case 8:return ko(t.l),n.eb?(n.pa=!1,vc(t,n,0),b.return()):T(b,fc(t,n,r,o,i,l),6);case 11:if(g=b.h,d){b.B(6);break}return f=!0,ko(t.l),t.s?b.return():n.eb?(n.pa=!1,vc(t,n,0),b.return()):T(b,fc(t,n,r,o,i,g),6);case 6:if(ko(t.l),t.s)return b.return();n.na=i,s.next(),n.pa=!1,n.Qd=!1,m=t.g.N.Ma(),v=m[n.type],JSON.stringify(v),n.eb||t.g.Kd(i.startTime,i.endTime,n.type),vc(t,n,0),E(b,0);break;case 2:if(y=A(b),ko(t.l,y),t.s)return b.return();if(n.pa=!1,7001==y.code)n.pa=!1,yc(n),vc(t,n,0),b.B(0);else if(n.type==a.da&&t.i.ignoreTextStreamFailures)t.h.delete(a.da),b.B(0);else{if(3017!=y.code)return n.kc=!0,y.severity=2,T(b,wc(t,n,y),0);(function(e,t,n){if(!Array.from(e.h.values()).some((function(e){return e!=t&&e.Qd}))){var r=Math.round(100*e.u);if(20<r)e.u-=.2;else{if(!(4<r))return t.kc=!0,e.s=!0,void e.g.onError(n);e.u-=.04}t.Qd=!0}vc(e,t,4)})(t,n,y),b.B(0)}}}))}(t,n,r,a).catch((function(){})),null)}(t,n),null!=i&&(vc(t,n,i),n.kc=!1),E(u,7);break;case 6:return a=A(u),T(u,wc(t,n,a),8);case 8:return u.return();case 7:if(o=Array.from(t.h.values()),!t.A||!o.every((function(e){return e.endOfStream}))){u.B(0);break}return T(u,t.g.N.endOfStream(),10);case 10:ko(t.l),0!=(s=t.g.N.getDuration())&&s<t.m.presentationTimeline.getDuration()&&t.m.presentationTimeline.Va(s),S(u)}}))}function fc(e,t,n,r,i,a){var o,s,u,c,l,h;return P((function(f){switch(f.g){case 1:return o=r.closedCaptions&&0<r.closedCaptions.size,u=null!=r.emsgSchemeIdUris&&0<r.emsgSchemeIdUris.length||e.i.dispatchAllEmsgBoxes,c=e.i.parsePrftBox&&!e.C,(u||c)&&(s=new Vr),u&&s.R("emsg",(function(t){var n=r.emsgSchemeIdUris;if(0===t.version)var a=t.reader.pc(),o=t.reader.pc(),s=t.reader.H(),u=t.reader.H(),c=t.reader.H(),l=t.reader.H(),h=i.startTime+u/s;else s=t.reader.H(),u=(h=t.reader.Mb()/s+i.m)-i.startTime,c=t.reader.H(),l=t.reader.H(),a=t.reader.pc(),o=t.reader.pc();t=t.reader.$a(t.reader.getLength()-t.reader.aa()),(n&&n.includes(a)||e.i.dispatchAllEmsgBoxes)&&("urn:mpeg:dash:event:2012"==a?e.g.Rf():((n=new Ta("emsg",n=(new Map).set("detail",{startTime:h,endTime:h+c/s,schemeIdUri:a,value:o,timescale:s,presentationTimeDelta:u,eventDuration:c,id:l,messageData:t}))).cancelable=!0,e.g.onEvent(n),n.defaultPrevented||"https://aomedia.org/emsg/ID3"!=a&&"https://developer.apple.com/streaming/emsg-id3"!=a||(a=Ei(t)).length&&i&&e.g.Sf([{cueTime:i.startTime,data:t,frames:a,dts:i.startTime,pts:i.startTime}],0,i.endTime)))})),c&&s.R("prft",(function(t){if(!e.C&&i.g.timescale){var n=t.reader,r=t.version;n.H(),t=1e3*(t=n.H())+n.H()/Math.pow(2,32)*1e3,0===r?n=n.H():(r=n.H(),n=n.H(),n=r*Math.pow(2,32)+n),t=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+t).getTime(),n=new Ta("prft",n=(new Map).set("detail",{wallClockTime:t,programStartDate:new Date(t-n/i.g.timescale*1e3)})),e.g.onEvent(n),e.C=!0}})),(u||c)&&s.parse(a),T(f,function(e,t,n){var r,i,a;return P((function(o){if(1==o.g)return r=Math.max(e.i.bufferBehind,e.m.presentationTimeline.g),null==(i=hu(e.g.N,t.type))||.01>=(a=n-i-r)?o.return():T(o,e.g.N.remove(t.type,i,i+a),2);ko(e.l),S(o)}))}(e,t,n),2);case 2:return ko(e.l),l=t.rc,t.rc=!1,h=t.ee,t.ee=!1,T(f,e.g.fe(t.type,a),3);case 3:return T(f,pu(e.g.N,t.type,a,i,r,o,l,h),4);case 4:ko(e.l),S(f)}}))}function dc(e){return e&&e.type==it&&("application/cea-608"==e.stream.mimeType||"application/cea-708"==e.stream.mimeType)}function pc(e,t,n,r,i){var a,o,s;return P((function(u){if(1==u.g){if(n instanceof Fa&&(a=n.g))return u.return(a);if(o=null,t.ra&&n instanceof Ga){var c=t.ra;if(c.g.has(n)){var l=c.g.get(n);r&&(l.h=r),c.g.delete(n),o=l.g}else o=null}return o||(o=gc(e,n,t.stream,r,i)),t.qa=o,T(u,o.promise,2)}return s=u.h,t.qa=null,u.return(s.data)}))}function gc(e,t,n,r,i){i=i?0:1;var a=t instanceof Ga?t:void 0;return t=Eo(t.Oa(),t.j,t.i,e.i.retryParameters,r),e.g.mc.request(Da,t,{type:i,stream:n,segment:a})}function mc(e,t,n,r){var i,a;return P((function(o){return 1==o.g?(t.eb=!1,t.Zc=!1,t.Ac=0,t.$b=!0,t.na=null,t.Ib=null,t.X=null,t.ra&&Qu(t.ra),r?(i=e.g.Hc(),a=e.g.N.getDuration(),T(o,e.g.N.remove(t.type,i+r,a),3)):T(o,gu(e.g.N,t.type),4)):3!=o.g?(ko(e.l),n?T(o,e.g.N.flush(t.type),3):o.B(3)):(ko(e.l),t.$b=!1,t.endOfStream=!1,t.pa||t.Ha||vc(e,t,0),void S(o))}))}function vc(e,t,n){var r=t.type;(r!=it||e.h.has(r))&&(t.Ha=new Rt((function(){var n;return P((function(r){return 1==r.g?(x(r,2),T(r,hc(e,t),4)):2!=r.g?E(r,0):(n=A(r),e.g&&e.g.onError(n),void S(r))}))})).V(n))}function yc(e){null!=e.Ha&&(e.Ha.stop(),e.Ha=null)}function bc(e){return P((function(t){return e.qa?T(t,e.qa.abort(),0):t.B(0)}))}function wc(e,t,n){var r;return P((function(i){if(1==i.g)return T(i,da(e.F),2);ko(e.l),r=0===e.i.maxDisabledTime&&1011==n.code?1:e.i.maxDisabledTime,1===n.category&&0<r&&(n.handled=e.g.kd(t.stream,r),n.handled&&(n.severity=1)),e.g.onError(n),n.handled||e.i.failureCallback(n),S(i)}))}function Tc(e){if(e=Sc(e))e:{for(var t=(e=l(e.getElementsByTagName("DATA"))).next();!t.done;t=e.next())if(t=Fi(t.value,"LA_URL")){e=t.textContent;break e}e=""}else e="";return e}function Sc(e){return(e=function(e){var t=0,n=ie(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,0!=(1&i)||i+e>n.byteLength){n=[];break e}var a=re(n,e,i);t.push({type:r,value:a}),e+=i}n=t}return n}(e=_i(e.textContent)).filter((function(e){return e.type===xc}))[0])&&(e=ia(e=_r(e.value,!0),"WRMHEADER"))?e:null}tc.prototype.abort=function(){this.g&&this.g.abort()},(r=rc.prototype).destroy=function(){return this.l.destroy()},r.configure=function(e){this.i=e,this.F=new fa({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0);for(var t=l(this.h.keys()),n=t.next();!n.done;n=t.next())if((n=this.h.get(n.value)).ra){var r=n.ra,i=e.segmentPrefetchLimit;r.j=i;for(var a=Array.from(r.g.keys());a.length>i;){var o=a.pop();o&&ec(r,o)}0<e.segmentPrefetchLimit||(n.ra=null)}else 0<e.segmentPrefetchLimit&&(n.ra=lc(this,n.stream))},r.start=function(){var e=this;return P((function(t){if(1==t.g)return T(t,function(e){var t,n,r,i,a,o,s,u;return P((function(c){if(1==c.g){if(t=at,!e.j)throw new Ye(2,5,5006);return n=new Map,r=new Set,e.j.audio&&(n.set(t.xb,e.j.audio),r.add(e.j.audio)),e.j.video&&(n.set(t.Aa,e.j.video),r.add(e.j.video)),e.o&&(n.set(t.da,e.o),r.add(e.o)),T(c,e.g.N.init(n,e.m.sequenceMode,e.m.type,e.m.ignoreManifestTimestampsInSegmentsMode),2)}for(ko(e.l),e.updateDuration(),i=l(n.keys()),a=i.next();!a.done;a=i.next())o=a.value,s=n.get(o),e.h.has(o)||(u=cc(e,s),e.h.set(o,u),vc(e,u,0));S(c)}))}(e),2);ko(e.l),e.A=!0,S(t)}))},r.rc=function(){if(this.g)for(var e=this.g.Hc(),t=l(this.h.keys()),n=t.next();!n.done;n=t.next()){var r=n.value,i=null;(n=this.h.get(r)).X&&(i=n.X.current()),(!i||i.startTime>e||i.endTime<e)&&(n.X=null),(i=this.g.N).o?i=!1:r==it?i=null!=(i=i.g).g&&null!=i.h&&(e>=i.g&&e<i.h):i=$s(i=du(i,r),e),i||((null!=fu(this.g.N,r)||n.pa)&&uc(this,n),n.qa&&(n.qa.abort(),n.qa=null),r===it&&((r=this.g.N).D&&r.D.i()),n.rc=!0)}},r.updateDuration=function(){var e=this.m.presentationTimeline.getDuration();1/0>e?this.g.N.Va(e):this.g.N.Va(Math.pow(2,32))};var xc=1,Ec=(new Map).set("com.microsoft.playready",Tc).set("com.microsoft.playready.recommendation",Tc).set("com.microsoft.playready.software",Tc).set("com.microsoft.playready.hardware",Tc);function Ac(e){if(!Dc){Dc=!0;var t=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),r=new Uint8Array([0,0,0,1]);Kc=Pc("ftyp",t,r,t,n),t=Pc("dref",qc),Wc=Pc("dinf",t)}this.g=e}function kc(e){var t=Pc,n=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){n=e.stream.width||0;var r=e.stream.height||0;if(0<e.ga.byteLength)var i=Pc("avcC",e.ga);else{i=Pc;for(var a=7,o=[],s=[],u=0,c=0,l=0,f=0;f<e.xa.length;f++){var d=Rc(e.xa[f]);switch(31&d[0]){case 7:o.push(d),a+=d.length+2;break;case 8:s.push(d),a+=d.length+2}}for(0<o.length&&(u=o[0][1],l=o[0][2],c=o[0][3]),f=0,(a=new Uint8Array(a))[f++]=1,a[f++]=u,a[f++]=l,a[f++]=c,a[f++]=255,a[f++]=224|o.length,u=0;u<o.length;u++)a[f++]=(65280&o[u].length)>>8,a[f++]=255&o[u].length,a.set(o[u],f),f+=o[u].length;for(a[f++]=s.length,o=0;o<s.length;o++)a[f++]=(65280&s[o].length)>>8,a[f++]=255&s[o].length,a.set(s[o],f),f+=s[o].length;i=i("avcC",a)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(h(Mc(n,2)),h(Mc(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="avc1",s=new Uint8Array([]),e.encrypted&&(s=Cc(e),r="encv"),n=Pc(r,n,i,s)}else e.codecs.includes("hvc1")&&(r=e.stream.width||0,i=e.stream.height||0,n=new Uint8Array([]),0<e.ga.byteLength&&(n=Pc("hvcC",e.ga)),r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(h(Mc(r,2)),h(Mc(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="hvc1",s=new Uint8Array([]),e.encrypted&&(s=Cc(e),i="encv"),n=Pc(i,r,n,s));break;case"audio":e.codecs.includes("mp3")?e=Pc(".mp3",Ic(e)):e.codecs.includes("ac-3")?(n=Pc("dac3",e.Y),r="ac-3",i=new Uint8Array([]),e.encrypted&&(i=Cc(e),r="enca"),e=Pc(r,Ic(e),n,i)):e.codecs.includes("ec-3")?(n=Pc("dec3",e.Y),r="ec-3",i=new Uint8Array([]),e.encrypted&&(i=Cc(e),r="enca"),e=Pc(r,Ic(e),n,i)):(0<e.Y.byteLength?n=Pc("esds",e.Y):(n=Pc,r=e.id+1,i=e.stream.bandwidth||0,s=e.stream.channelsCount||2,u=e.stream.audioSamplingRate||44100,c=nt("audio",e.codecs.split(",")),o=(l={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12})[u],"mp4a.40.5"!==c&&"mp4a.40.29"!==c||(o=l[2*u]),u=parseInt(c.split(".").pop(),10),n=n("esds",r=new Uint8Array([0,0,0,0,3,25].concat(h(Mc(r,2)),[0,4,17,64,21,0,6,0],h(Mc(i,4)),h(Mc(i,4)),[5,2,u<<3|o>>>1,o<<7|s<<3,6,1,2])))),r="mp4a",i=new Uint8Array([]),e.encrypted&&(i=Cc(e),r="enca"),e=Pc(r,Ic(e),n,i)),n=e}return t("stbl",e=Pc("stsd",zc,n),Pc("stts",Uc),Pc("stsc",jc),Pc("stsz",Fc),Pc("stco",Hc))}function Ic(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(h(Mc(e.stream.audioSamplingRate||44100,2)),[0,0]))}function Cc(e){for(var t=Pc,n=e.codecs.substring(0,e.codecs.indexOf(".")),r=0,i=0;i<n.length;i+=1)r|=n.charCodeAt(i)<<8*(n.length-i-1);n=Pc("frma",n=new Uint8Array([].concat(h(Mc(r,4))))),r=Pc("schm",r=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0])),i=Pc;for(var a=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=(e=l(e.stream.drmInfos)).next();!o.done;o=e.next())if((o=o.value)&&o.keyIds&&o.keyIds.size)for(var s=(o=l(o.keyIds)).next();!s.done;s=o.next())a=Rc(s.value);return t("sinf",n,r,i("schi",a=Pc("tenc",e=new Uint8Array([0,0,0,0,0,0,1,8]),a)))}function _c(e){for(var t=new Uint8Array([]),n=(e=l(e.g)).next();!n.done;n=e.next()){n=n.value;var r,i=Pc,a=new Uint8Array([0,0,0,0].concat(h(Mc(n.data?n.data.Ua:0,4))));a=Pc("mfhd",a);var o=n.data?n.data.wa:[],s=new Uint8Array(4+o.length);for(r=0;r<o.length;r++){var u=o[r].flags;s[r+4]=u.Ca<<4|u.Fa<<2|u.Ea}var c=(o=Pc("sdtp",s)).length+92;s=Pc,r=Pc("tfhd",r=new Uint8Array([0,0,0,58].concat(h(Mc(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),u=n.data?n.data.baseMediaDecodeTime:0;var f=Math.floor(u%(Lc+1));u=Pc("tfdt",u=new Uint8Array([1,0,0,0].concat(h(Mc(Math.floor(u/(Lc+1)),4)),h(Mc(f,4)))));var d=c,p=12+16*(f=(c=n.data?n.data.wa:[]).length),g=new Uint8Array(p);for(d+=8+p,g.set(["video"===n.type?1:0,0,15,1].concat(h(Mc(f,4)),h(Mc(d,4))),0),d=0;d<f;d++){var m=c[d];p=Mc(m.duration,4);var v=Mc(m.size,4),y=m.flags;m=Mc(m.Ja,4),g.set([].concat(h(p),h(v),[y.Pa<<2|y.Ca,y.Fa<<6|y.Ea<<4|y.Qa,61440&y.Ba,15&y.Ba],h(m)),12+16*d)}for(i=i("moof",a,o=s("traf",r,u,c=Pc("trun",g),o)),a=n.data?n.data.wa:[],n=new Uint8Array([]),o=(a=l(a)).next();!o.done;o=a.next())n=Pi(n,o.value.data);t=Pi(t,i,n=Pc("mdat",n))}return t}function Mc(e,t){var n=[];for(--t;0<=t;t--)n.push(e>>8*t&255);return n}function Rc(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function Pc(e){var t=D.apply(1,arguments),n=Nc[e];n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],Nc[e]=n);for(var r=8,i=t.length-1;0<=i;i--)r+=t[i].byteLength;for((i=new Uint8Array(r))[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=255&r,i.set(n,4),n=0,r=8;n<t.length;n++)i.set(t[n],r),r+=t[n].byteLength;return i}Ac.prototype.initSegment=function(){for(var e=new Uint8Array([]),t=l(this.g),n=t.next();!n.done;n=t.next()){var r=e;e=n.value,n=Pc;var i=e.id+1,a=e.stream.width||0,o=e.stream.height||0;"audio"==e.type&&(o=a=0);var s=e.duration*e.timescale,u=Math.floor(s/(Lc+1));switch(s=Math.floor(s%(Lc+1)),i=Pc("tkhd",i=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(h(Mc(i,4)),[0,0,0,0],h(Mc(u,4)),h(Mc(s,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],h(Mc(a,2)),[0,0],h(Mc(o,2)),[0,0]))),a=Pc,u=e.duration*e.timescale,o=Math.floor(u/(Lc+1)),u=Math.floor(u%(Lc+1)),s=(s=e.stream.language).charCodeAt(0)-96<<10|s.charCodeAt(1)-96<<5|s.charCodeAt(2)-96,o=Pc("mdhd",o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(h(Mc(e.timescale,4)),h(Mc(o,4)),h(Mc(u,4)),h(Mc(s,2)),[0,0]))),u=e,s=new Uint8Array([]),u.type){case"video":s=Oc;break;case"audio":s=Bc}u=Pc("hdlr",s);e:{switch(e.type){case"video":e=Pc("minf",Pc("vmhd",Gc),Wc,kc(e));break e;case"audio":e=Pc("minf",Pc("smhd",Vc),Wc,kc(e));break e}e=new Uint8Array([])}e=Pi(r,n=n("trak",i,e=a("mdia",o,u,e)))}for(t=Pc,i=(n=this.g[0]).duration*n.timescale,r=Math.floor(i/(Lc+1)),i=Math.floor(i%(Lc+1)),r=Pc("mvhd",r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(h(Mc(n.timescale,4)),h(Mc(r,4)),h(Mc(i,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))),a=new Uint8Array([]),o=(i=l(this.g)).next();!o.done;o=i.next())a=Pi(a,o=Pc("trex",o=new Uint8Array([0,0,0,0].concat(h(Mc(o.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))));if(i=Pc("mvex",a),a=new Uint8Array([]),n.encrypted)for(o=(n=l(n.stream.drmInfos)).next();!o.done;o=n.next())if((o=o.value).initData)for(u=(o=l(o.initData)).next();!u.done;u=o.next())a=Pi(a,u.value.initData);return t=t("moov",r,e,i,a),(r=new Uint8Array(Kc.byteLength+t.byteLength)).set(Kc),r.set(t,Kc.byteLength),r};var Dc=!1,Lc=Math.pow(2,32)-1,Nc={},Oc=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Bc=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Uc=new Uint8Array([0,0,0,0,0,0,0,0]),jc=new Uint8Array([0,0,0,0,0,0,0,0]),Hc=new Uint8Array([0,0,0,0,0,0,0,0]),Fc=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Gc=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Vc=new Uint8Array([0,0,0,0,0,0,0,0]),zc=new Uint8Array([0,0,0,0,0,0,0,1]),Kc=new Uint8Array([]),qc=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Wc=new Uint8Array([]);function Xc(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.s=1,this.i=null,this.A=new F(5),this.o=new Pt((function(){!function(e){var t;P((function(n){switch(n.g){case 1:return x(n,2),T(n,Yc(e),4);case 4:E(n,3);break;case 2:t=A(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();S(n)}}))}(e)})),this.u=new Aa,this.m=new Map}function Yc(e){var t,n,r,i,a,o,s;return P((function(u){if(1==u.g)return t=_a(e.l,e.g.retryParameters),n=e.h.networkingEngine,r=Date.now(),i=n.request(0,t,{type:5}),ka(e.u,i),T(u,i.promise,2);if(a=u.h,!e.h)return u.return();a.uri&&!e.l.includes(a.uri)&&e.l.unshift(a.uri);var c=a.uri,f=aa(a.data,"SmoothStreamingMedia");if(!f)throw new Ye(2,4,4046,c);if((c=e.g.mss.manifestPreprocessor)&&c(f),e.i||(e.i=new xo(null,0)),c=Xi(f,"IsLive",na,!1))throw new Ye(2,4,4047);e.i.Yd(!c);var d=Xi(f,"TimeScale",ea,1e7),p=Xi(f,"DVRWindowLength",ea);c&&(0===p||isNaN(p))&&(p=1/0);var g,m=Xi(f,"CanSeek",na,!1);for(0===p&&m&&(p=1/0),m=null,p&&0<p&&(m=p/d),c&&!isNaN(e.g.availabilityWindowOverride)&&(m=e.g.availabilityWindowOverride),null==m&&(m=1/0),e.i.Xd(m),p=Xi(f,"Duration",ea,1/0),c||e.i.Va(p/d),c={variants:[],textStreams:[],timescale:d,duration:p/d},m=Vi(f,"Protection"),d=e.g.mss.keySystemsBySystemId,p=[],g=(m=l(m)).next();!g.done;g=m.next())p=p.concat(Vi(g.value,"ProtectionHeader"));if(p.length){for(m=[],g=0;g<p.length;g++){var v=p[g],y=v.getAttribute("SystemID").toLowerCase(),b=d[y];if(b){var w=Sc(v);if(w)e:{for(var x=(w=l(w.getElementsByTagName("DATA"))).next();!x.done;x=w.next())if(x=Fi(x.value,"KID")){w=_i(x.textContent),w=Ri(w=new Uint8Array([w[3],w[2],w[1],w[0],w[5],w[4],w[7],w[6]].concat(h(w.slice(8)))));break e}w=null}else w=null;y=tt(b,y=[{initData:Hi(x=_i(v.textContent),y=Mi(y.replace(/-/g,"")),new Set,0),initDataType:"cenc",keyId:w}]),w&&y.keyIds.add(w),(b=Ec.get(b))&&(y.licenseServerUri=b(v)),m.push(y)}}d=m}else d=[];for(g=d,m=[],d=[],p=[],v=(f=l(f=Vi(f,"StreamIndex"))).next();!v.done;v=f.next()){b=Vi(v=v.value,"QualityLevel"),y=c.timescale,w=c.duration,x=Vi(v,"c");for(var E=[],A=0,k=0;k<x.length;++k){var I=x[k],C=x[k+1],_=Xi(I,"t",ea),M=Xi(I,"d",ea);if(I=Xi(I,"r",$i),!M)break;if(_=null!=_?_:A,0>(I=I||0))if(C){if(null==(C=Xi(C,"t",ea)))break;if(_>=C)break;I=Math.ceil((C-_)/M)-1}else{if(1/0==w)break;if(_/y>=w)break;I=Math.ceil((w*y-_)/M)-1}for(C=0;C<=I;++C)A=_+M,E.push({start:_/y,end:A/y,be:_}),_=A}for(y=E,w=(b=l(b)).next();!w.done;w=b.next())(w=Jc(e,v,w.value,y,g,c))&&("audio"!=w.type||e.g.disableAudio?"video"!=w.type||e.g.disableVideo?w.type!=it||e.g.disableText||p.push(w):d.push(w):m.push(w))}for(f=[],g=(m=l(0<m.length?m:[null])).next();!g.done;g=m.next())for(g=g.value,w=(v=l(0<d.length?d:[null])).next();!w.done;w=v.next())y=(b=f).push,w=w.value,x=0,g&&g.bandwidth&&0<g.bandwidth&&(x+=g.bandwidth),w&&w.bandwidth&&0<w.bandwidth&&(x+=w.bandwidth),w={id:e.s++,language:g?g.language:"und",disabledUntilTime:0,primary:!!g&&g.primary||!!w&&w.primary,audio:g,video:w,bandwidth:x,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},y.call(b,w);c.variants=f,c.textStreams=p,e.j?(e.j.variants=c.variants,e.j.textStreams=c.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:c.variants,textStreams:c.textStreams,imageStreams:[],offlineSessionIds:[],minBufferTime:0,sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null},e.i.zd()),Promise.resolve(),o=Date.now(),s=(o-r)/1e3,e.A.sample(1,s),S(u)}))}function Jc(e,t,n,r,i,a){var o=t.getAttribute("Type");if("audio"!==o&&"video"!==o&&"text"!==o)return q("Ignoring unrecognized type:",o),null;var s=t.getAttribute("Language"),u=e.s++,c=Xi(n,"Bitrate",Qi),h=Xi(n,"MaxWidth",Qi),f=Xi(n,"MaxHeight",Qi),d=Xi(n,"Channels",Qi),p=Xi(n,"SamplingRate",Qi),g=a.duration;r.length&&(g=r[r.length-1].end-r[0].start);var m=e.i.getDuration();e.i.Va(Math.min(g,m));var v={id:u,originalId:t.getAttribute("Name")||String(u),createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:c||0,width:h||void 0,height:f||void 0,kind:"",encrypted:0<i.length,drmInfos:i,keyIds:new Set,language:Et(s||"und"),originalLanguage:s,label:"",type:"",primary:!1,trickModeVideo:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:d,audioSamplingRate:p,spatialAudio:!1,closedCaptions:null,hdr:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:g,timescale:a.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1};if((i=t.getAttribute("Subtype"))&&((i=$c[i])&&v.roles.push(i),"main"===i&&(v.primary=!0)),null!==(i=n.getAttribute("FourCC"))&&""!==i||(i=t.getAttribute("FourCC")),!i)if("audio"===o)i="AAC";else if("video"===o)return q('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null;if(!Zc.includes(i.toUpperCase()))return q("Codec not supported:",i),null;switch(n=function(e,t,n,r){if(e=e.getAttribute("CodecPrivateData"))return e;if("audio"!==t)return null;t=r.channelsCount||2,e=r.audioSamplingRate||44100;var i={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return r=i[e],"AACH"===n?(n=new Uint8Array(4),e=i[2*e],n[0]=40|r>>1,n[1]=r<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,t=new Uint16Array(2),t[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):(n=new Uint8Array(2),n[0]=16|r>>1,n[1]=r<<7|t<<3,t=new Uint16Array(1),t[0]=(n[0]<<8)+n[1],t[0].toString(16))}(n,o,i,v),v.mssPrivateData.codecPrivateData=n,o){case"audio":if(!n)return q("Quality unsupported without CodecPrivateData",o),null;v.type="audio",v.mimeType="mss/audio/mp4",v.codecs=function(e,t){var n=0;return"AACH"===e&&(n=5),t?0===n&&(n=(248&parseInt(t.substr(0,2),16))>>3):(n=2,"AACH"===e&&(n=5)),"mp4a.40."+n}(i,n);break;case"video":if(!n)return q("Quality unsupported without CodecPrivateData",o),null;v.type="video",v.mimeType="mss/video/mp4",v.codecs=function(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}(n);break;case"text":v.type=it,v.mimeType="application/mp4",("TTML"===i||"DFXP"===i)&&(v.codecs="stpp")}return v.createSegmentIndex=function(){if(v.segmentIndex)return Promise.resolve();if(e.m.has(v.id))var n=e.m.get(v.id);else n=[],"video"==v.type&&(n=v.mssPrivateData.codecPrivateData.split("00000001").slice(1)),n=new Ac([n={id:v.id,type:v.type,codecs:v.codecs,encrypted:v.encrypted,timescale:v.mssPrivateData.timescale,duration:v.mssPrivateData.duration,xa:n,Y:new Uint8Array([]),ga:new Uint8Array([]),data:null,stream:v}]).initSegment(),e.m.set(v.id,n);return n=function(e,t,n,r,i){var a=r.getAttribute("Url").replace("{bitrate}",String(n.bandwidth));r=[];for(var o={},s=(i=l(i)).next();!s.done;o={Ub:o.Ub},s=i.next())o.Ub=s.value,r.push(new Ga(o.Ub.start,o.Ub.end,function(t){return function(){return et(e.l,[a.replace("{start time}",String(t.Ub.be))])}}(o),0,null,t,0,0,n.mssPrivateData.duration));return r}(e,new Fa((function(){return[]}),0,null,null,void 0,n),v,t,r),v.segmentIndex=new qa(n),Promise.resolve()},v.closeSegmentIndex=function(){v.segmentIndex&&(v.segmentIndex.release(),v.segmentIndex=null)},v}(r=Xc.prototype).configure=function(e){this.g=e},r.start=function(e,t){var n=this;return P((function(r){if(1==r.g)return n.l=[e],n.h=t,T(r,Yc(n),2);if(!n.h)throw new Ye(2,7,7001);return r.return(n.j)}))},r.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,null!=this.o&&(this.o.stop(),this.o=null),this.m.clear(),this.u.destroy()},r.update=function(){var e,t=this;return P((function(n){return 1==n.g?(x(n,2),T(n,Yc(t),4)):2!=n.g?E(n,0):(e=A(n),t.h&&e?(t.h.onError(e),void S(n)):n.return())}))},r.onExpirationUpdated=function(){},H("shaka.mss.MssParser",Xc);var Zc="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),$c={CAPT:"main",SUBT:"alternate",DESC:"main"};function Qc(e,t,n,r,i,a){if(200<=n&&299>=n&&202!=n)return{uri:i||r,originalUri:r,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=Mr(t)}catch(o){}throw new Ye(401==n||403==n?2:1,1,1001,r,n,i,e,a)}function el(){}function tl(e,t,n,r,i){var a=new sl;Mo(t.headers).forEach((function(e,t){a.append(t,e)}));var o=new al,s={he:!1,Le:!1};if(e=function(e,t,n,r,i,a,o){var s,u,c,l,h,f,d,p,g,m,v,y;return P((function(b){switch(b.g){case 1:return s=il,u=ol,f=h=0,d=Date.now(),x(b,2),T(b,s(e,n),4);case 4:if(c=b.h,a(nl(c.headers)),"HEAD"==n.method){b.B(5);break}return p=c.clone().body.getReader(),m=(g=c.headers.get("Content-Length"))?parseInt(g,10):0,new u({start:function(e){function t(){var n,r;return P((function(a){switch(a.g){case 1:return x(a,2),T(a,p.read(),4);case 4:n=a.h,E(a,3);break;case 2:return A(a),a.return();case 3:if(n.done){a.B(5);break}if(h+=n.value.byteLength,!o){a.B(5);break}return T(a,o(n.value),5);case 5:(100<(r=Date.now())-d||n.done)&&(i(r-d,h-f,m-h),f=h,d=r),n.done?e.close():(e.enqueue(n.value),t()),S(a)}}))}t()}}),T(b,c.arrayBuffer(),6);case 6:l=b.h;case 5:E(b,3);break;case 2:if(v=A(b),r.he)throw new Ye(1,1,7001,e,t);if(r.Le)throw new Ye(1,1,1003,e,t);throw new Ye(1,1,1002,e,v,t);case 3:return y=nl(c.headers),b.return(Qc(y,l,c.status,e,c.url,t))}}))}(e,n,{body:t.body||void 0,headers:a,method:t.method,signal:o.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},s,r,i,t.streamDataCallback),e=new ga(e,(function(){return s.he=!0,o.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var u=new Pt((function(){s.Le=!0,o.abort()}));u.V(t/1e3),e.finally((function(){u.stop()}))}return e}function nl(e){var t={};return e.forEach((function(e,n){t[n.trim()]=e})),t}function rl(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(bp){return!1}return!!e.Response&&(!!new Response("").body&&!(!e.fetch||!e.AbortController))}So.ism=function(){return new Xc},To["application/vnd.ms-sstr+xml"]=function(){return new Xc},H("shaka.net.HttpFetchPlugin",el),el.isSupported=rl,el.parse=tl;var il=e.fetch,al=e.AbortController,ol=e.ReadableStream,sl=e.Headers;function ul(){}function cl(e,t,n,r,i){var a=new hl,o=Date.now(),s=0;return new ga(new Promise((function(u,c){a.open(t.method,e,!0),a.responseType="arraybuffer",a.timeout=t.retryParameters.timeout,a.withCredentials=t.allowCrossSiteCredentials,a.onabort=function(){c(new Ye(1,1,7001,e,n))};var l=!1;for(var h in a.onreadystatechange=function(){if(2==a.readyState&&!l){var e=ll(a);i(e),l=!0}},a.onload=function(){var t=ll(a),r=a.response;try{var i=Qc(t,r,a.status,e,a.responseURL,n);u(i)}catch(o){c(o)}},a.onerror=function(t){c(new Ye(1,1,1002,e,t,n))},a.ontimeout=function(){c(new Ye(1,1,1003,e,n))},a.onprogress=function(e){var t=Date.now();(100<t-o||e.lengthComputable&&e.loaded==e.total)&&(r(t-o,e.loaded-s,e.total-e.loaded),s=e.loaded,o=t)},t.headers)a.setRequestHeader(h.toLowerCase(),t.headers[h]);a.send(t.body)})),(function(){return a.abort(),Promise.resolve()}))}function ll(e){var t=e.getAllResponseHeaders().trim().split("\r\n");e={};for(var n=(t=l(t)).next();!n.done;n=t.next())e[(n=n.value.split(": "))[0].toLowerCase()]=n.slice(1).join(": ");return e}rl()&&(Ca("http",tl,2,!0),Ca("https",tl,2,!0),Ca("blob",tl,2,!0)),H("shaka.net.HttpXHRPlugin",ul),ul.parse=cl;var hl=e.XMLHttpRequest;function fl(e,t){var n=Qh(),r=this;this.j=t,this.i=e,this.l=n,this.o=null,this.m=[],this.h=this.g=null,this.u=Promise.resolve().then((function(){return function(e){return P((function(t){if(e.s.g)t=t.B(0);else{if(0==e.m.length||e.g&&!e.g.nb)var n=!1;else{e.g&&(e.g.Ga.qb(),e.g=null);var r=(n=e.m.shift()).create(e.l);r?(n.Ga.Kb(),e.g={node:r.node,S:r.S,nb:r.nb,Ga:n.Ga}):n.Ga.Vc(),n=!0}n?n=Promise.resolve():e.g?n=function(e){var t,n;return P((function(r){switch(r.g){case 1:return e.i=e.j.rf(e.i,e.l,e.g.node,e.g.S),x(r,2),e.h=e.j.Ze(e.i,e.l,e.g.S),T(r,e.h.promise,4);case 4:e.h=null,e.i==e.g.node&&(e.g.Ga.Uc(),e.g=null),E(r,0);break;case 2:return 7001==(t=A(r)).code?e.g.Ga.qb():e.g.Ga.onError(t),e.g=null,e.h=null,n=e,T(r,e.j.handleError(e.l,t),5);case 5:n.i=r.h,S(r)}}))}(e):(e.j.Pf(e.i),e.o=new pa,n=e.o),t=T(t,n,1)}return t}))}(r)})),this.s=new Ao((function(){return function(e){var t,n;return P((function(r){if(1==r.g)return e.h&&e.h.abort(),pl(e),T(r,e.u,2);for(e.g&&e.g.Ga.qb(),t=l(e.m),n=t.next();!n.done;n=t.next())n.value.Ga.qb();e.g=null,e.m=[],e.j=null,S(r)}))}(r)}))}function dl(e,t){var n={Kb:function(){},Uc:function(){},qb:function(){},onError:function(){},Vc:function(){},xg:function(){}};return e.m.push({create:t,Ga:n}),e.h&&e.h.abort(),pl(e),n}function pl(e){e.o&&(e.o.resolve(),e.o=null)}function gl(e){if(e.s)return"\n";if(e.g.length)return e.g.map(gl).join("");var t=[],n=700<=e.C,r="italic"==e.m,i=e.o.includes("underline");return n&&t.push(["b"]),r&&t.push(["i"]),i&&t.push(["u"]),n="",(r=ml(e.l))&&(n+="."+r),(r=ml(e.backgroundColor))&&(n+=".bg_"+r),n&&t.push(["c",n]),t.reduceRight((function(e,t){var n=l(t);return"<"+(t=n.next().value)+(void 0===(n=n.next().value)?"":n)+">"+e+"</"+t+">"}),e.S)}function ml(e){switch(e.toLowerCase()){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function vl(e){for(var t=[],n=(e=l(e)).next();!n.done;n=e.next()){var r=(n=n.value).clone();r.g=[],r.S=gl(n),t.push(r)}return t}function yl(e){this.g=null;for(var t=l(Array.from(e.textTracks)),n=t.next();!n.done;n=t.next())(n=n.value).mode="disabled","Shaka Player TextTrack"==n.label&&(this.g=n);this.g||(this.g=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.g.mode="hidden"}function bl(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.S);t.lineAlign=e.i,t.positionAlign=e.D,e.size&&(t.size=e.size);try{t.align=e.textAlign}catch(n){}return"center"==e.textAlign&&"center"!=t.align&&(t.align="middle"),"vertical-lr"==e.writingMode?t.vertical="lr":"vertical-rl"==e.writingMode&&(t.vertical="rl"),1==e.u&&(t.snapToLines=!1),null!=e.h&&(t.line=e.h),null!=e.position&&(t.position=e.position),t}function wl(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var r=l(Array.from(e.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=n}function Tl(){}function Sl(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function xl(t,n){var r=this;this.j=!1,this.i=[],this.A=t,this.m=n,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.m.appendChild(this.g),this.u=new Pt((function(){kl(r)})).sa(.25),this.h=new Map,this.s=new Io,this.s.J(document,"fullscreenchange",(function(){kl(r,!0)})),this.l=null,"ResizeObserver"in e&&(this.l=new ResizeObserver((function(){kl(r,!0)})),this.l.observe(this.g)),this.o=new Map}function El(e,t){for(;null!=t;){if(t==e.g)return!0;t=t.parentElement}return!1}function Al(e,t,n,r,i){for(var a=!1,o=[],s=[],u=(t=l(t)).next();!u.done;u=t.next()){u=u.value,i.push(u);var c=e.h.get(u),h=u.startTime<=r&&u.endTime>r,f=c?c.Pe:null;c&&(o.push(c.jd),c.qc&&o.push(c.qc),h||(a=!0,e.h.delete(u),c=null)),h&&(s.push(u),c?El(e,f)||(a=!0):(Il(e,u,i),f=(c=e.h.get(u)).Pe,a=!0)),0<u.g.length&&f&&Al(e,u.g,f,r,i),i.pop()}if(a){for(i=(r=l(o)).next();!i.done;i=r.next())(i=i.value).parentElement&&i.parentElement.removeChild(i);for(s.sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})),u=(s=l(s)).next();!u.done;u=s.next())(r=e.h.get(u.value)).qc?(n.appendChild(r.qc),r.qc.appendChild(r.jd)):n.appendChild(r.jd)}}function kl(e,t){if(e.g){var n=e.A.currentTime;if(!e.j||void 0!==t&&t){for(var r=(t=l(e.o.values())).next();!r.done;r=t.next())Sl(r.value);Sl(e.g),e.h.clear(),e.o.clear()}if(e.j){t=new Map;for(var i=(r=l(e.h.keys())).next();!i.done;i=r.next())i=i.value,t.set(i,e.h.get(i));Al(e,e.i,e.g,n,[])}}}function Il(e,t,n){var r=1<n.length,i=r?"span":"div";t.s&&(i="br"),r=!r&&0<t.g.length;var a=document.createElement(i);if("br"!=i&&function(e,t,n,r,i){var a=t.style,o=0==n.g.length,s=1<r.length;a.whiteSpace="pre-wrap";var u=n.S.replace(/\s+$/g,(function(e){return"".repeat(e.length)}));if(a.webkitTextStrokeColor=n.W,a.webkitTextStrokeWidth=n.Z,a.color=n.l,a.direction=n.direction,a.opacity=n.O,a.paddingLeft=Cl(n,e.m),a.paddingRight=Cl(n,e.m),a.textShadow=n.P,n.g.length)var c=t;else c=document.createElement("span"),t.appendChild(c);n.A&&(c.style.border=n.A),i||((t=function(e,t){for(var n=e.length-1;0<=n;n--){var r=t(e[n]);if(r||0===r)return r}return null}(r,(function(e){return e.backgroundColor})))?c.style.backgroundColor=t:u&&(c.style.backgroundColor="rgba(0, 0, 0, 0.8)")),u&&(c.textContent=u),s?a.display="inline":(a.display="flex",a.flexDirection="column",a.alignItems="center",a.justifyContent="before"==n.j?"flex-start":"center"==n.j?"center":"flex-end"),o||(a.margin="0"),a.fontFamily=n.I,a.fontWeight=n.C.toString(),a.fontStyle=n.m,a.letterSpacing=n.K,a.fontSize=Cl(n,e.m),null!=n.h&&(e=n.u,0==n.h&&e==we&&(e=1),1==e&&(a.position="absolute",n.writingMode==be?(a.width="100%",n.i==Te?a.top=n.h+"%":"end"==n.i&&(a.bottom=100-n.h+"%")):"vertical-lr"==n.writingMode?(a.height="100%",n.i==Te?a.left=n.h+"%":"end"==n.i&&(a.right=100-n.h+"%")):(a.height="100%",n.i==Te?a.right=n.h+"%":"end"==n.i&&(a.left=100-n.h+"%")))),a.lineHeight=n.L,null!=n.position&&(n.writingMode==be?a.paddingLeft=n.position:a.paddingTop=n.position),e=function(e){var t=e.direction,n=e.D;return e=e.textAlign,n!==ge?n:"left"===e||"start"===e&&t===ye||"end"===e&&"rtl"===t?"line-left":"right"===e||"start"===e&&"rtl"===t||"end"===e&&t===ye?"line-right":"center"}(n),"line-left"==e?a.cssFloat="left":"line-right"==e&&(a.cssFloat="right"),a.textAlign=n.textAlign,a.textDecoration=n.o.join(" "),a.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&a.writingMode==n.writingMode||(a.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==be?a.width=n.size+"%":a.height=n.size+"%")}(e,a,t,n,r),n=null,t.region&&t.region.id)if(i=(n=t.region).id+"_"+n.width+"x"+n.height+(n.g==Ae?"%":"px")+"-0x0"+(n.h==Ae?"%":"px"),e.o.has(i))n=e.o.get(i);else{var o=document.createElement("span"),s=n.g==Ae?"%":"px",u=n.i==Ae?"%":"px",c=n.h==Ae?"%":"px";o.id="shaka-text-region---"+i,o.classList.add("shaka-text-region"),o.style.height=n.height+s,o.style.width=n.width+u,o.style.position="absolute",o.style.top=0+c,o.style.left=0+c,o.style.display="flex",o.style.flexDirection="column",o.style.alignItems="center",o.style.justifyContent="before"==t.j?"flex-start":"center"==t.j?"center":"flex-end",e.o.set(i,o),n=o}i=a,r&&((i=document.createElement("span")).classList.add("shaka-text-wrapper"),i.style.backgroundColor=t.backgroundColor,i.style.lineHeight="normal",a.appendChild(i)),e.h.set(t,{jd:a,Pe:i,qc:n})}function Cl(e,t){var n=(n=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(""))?{value:Number(n[1]),unit:n[2]}:null;if(!n)return"";var r=n.value;switch(n.unit){case"%":return r/100*t.clientHeight/e.F.rows+"px";case"c":return t.clientHeight*r/e.F.rows+"px";default:return""}}function _l(e,t){this.h=e,this.g=t,this.j="",this.o=void 0,this.i=!1,this.m=!0,this.l=!1}function Ml(t){return t.j||(t.j=t.g.sessionId||e.crypto.randomUUID()),{v:1,sf:t.o,sid:t.j,cid:t.g.contentId,mtp:t.h.getBandwidthEstimate()/1e3}}function Rl(e,t,n){n=void 0===n?{}:n;var r=void 0===r?e.g.useHeaders:r;if(e.g.enabled){Object.assign(n,Ml(e)),n.pr=e.h.Gc();var i=n.ot===Ol||n.ot===Bl;if(e.l&&i&&(n.bs=!0,n.su=!0,e.l=!1),null==n.su&&(n.su=e.m),r)e=function(e){for(var t=Object.keys(e),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},o=(t=l(t)).next();!o.done;o=t.next())o=o.value,i[null!=a[o]?a[o]:1][o]=e[o];for(e=0;e<i.length;e++)(a=Pl(i[e]))&&(n["CMCD-"+r[e]]=a);return n}(n),Object.keys(e).length&&Object.assign(t.headers,e);else{var a=Pl(n);a&&(t.uris=t.uris.map((function(e){return Dl(e,a)})))}}}function Pl(e){function t(e){return 100*n(e/100)}function n(e){return Math.round(e)}for(var r,i=[],a={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(e){return encodeURIComponent(e)},rtp:t,tb:n},o=Object.keys(e||{}).sort(),s=(o=l(o)).next();!s.done;s=o.next()){var u=e[s=s.value];if(!(r=u,Number.isNaN(r)||null==r||""===r||!1===r||"v"===s&&1===u||"pr"==s&&1===u)){var c=a[s];c&&(u=c(u));var h;h="string"===(c=typeof u)&&"ot"!==s&&"sf"!==s&&"st"!==s?s+"="+JSON.stringify(u):"boolean"===c?s:"symbol"===c?s+"="+u.description:s+"="+u,i.push(h)}}return i.join(",")}function Dl(e,t){return!t||e.includes("offline:")?e:((e=new Ne(e)).g.set("CMCD",t),e.toString())}Ca("http",cl,1,!0),Ca("https",cl,1,!0),Ca("blob",cl,1,!0),fl.prototype.destroy=function(){return this.s.destroy()},(r=yl.prototype).remove=function(e,t){return!!this.g&&(wl(this.g,(function(n){return n.startTime<t&&n.endTime>e})),!0)},r.append=function(e){var t=vl(e),n=[];e=this.g.cues?Array.from(this.g.cues):[];for(var r={},i=(t=l(t)).next();!i.done;r={wb:r.wb},i=t.next())r.wb=i.value,e.some(function(e){return function(t){return t.startTime==e.wb.startTime&&t.endTime==e.wb.endTime&&t.text==e.wb.S}}(r))||(i=bl(r.wb))&&n.push(i);for(r=(e=l(e=n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?n.indexOf(t)-n.indexOf(e):n.indexOf(e)-n.indexOf(t)})))).next();!r.done;r=e.next())this.g.addCue(r.value)},r.destroy=function(){return this.g&&(wl(this.g,(function(){return!0})),this.g.mode="disabled"),this.g=null,Promise.resolve()},r.isTextVisible=function(){return"showing"==this.g.mode},r.setTextVisibility=function(e){this.g.mode=e?"showing":"hidden"},H("shaka.text.SimpleTextDisplayer",yl),yl.prototype.setTextVisibility=yl.prototype.setTextVisibility,yl.prototype.isTextVisible=yl.prototype.isTextVisible,yl.prototype.destroy=yl.prototype.destroy,yl.prototype.append=yl.prototype.append,yl.prototype.remove=yl.prototype.remove,H("shaka.util.Dom",Tl),Tl.removeAllChildren=Sl,(r=xl.prototype).append=function(e){for(var t=[].concat(h(this.i)),n={},r=(e=l(e)).next();!r.done;n={vc:n.vc},r=e.next())n.vc=r.value,t.some(function(e){return function(t){return pe(t,e.vc)}}(n))||this.i.push(n.vc);kl(this)},r.destroy=function(){this.m.removeChild(this.g),this.g=null,this.j=!1,this.i=[],this.u&&this.u.stop(),this.h.clear(),this.s&&(this.s.release(),this.s=null),this.l&&(this.l.disconnect(),this.l=null)},r.remove=function(e,t){if(!this.g)return!1;var n=this.i.length;return this.i=this.i.filter((function(n){return n.startTime<e||n.endTime>=t})),kl(this,n>this.i.length),!0},r.isTextVisible=function(){return this.j},r.setTextVisibility=function(e){this.j=e},H("shaka.text.UITextDisplayer",xl),xl.prototype.setTextVisibility=xl.prototype.setTextVisibility,xl.prototype.isTextVisible=xl.prototype.isTextVisible,xl.prototype.remove=xl.prototype.remove,xl.prototype.destroy=xl.prototype.destroy,xl.prototype.append=xl.prototype.append,H("shaka.text.WebVttGenerator",(function(){})),_l.prototype.configure=function(e){this.g=e};var Ll="m",Nl="a",Ol="v",Bl="av",Ul="i",jl="c",Hl="tt";function Fl(){}function Gl(e,t,n,r,i){var a,o=i in r,s=!0;for(a in t){var u=i+"."+a,c=o?r[i]:n[a];o||a in n?void 0===t[a]?void 0===c||o?delete e[a]:e[a]=xa(c):c.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=xa(c)),u=Gl(e[a],t[a],c,r,u),s=s&&u):typeof t[a]!=typeof c||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=c.constructor?(K("Invalid config, wrong type for "+u),s=!1):("function"==typeof n[a]&&n[a].length!=t[a].length&&q("Unexpected number of arguments for "+u),e[a]=t[a]):(K("Invalid config, unrecognized key "+u),s=!1)}return s}function Vl(e,t){for(var n={},r=n,i=0,a=0;!(0>(i=e.indexOf(".",i)));)0!=i&&"\\"==e[i-1]||(r[a=e.substring(a,i).replace(/\\\./g,".")]={},r=r[a],a=i+1),i+=1;return r[e.substring(a).replace(/\\\./g,".")]=t,n}function zl(e,t){return e&&t}function Kl(){}function ql(e){return new Ne(e=Mr(e)).Da}function Wl(e,t,n){function r(e){ie(a).setUint32(o,e.byteLength,!0),o+=4,a.set(re(e),o),o+=e.byteLength}if(!n||!n.byteLength)throw new Ye(2,6,6015);var i;i="string"==typeof t?Pr(t,!0):t,e=Pr(e=Mr(e),!0);var a=new Uint8Array(12+e.byteLength+i.byteLength+n.byteLength),o=0;return r(e),r(i),r(n),a}function Xl(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,Wl(e,n=Mr(e).split("skd://").pop(),t))}function Yl(e,t){2===e&&(t.headers["Content-Type"]="application/octet-stream")}function Jl(){}function Zl(){var t=1/0;navigator.connection&&navigator.connection.saveData&&(t=360);var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(t,n,r){return e.shakaMediaKeysPolyfill&&"skd"==n&&(n=r.serverCertificate,t=Wl(t,r=ql(t),n)),t},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:Ot(),minHdcpVersion:""},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},manifestPreprocessor:function(e){return zl([e],e)},sequenceMode:!1},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',useSafariBehaviorForLive:!0,liveSegmentsDelay:3,sequenceMode:!(Gt("Tizen 3")||Gt("Tizen 2")||Ut()||Ht()),ignoreManifestTimestampsInSegmentsMode:!1},mss:{manifestPreprocessor:function(e){return zl([e],e)},sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},failureCallback:function(e){return zl([e])},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1,maxDisabledTime:30,parsePrftBox:!1,segmentPrefetchLimit:0,liveSync:!1,liveSyncMaxLatency:1,liveSyncPlaybackRate:1.1};(Gt("Web0S")||Bt()||Gt("CrKey"))&&(i.stallSkip=0);var a={trackSelectionCallback:function(e){return P((function(t){return t.return(e)}))},downloadSizeCallback:function(e){var t;return P((function(n){return 1==n.g?navigator.storage&&navigator.storage.estimate?T(n,navigator.storage.estimate(),3):n.return(!0):(t=n.h,n.return(t.usage+e<.95*t.quota))}))},progressCallback:function(e,t){return zl([e,t])},usePersistentLicense:!0,numberOfParallelDownloads:5},o={drm:n,manifest:r,streaming:i,mediaSource:{sourceBufferExtraFeatures:"",forceTransmux:!1,insertFakeEncryptionInInit:!0},offline:a,abrFactory:function(){return new In},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0},autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",useHeaders:!1},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1},ads:{customPlayheadTracker:!1}};return a.trackSelectionCallback=function(e){return P((function(t){return t.return(function(e,t){var n=e.filter((function(e){return"variant"==e.type})),r=[],i=Ct(t,n.map((function(e){return e.language})));i&&(r=n.filter((function(e){return Et(e.language)==i}))),0==r.length&&(r=n.filter((function(e){return e.primary}))),0==r.length&&(n.map((function(e){return e.language})),r=n);var a=r.filter((function(e){return e.height&&480>=e.height}));for(a.length&&(a.sort((function(e,t){return t.height-e.height})),r=a.filter((function(e){return e.height==a[0].height}))),t=[],r.length&&(n=Math.floor(r.length/2),r.sort((function(e,t){return e.bandwidth-t.bandwidth})),t.push(r[n])),e=l(e),r=e.next();!r.done;r=e.next())(r=r.value).type!=it&&"image"!=r.type||t.push(r);return t}(e,o.preferredAudioLanguage))}))},o}function $l(e,t,n){var r={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:""}};return Gl(e,t,n||Zl(),r,"")}function Ql(){this.g=null,this.h=[]}function eh(e,t){if(null==e.g)e.g={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.g.duration=n-e.g.timestamp,e.g.state!=t&&(e.h.push(e.g),e.g={timestamp:n,state:t,duration:0})}}function th(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration);for(var r=(e=l(e.h)).next();!r.done;r=e.next())n+=(r=r.value).state==t?r.duration:0;return n}function nh(){this.i=this.h=null,this.g=[]}function rh(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function ih(){this.u=this.A=this.F=this.C=this.s=this.j=this.D=this.m=this.i=this.O=this.P=this.I=this.K=this.L=this.l=this.o=NaN,this.g=new Ql,this.h=new nh}function ah(t,n){Sa.call(this);var r=this;this.l=nf,this.Dc=this.h=null,this.ha=!1,this.Nc=new Io,this.Wb=new Io,this.o=new Io,this.Qb=this.i=this.Oc=this.K=this.j=this.fb=this.L=this.Ne=this.W=this.gb=this.O=this.Kc=this.I=this.Bb=this.A=this.D=this.m=this.F=null,this.bc=!1,this.ud=this.s=null,this.Od=1e9,this.g=Sh(this),this.Ld={width:1/0,height:1/0},this.u=null,this.yb=new Vs(this.g.preferredAudioLanguage,this.g.preferredVariantRole,this.g.preferredAudioChannelCount,this.g.preferredVideoHdrLevel),this.zb=this.g.preferredTextLanguage,this.ac=this.g.preferredTextRole,this.Zb=this.g.preferForcedSubs,this.Yb=[],this.cc=null,n&&n(this),this.W=function(e){return new _l({getBandwidthEstimate:function(){return e.s?e.s.getBandwidthEstimate():NaN},Ma:function(){return e.Ma()},getCurrentTime:function(){return e.h?e.h.currentTime:0},Gc:function(){return e.Gc()},od:function(){return e.od()},Za:function(){return e.Za()},T:function(){return e.T()}},e.g.cmcd)}(this),this.F=function(e){return new Ia((function(t,n){e.s&&e.s.segmentDownloaded(t,n)}),(function(t,n,r){t=(new Map).set("headers",t).set("request",n).set("requestType",r),e.dispatchEvent(sh("downloadheadersreceived",t))}),(function(t,n,r,i){t=(new Map).set("request",t).set("error",n).set("httpResponseCode",r).set("aborted",i),e.dispatchEvent(sh("downloadfailed",t))}),(function(t,n,r){var i=e.W;if(r=void 0===r?{}:r,i.g.enabled)if("HEAD"===n.method)Rl(i,n);else switch(t){case 0:try{if(i.g.enabled){if(r.type){e:{switch(r.type){case 4:var a="d";break e;case 3:case 2:a="h";break e;case 5:a="s";break e}a=void 0}i.o=a}Rl(i,n,{ot:Ll,su:!i.i})}}catch(h){W("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",h)}break;case Da:t=r;try{if(i.g.enabled){var o=t.segment;a=0,o&&(a=o.endTime-o.startTime);var s={d:1e3*a,st:i.h.T()?"l":"v"};s.ot=function(e){if(0===e.type)return Ul;if(e=e.stream){var t=e.type;if("video"==t)return e.codecs&&e.codecs.includes(",")?Bl:Ol;if("audio"==t)return Nl;if("text"==t)return"application/mp4"===e.mimeType?Hl:jl}}(t);var u=s.ot===Ol||s.ot===Nl||s.ot===Bl||s.ot===Hl,c=t.stream;c&&(u&&(s.bl=function(e,t){if(!(t=e.h.Ma()[t]).length)return NaN;var n=e.h.getCurrentTime();return(e=t.find((function(e){return e.start<=n&&e.end>=n})))?1e3*(e.end-n):NaN}(i,c.type)),c.bandwidth&&(s.br=c.bandwidth/1e3)),u&&s.ot!==Hl&&(s.tb=function(e,t){var n=e.h.Za();if(!n.length)return NaN;e=n[0];for(var r=(n=l(n)).next();!r.done;r=n.next())"variant"===(r=r.value).type&&r.bandwidth>e.bandwidth&&(e=r);switch(t){case Ol:return e.videoBandwidth||NaN;case Nl:return e.audioBandwidth||NaN;default:return e.bandwidth}}(i,s.ot)/1e3),Rl(i,n,s)}}catch(h){W("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",h)}break;case 2:case 5:case 6:Rl(i,n,{ot:"k"});break;case 4:Rl(i,n,{ot:"o"})}}))}(this),this.F.Vd(this.g.streaming.forceHTTPS),this.C=null,cf&&(this.C=cf()),this.Nc.J(e,"online",(function(){jh(r),r.Rd()})),this.P={name:"detach"},this.Z={name:"attach"},this.ja={name:"unload"},this.Pd={name:"manifest-parser"},this.Id={name:"manifest"},this.Ab={name:"media-source"},this.Bd={name:"drm-engine"},this.ca={name:"load"},this.Sd={name:"src-equals-drm-engine"},this.Cb={name:"src-equals"};var i=new Map;i.set(this.Z,(function(e,t){return ba(function(e,t,n){return null==t.mediaElement&&(t.mediaElement=n.mediaElement,e.Wb.J(t.mediaElement,"error",(function(){var t=Gh(e);t&&Hh(e,t)}))),e.h=t.mediaElement,Promise.resolve()}(r,e,t))})),i.set(this.P,(function(e){return e.mediaElement&&(r.Wb.Nb(),e.mediaElement=null),r.C&&r.C.release(),r.h=null,ba(e=Promise.resolve())})),i.set(this.ja,(function(e){return ba(uh(r,e))})),i.set(this.Ab,(function(e){return e=function(e,t){var n,r,i,a,o;return P((function(s){if(1==s.g)return n=e.g.textDisplayFactory,r=n(),e.Ed=n,i=function(e,t,n,r){return new ou(e,t,n,r)}(t.mediaElement,r,(function(t,n,r){ch(e,t,n,r)}),e.L),i.configure(e.g.mediaSource),a=e.g.manifest,o=a.segmentRelativeVttTiming,i.O=o,T(s,i.F,2);e.D=i,S(s)}))}(r,e),ba(e)})),i.set(this.Pd,(function(e,t){return e=function(e,t,n){var r,i,a,o;return P((function(s){if(1==s.g)return t.mimeType=n.mimeType,t.uri=n.uri,r=t.uri,i=e.F,e.Qb=r,a=e,T(s,function(e,t,n,r){var i,a,o,s;return P((function(u){if(1==u.g)return r&&(i=To[r.toLowerCase()])?u.return(i):(a=wo(e))&&(o=So[a])?u.return(o):r?u.B(2):T(u,bo(e,t,n),3);if(2!=u.g&&(r=u.h)&&(s=To[r]))return u.return(s);throw new Ye(2,4,4e3,e)}))}(r,i,e.g.manifest.retryParameters,t.mimeType),2);a.Oc=s.h,e.K=e.Oc(),o=xa(e.g.manifest),n.mediaElement&&"AUDIO"===n.mediaElement.nodeName&&(o.disableVideo=!0),e.K.configure(o),S(s)}))}(r,e,t),ba(e)})),i.set(this.Id,(function(e){return function(e,t){var n=t.uri;t=e.F,e.gb=new qu((function(){return e.Ob()})),e.gb.addEventListener("regionadd",(function(t){t=t.region,Fh(e,"timelineregionadded",t),e.C&&e.C.onDashTimedMetadata(t)})),e.fb=null,e.g.streaming.observeQualityChanges&&(e.fb=new Ku((function(){return e.Ma()})),e.fb.addEventListener("qualitychange",(function(t){var n=t.quality;t=t.position,n=(new Map).set("mediaQuality",{bandwidth:n.bandwidth,audioSamplingRate:n.audioSamplingRate,codecs:n.codecs,contentType:n.contentType,frameRate:n.frameRate,height:n.height,mimeType:n.mimeType,channelsCount:n.channelsCount,pixelAspectRatio:n.pixelAspectRatio,width:n.width}).set("position",t),e.dispatchEvent(sh("mediaqualitychanged",n))})));var r={networkingEngine:t,filter:function(t){return xh(e,t)},makeTextStreamsForClosedCaptions:function(t){return function(e,t){for(var n=new Set,r=l(t.textStreams),i=r.next();!i.done;i=r.next())"application/cea-608"!=(i=i.value).mimeType&&"application/cea-708"!=i.mimeType||n.add(i.originalId);for(r=l(t.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions)for(var a=l(i.closedCaptions.keys()),o=a.next();!o.done;o=a.next())if(o=o.value,!n.has(o)){var s=o.startsWith("CC")?"application/cea-608":"application/cea-708",u=new Ya,c=i.closedCaptions.get(o);s={id:e.Od++,originalId:o,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:u,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:c,originalLanguage:c,label:null,type:it,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1},t.textStreams.push(s),n.add(o)}}(e,t)},onTimelineRegionAdded:function(t){var n=e.gb;e:{for(var r=l(n.g),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==t.schemeIdUri&&i.id==t.id&&i.startTime==t.startTime&&i.endTime==t.endTime){r=i;break e}r=null}null==r&&(n.g.add(t),t=new Ta("regionadd",new Map([["region",t]])),n.dispatchEvent(t))},onEvent:function(t){return e.dispatchEvent(t)},onError:function(t){return Hh(e,t)},isLowLatencyMode:function(){return e.g.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return e.g.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){e.configure("streaming.lowLatencyMode",!0)},updateDuration:function(){e.j&&e.j.updateDuration()},newDrmInfo:function(t){var n=e.m?e.m.g:null;n&&e.m.s&&Ah(e,n.keySystem,t)}},i=Date.now()/1e3;return new ga(function(){var t,a,o,s;return P((function(u){if(1==u.g)return t=e,T(u,e.K.start(n,r),2);if(t.i=u.h,a=sh("manifestparsed"),e.dispatchEvent(a),0==e.i.variants.length)throw new Ye(2,4,4036);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}(e.i),o=Date.now()/1e3,s=o-i,e.u.D=s,S(u)}))}(),(function(){return e.K.stop()}))}(r,e)})),i.set(this.Bd,(function(e){return e=function(e,t){var n,r;return P((function(i){return 1==i.g?(n=Date.now()/1e3,r=!0,e.m=fh(e,{mc:e.F,onError:function(t){Hh(e,t)},ze:function(t){Vh(e,t)},onExpirationUpdated:function(t,n){zh(e,t,n)},onEvent:function(t){e.dispatchEvent(t),"drmsessionupdate"==t.type&&r&&(r=!1,e.u.j=Date.now()/1e3-n,e.L&&((t=e.L).g&&t.h.classList.add("shaka-hidden")))}}),e.m.configure(e.g.drm),T(i,Lo(e.m,e.i.variants,e.i.offlineSessionIds),2)):3!=i.g?T(i,e.m.Xb(t.mediaElement),3):T(i,xh(e,e.i),0)}))}(r,e),ba(e)})),i.set(this.ca,(function(e,t){return ba(function(e,t,n){var r,i,a,o,s,u,c,h,f,d,p,g,m,v,y,b,w;return P((function(x){switch(x.g){case 1:for(t.startTime=n.startTime,null!=e.cc&&(t.startTime=e.cc,e.cc=null),r=t.mediaElement,i=t.uri,e.Qb=i,e.I=new Iu({Ic:function(){return r.playbackRate},Ec:function(){return r.defaultPlaybackRate},Wd:function(e){r.playbackRate=e},we:function(e){r.currentTime+=e}}),a=function(){return Ch(e)},o=function(){return Ih(e)},e.o.J(r,"playing",a),e.o.J(r,"pause",a),e.o.J(r,"ended",a),e.o.J(r,"ratechange",o),function(e,t){if(t.lcevc.enabled){var n=e.Za();n&&n[0]&&n[0].videoMimeType==lf.ts&&(Nt()||navigator.userAgent.match(/Edge\//))&&(t.mediaSource.forceTransmux||q("LCEVC Warning: For MPEG-2 TS decoding the config.mediaSource.forceTransmux must be enabled.")),oh(e),null==e.L&&(e.L=new Ds(e.h,e.Ne,t.lcevc),e.D&&(e.D.L=e.L))}else oh(e)}(e,e.g),s=e.g.abrFactory,e.s&&e.ud==s||(e.ud=s,e.s=s(),"function"!=typeof e.s.setMediaElement&&(oi("AbrManager","Please use an AbrManager with setMediaElement function."),e.s.setMediaElement=function(){}),e.s.configure(e.g.abr)),e.yb=new Vs(e.g.preferredAudioLanguage,e.g.preferredVariantRole,e.g.preferredAudioChannelCount,e.g.preferredVideoHdrLevel,e.g.preferredAudioLabel),e.zb=e.g.preferredTextLanguage,e.ac=e.g.preferredTextRole,e.Zb=e.g.preferForcedSubs,Kh(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.s.init((function(t,n,r){e.j&&t!=e.j.j&&Ph(e,t,!0,void 0!==n&&n,void 0===r?0:r)})),e.s.setMediaElement(r),Wt(e.i,e.g.preferredVideoCodecs,e.g.preferredAudioCodecs,e.g.preferredAudioChannelCount,e.g.preferredDecodingAttributes),e.j=function(e){return new rc(e.i,{Hc:function(){return e.A?e.A.yc():0},getBandwidthEstimate:function(){return e.s.getBandwidthEstimate()},N:e.D,mc:e.F,onError:function(t){return Hh(e,t)},onEvent:function(t){return e.dispatchEvent(t)},Rf:function(){e.K&&e.K.update&&e.K.update()},Kd:function(t,n,r){e.A&&e.A.xe(),ph(e),t=(new Map).set("start",t).set("end",n).set("contentType",r),e.dispatchEvent(sh("segmentappended",t))},Qf:function(t,n){(n=n.Cd)&&e.fb&&function(e,t,n){var r=function(e,t){var n=e.g.get(t);return n||(n={oc:[],je:null,contentType:t},e.g.set(t,n)),n}(e,t.contentType);!function(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,r=e[e.length-1].end,i=t.oc;t.oc=i.filter((function(e,t){return!(e.position<=n&&t+1<i.length&&i[t+1].position<=n||e.position>=r)}))}else t.oc=[]}(e,r),e={Cd:t,position:n},0<=(t=(r=r.oc).findIndex((function(e){return e.position>=n})))?r.splice(t,r[t].position==n?1:0,e):r.push(e)}(e.fb,n,t)},fe:function(t,n){var r=e.m;if(r.h.parseInbandPsshEnabled&&!r.K&&["audio","video"].includes(t)){var i=0,a=l((n=new ji(re(n))).data);for(t=a.next();!t.done;t=a.next())i+=t.value.length;if(0==i)r=Promise.resolve();else{for(i=new Uint8Array(i),a=0,t=(n=l(n.data)).next();!t.done;t=n.next())t=t.value,i.set(t,a),a+=t.length;Oo(r,"cenc",i),r=r.l}}else r=Promise.resolve();return r},Sf:function(t,n,r){ch(e,t,n,r)},kd:function(t,n){return e.kd(t,n)}})}(e),e.j.configure(e.g.streaming),e.l=rf,r.textTracks&&e.o.J(r.textTracks,"addtrack",(function(t){if(t.track&&"chapters"===(t=t.track).kind)hh(e,t)})),e.dispatchEvent(sh("streaming")),u=null,(c=e.j.j)||(u=Mh(e)?e.s.chooseVariant():null),h=[],d=l([(f=c||u).video,f.audio]),p=d.next();!p.done;p=d.next())(g=p.value)&&!g.segmentIndex&&h.push(g.createSegmentIndex());if(!(0<h.length)){x.B(2);break}return T(x,Promise.all(h),2);case 2:if(Kh(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.A=function(e,t){return new ju(e.h,e.i,e.g.streaming,t,(function(){e.Bb&&zu(e.Bb,!0),e.j&&e.j.rc(),e.O&&ph(e)}),(function(t){return e.dispatchEvent(t)}))}(e,t.startTime),e.Bb=function(e,t){t=new Wu(e.gb,e.T()||0<t),t.addEventListener("enter",(function(t){Fh(e,"timelineregionenter",t.region)})),t.addEventListener("exit",(function(t){Fh(e,"timelineregionexit",t.region)})),t.addEventListener("skip",(function(t){var n=t.region;t.seeking||(Fh(e,"timelineregionenter",n),Fh(e,"timelineregionexit",n))}));var n=new Vu(e.h);return n.g.add(t),e.fb&&n.g.add(e.fb),n}(e,t.Xc),m=Math.max(e.i.minBufferTime,e.g.streaming.rebufferingGoal),dh(e,m),c){x.B(4);break}if(Ph(e,u,!0,!1,0),!e.g.streaming.startAtSegmentBoundary){x.B(4);break}return v=e.A.yc(),T(x,function(e,t){var n,r,i,a,o;return P((function(s){return 1==s.g?(n=e.audio,r=e.video,i=function(e,t){var n,r,i;return P((function(a){return 1==a.g?e?T(a,e.createSegmentIndex(),2):a.return(null):(r=(n=e.segmentIndex.kb(t))?n.next().value:null)?(i=r.startTime,a.return(i)):a.return(null)}))},T(s,i(n,t),2)):3!=s.g?(a=s.h,T(s,i(r,t),3)):null!=(o=s.h)&&null!=a?s.return(Math.max(o,a)):null!=o?s.return(o):null!=a?s.return(a):s.return(t)}))}(u,v),6);case 6:y=x.h,e.A.hd(y);case 4:return e.A.gd(),e.Gb().find((function(e){return e.active}))||((b=mn(e.i.textStreams,e.zb,e.ac,e.Zb)[0]||null)&&rh(e.u.h,b,!0),u&&(b?(u.audio&&function(e,t,n){if(0==e.g.autoShowText)return!1;if(1==e.g.autoShowText)return!0;var r=Et(e.g.preferredTextLanguage);return n=Et(n.language),2==e.g.autoShowText?Tt(n,r):3==e.g.autoShowText?(e=Et(t.language),Tt(n,r)&&!Tt(e,n)):(q("Invalid autoShowText setting!"),!1)}(e,u.audio,b)&&(e.ha=!0),e.ha&&e.D.u.setTextVisibility(!0),Bh(e)):e.ha=!1),b&&(e.g.streaming.alwaysStreamText||e.td())&&oc(e.j,b)),T(x,e.j.start(),7);case 7:e.g.abr.enabled&&(e.s.enable(),Uh(e)),an(e.j?e.j.j:null,e.i),Wh(e.i),Lh(e),Mh(e),e.i.variants.some((function(e){return e.primary})),e.T()&&(e.g.streaming.liveSync||e.i.serviceDescription)&&(w=function(){return _h(e)},e.o.J(r,"timeupdate",w)),e.bc=!0,e.o.oa(r,"loadedmetadata",(function(){e.u.m=Date.now()/1e3-n.Xc})),S(x)}}))}(r,e,t))})),i.set(this.Sd,(function(e,t){return e=function(e,t,n){var r,i,a,o,s,u,c;return P((function(l){return 1==l.g?(r=at,i=Date.now()/1e3,a=!0,e.m=fh(e,{mc:e.F,onError:function(t){Hh(e,t)},ze:function(t){Vh(e,t)},onExpirationUpdated:function(t,n){zh(e,t,n)},onEvent:function(t){e.dispatchEvent(t),"drmsessionupdate"==t.type&&a&&(a=!1,e.u.j=Date.now()/1e3-i)}}),e.m.configure(e.g.drm),o=n.uri||"",s=wo(o),"application/x-mpegurl"==(u=lf[s])&&jt()&&(u="application/vnd.apple.mpegurl"),u||(u="video/mp4"),c={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:n.mimeType?n.mimeType.split(";")[0]:u,codecs:n.mimeType?ft(n.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:r.Aa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},e.m.Z=!0,T(l,Lo(e.m,[c],[]),2)):T(l,e.m.Xb(t.mediaElement),0)}))}(r,e,t),ba(e)})),i.set(this.Cb,(function(e,t){return function(e,t,n){function r(){return Ch(e)}t.uri=n.uri,t.startTime=n.startTime,e.Qb=t.uri;var i=t.mediaElement;e.A=new Uu(i);var a=!1;e.Yb.push((function(){a=!0})),null!=t.startTime&&e.A.hd(t.startTime),e.I=new Iu({Ic:function(){return i.playbackRate},Ec:function(){return i.defaultPlaybackRate},Wd:function(e){i.playbackRate=e},we:function(e){i.currentTime+=e}}),dh(e,e.g.streaming.rebufferingGoal),e.o.J(i,"playing",r),e.o.J(i,"pause",r),e.o.J(i,"ended",r),e.o.J(i,"ratechange",(function(){return Ih(e)})),"none"!=i.preload&&e.o.oa(i,"loadedmetadata",(function(){e.u.m=Date.now()/1e3-n.Xc})),i.audioTracks&&(e.o.J(i.audioTracks,"addtrack",(function(){return Lh(e)})),e.o.J(i.audioTracks,"removetrack",(function(){return Lh(e)})),e.o.J(i.audioTracks,"change",(function(){return Lh(e)}))),i.textTracks&&(e.o.J(i.textTracks,"addtrack",(function(t){if(t.track)switch(t=t.track,t.kind){case"metadata":!function(e,t){if("metadata"==t.kind){t.mode="hidden",e.o.J(t,"cuechange",(function(){if(t.activeCues)for(var n=l(t.activeCues),r=n.next();!r.done;r=n.next())r=r.value,lh(e,r.startTime,r.endTime,r.type,r.value),e.C&&e.C.onCueMetadataChange(r.value)}));var n=new Pt((function(){for(var t=function(e){return Array.from(e.h.textTracks).filter((function(e){return"metadata"==e.kind}))}(e),n=(t=l(t)).next();!n.done;n=t.next())n.value.mode="hidden"})).Zd().V(.5);e.Yb.push((function(){n.stop()}))}}(e,t);break;case"chapters":hh(e,t);break;default:Lh(e)}})),e.o.J(i.textTracks,"removetrack",(function(){return Lh(e)})),e.o.J(i.textTracks,"change",(function(){return Lh(e)})));var o=wo(t.uri);i.src=function(e,t,n){try{if(!e.g.enabled)return t;var r=Ml(e);e:{switch(n){case"video/webm":case"video/mp4":var i=Bl;break e;case"application/x-mpegurl":i=Ll;break e}i=void 0}return r.ot=i,r.su=!0,Dl(t,Pl(r))}catch(o){return W("CMCD_SRC_ERROR","Could not generate src CMCD data.",o),t}}(e.W,t.uri,lf[o]),(Bt()||Gt("Web0S"))&&i.load(),e.l=af,e.dispatchEvent(sh("streaming"));var s=new pa;return _u(i,HTMLMediaElement.HAVE_METADATA,e.o,(function(){e.A.gd(),s.resolve()})),_u(i,HTMLMediaElement.HAVE_CURRENT_DATA,e.o,(function(){var t;return P((function(n){return 1==n.g?(function(e){var t=e.g.preferredAudioLanguage;""!=t&&e.De(t,e.g.preferredVariantRole)}(e),(t=mh(e)).find((function(e){return"disabled"!=e.mode}))?(0<t.length&&(e.ha=!0),n.B(2)):T(n,new Promise((function(t){e.o.oa(i.textTracks,"change",t),new Pt(t).V(1)})),2)):a?n.return():(function(e){var t=e.g.preferredTextLanguage;""!=t&&e.Ee(t,e.g.preferredTextRole,e.g.preferForcedSubs)}(e),void S(n))}))})),i.error?s.reject(Gh(e)):"none"==i.preload&&(q('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),s.resolve()),e.o.oa(i,"error",(function(){s.reject(Gh(e))})),new ga(s,(function(){return s.reject(new Ye(2,7,7001)),Promise.resolve()})).ka((function(){e.T()&&e.g.streaming.liveSync&&e.o.J(i,"timeupdate",(function(){return _h(e)})),e.bc=!0}))}(r,e,t)})),this.hb=new fl(this.P,{rf:function(e,t,n,i){var a=null;return e==r.P&&(a=n==r.P?r.P:r.Z),e==r.Z&&(a=n==r.P||t.mediaElement!=i.mediaElement?r.P:n==r.Z?r.Z:n==r.Ab||n==r.ca?r.Ab:n==r.Cb?r.Sd:null),e==r.Ab&&(a=n==r.ca&&t.mediaElement==i.mediaElement?r.Pd:r.ja),e==r.Pd&&(a=$h(r.ca,r.Id,r.ja,n,t,i)),e==r.Id&&(a=$h(r.ca,r.Bd,r.ja,n,t,i)),e==r.Bd&&(a=$h(r.ca,r.ca,r.ja,n,t,i)),e==r.Sd&&(a=n==r.Cb&&t.mediaElement==i.mediaElement?r.Cb:r.ja),e!=r.ca&&e!=r.Cb||(a=r.ja),e==r.ja&&(a=i.mediaElement&&t.mediaElement==i.mediaElement?r.Z:r.P),a},Ze:function(e,t,n){return r.dispatchEvent(sh("onstatechange",(new Map).set("state",e.name))),i.get(e)(t,n)},handleError:function(e){return P((function(t){return 1==t.g?T(t,uh(r,e),2):t.return(e.mediaElement?r.Z:r.P)}))},Pf:function(e){r.dispatchEvent(sh("onstateidle",(new Map).set("state",e.name)))}}),this.Mc=new Pt((function(){return function(e){function t(e){var t="";return e.video&&(t+="video:"+e.video.id),e.audio&&(t=t+(t?"&":"")+"audio:"+e.audio.id),t}for(var n=Date.now()/1e3,r=!1,i=l(e.i.variants),a=i.next();!a.done;a=i.next())0<(a=a.value).disabledUntilTime&&a.disabledUntilTime<=n&&(a.disabledUntilTime=0,r=!0,t(a));e.i.variants.every((function(e){return 0===e.disabledUntilTime}))&&e.Mc.stop(),r&&Rh(e,!0,void 0,!1,!1)}(r)})),t&&this.Xb(t,!0)}function oh(e){null!=e.L&&(e.L.release(),e.L=null)}function sh(e,t){return new Ta(e,t)}function uh(e,t){var n,r,i,a,o,s,u,c,h;return P((function(f){switch(f.g){case 1:return e.l!=tf&&(e.l=nf),n=e.Yb.map((function(e){return e()})),e.Yb=[],T(f,Promise.all(n),2);case 2:if(e.dispatchEvent(sh("unloading")),t.mimeType=null,t.startTime=null,t.uri=null,e.gb&&(e.gb.release(),e.gb=null),t.mediaElement&&e.o.Nb(),e.Mc.stop(),e.Bb&&(e.Bb.release(),e.Bb=null),e.Kc&&(e.Kc.stop(),e.Kc=null),!e.K){f.B(3);break}return T(f,e.K.stop(),4);case 4:e.K=null,e.Oc=null;case 3:if(!e.s){f.B(5);break}return T(f,e.s.stop(),5);case 5:if(!e.j){f.B(7);break}return T(f,e.j.destroy(),8);case 8:e.j=null;case 7:if(e.I&&(e.I.release(),e.I=null),e.A&&(e.A.release(),e.A=null),!e.D){f.B(9);break}return T(f,e.D.destroy(),10);case 10:e.D=null;case 9:if(e.C&&e.C.onAssetUnload(),!t.mediaElement||!t.mediaElement.src){f.B(11);break}return T(f,new Promise((function(e){return new Pt(e).V(.1)})),12);case 12:for(t.mediaElement.removeAttribute("src"),t.mediaElement.load();t.mediaElement.lastChild;)t.mediaElement.removeChild(t.mediaElement.firstChild);case 11:if(!e.m){f.B(13);break}return T(f,e.m.destroy(),14);case 14:e.m=null;case 13:if(e.Qb=null,e.O=null,e.i){for(r=l(e.i.variants),i=r.next();!i.done;i=r.next())for(a=i.value,o=l([a.audio,a.video]),s=o.next();!s.done;s=o.next())(u=s.value)&&u.segmentIndex&&u.segmentIndex.release();for(c=l(e.i.textStreams),s=c.next();!s.done;s=c.next())(h=s.value).segmentIndex&&h.segmentIndex.release()}e.i=null,e.u=new ih,e.Ed=null,kh(e),S(f)}}))}function ch(e,t,n,r){for(var i=(t=l(t)).next();!i.done;i=t.next())if((i=i.value).data&&i.cueTime&&i.frames){var a=i.cueTime+n,o=r;o&&a>o&&(o=a);for(var s=l(i.frames),u=s.next();!u.done;u=s.next())lh(e,a,o,"org.id3",u.value);e.C&&e.C.onHlsTimedMetadata(i,a)}}function lh(e,t,n,r,i){t=(new Map).set("startTime",t).set("endTime",n).set("metadataType",r).set("payload",i),e.dispatchEvent(sh("metadata",t))}function hh(e,t){if(t&&"chapters"==t.kind){t.mode="hidden";var n=new Pt((function(){t.mode="hidden"})).Zd().V(.5);e.Yb.push((function(){n.stop()}))}}function fh(e,t){return new Do(t,e.g.drm.updateExpirationTime)}function dh(e,t){e.O=new zs,e.O.g=qs,Ks(e.O,t,Math.min(.5,t/2)),kh(e),e.Kc=new Pt((function(){ph(e)})).sa(.25)}function ph(e){switch(e.l){case af:if(e.h.ended)var t=!0;else{var n=Zs(e.h.buffered);t=null!=n&&n>=e.h.duration-1}break;case rf:e:if(e.h.ended||lu(e.D))t=!0;else{if(e.i.presentationTimeline.T()){n=e.i.presentationTimeline.lb();var r=Zs(e.h.buffered);if(null!=r&&r>=n){t=!0;break e}}t=!1}break;default:t=!1}r=Qs(e.h.buffered,e.h.currentTime);var i=t,a=(n=e.O).h.get(n.g);t=n.g,r=i||r>=a?Ws:qs,n.g=r,t!=r&&kh(e)}function gh(e){if(e.K){var t=xa(e.g.manifest);e.h&&"AUDIO"===e.h.nodeName&&(t.disableVideo=!0),e.K.configure(t)}if(e.m&&e.m.configure(e.g.drm),e.j){e.j.configure(e.g.streaming);try{Eh(e,e.i)}catch(a){Hh(e,a)}e.s&&Mh(e),!(t=e.j.j)||t.allowedByApplication&&t.allowedByKeySystem||Rh(e)}if(e.F&&e.F.Vd(e.g.streaming.forceHTTPS),e.D&&(e.D.configure(e.g.mediaSource),e.D.O=e.g.manifest.segmentRelativeVttTiming,t=e.g.textDisplayFactory,e.Ed!=t)){var n=t(),r=e.D,i=r.u;r.u=n,i&&(n.setTextVisibility(i.isTextVisible()),i.destroy()),r.g&&(r.g.j=n),e.Ed=t,e.j&&((n=(t=e.j).h.get(it))&&sc(t,n.stream,!0,0,!0))}e.s&&(e.s.configure(e.g.abr),e.g.abr.enabled?e.s.enable():e.s.disable(),Uh(e)),e.O&&(t=e.g.streaming.rebufferingGoal,e.i&&(t=Math.max(t,e.i.minBufferTime)),Ks(e.O,t,Math.min(.5,t/2))),e.i&&Kh(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.C&&e.C.configure(e.g.ads),e.W&&e.W.configure(e.g.cmcd)}function mh(e){return Array.from(e.h.textTracks).filter((function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&"Shaka Player TextTrack"!=e.label}))}function vh(e){return Array.from(e.h.textTracks).filter((function(e){return"chapters"==e.kind}))}function yh(e,t){var n,r;return P((function(i){switch(i.g){case 1:return n=wo(t),(r=hf[n])?i.return(r):(x(i,2),T(i,bo(t,e.F,e.g.streaming.retryParameters),4));case 4:r=i.h,E(i,3);break;case 2:A(i);case 3:if(r)return i.return(r);throw new Ye(1,2,2011,n)}}))}function bh(e,t,n,r,i,a,o){var s,u,c,l;return P((function(h){if(1==h.g)return"text/vtt"!=i||o.length?T(h,wh(e,t,e.F,e.g.streaming.retryParameters),3):h.B(2);2!=h.g&&(s=h.h,u=Th(e,s,i,o),c=new Blob([u],{type:"text/vtt"}),t=Au(c),i="text/vtt"),l=document.createElement("track");var f=e.W,d=t;try{if(f.g.enabled){var p=Ml(f);p.ot=jl,p.su=!0;var g=Dl(d,Pl(p))}else g=d}catch(m){W("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",m),g=d}return l.src=g,l.label=a,l.kind=r,l.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(l),h.return(l)}))}function wh(e,t,n,r){var i,a,o;return P((function(s){if(1==s.g){i=Da,(a=_a([t],r)).method="GET";var u=e.W;try{u.g.enabled&&Rl(u,a,{ot:jl,su:!0})}catch(c){W("CMCD_TEXT_ERROR","Could not generate text CMCD data.",c)}return T(s,n.request(i,a).promise,2)}return o=s.h,s.return(o.data)}))}function Th(e,t,n,r){var i=bt[n];if(i)return n=i(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=re(t),function(e,t){function n(e){for(var n=e,r=l(t),i=r.next();!i.done;i=r.next())(i=i.value).end&&i.start<e&&(n+=i.end-i.start);return(10>(e=Math.floor(n/3600))?"0":"")+e+":"+(10>(r=Math.floor(n/60%60))?"0":"")+r+":"+(10>(i=Math.floor(n%60))?"0":"")+i+"."+(100>(n=Math.floor(1e3*n%1e3))?10>n?"00":"0":"")+n}var r=vl(e);e="WEBVTT\n\n";for(var i=(r=l(r)).next();!i.done;i=r.next())e+=n((i=i.value).startTime)+" --\x3e "+n(i.endTime)+function(e){var t=[];switch(e.textAlign){case"left":t.push("align:left");break;case"right":t.push("align:right");break;case me:t.push("align:middle");break;case"start":t.push("align:start");break;case"end":t.push("align:end")}switch(e.writingMode){case"vertical-lr":t.push("vertical:lr");break;case"vertical-rl":t.push("vertical:rl")}return t.length?" "+t.join(" "):""}(i)+"\n",e+=i.S+"\n\n";return e}(t=n.parseMedia(t,e),r);throw new Ye(2,2,2014,n)}function Sh(e){var t=Zl();return t.streaming.failureCallback=function(t){if(e.T()){var n=null;1001==t.code||1002==t.code?n=1:1003==t.code&&(n=.1),null!=n&&(t.severity=1,e.Rd(n))}},t.textDisplayFactory=function(){return e.Dc?new xl(e.h,e.Dc):new yl(e.h)},t}function xh(e,t){return P((function(n){if(1==n.g)return T(n,function(e,t){return P((function(n){if(1==n.g)return T(n,Zt(e.j?e.j.j:null,t),2);Wh(t),S(n)}))}(e,t),2);Eh(e,t),S(n)}))}function Eh(e,t){if(e.l!=tf){for(var n=e.g.restrictions,r=e.Ld,i=!1,a=l(t.variants),o=a.next();!o.done;o=a.next()){var s=(o=o.value).allowedByApplication;o.allowedByApplication=Jt(o,n,r),s!=o.allowedByApplication&&(i=!0)}if(i&&e.j&&Lh(e),(n=e.m?e.m.g:null)&&e.m.s)for(i=(r=l(t.variants)).next();!i.done;i=r.next())i=i.value,Ah(e,n.keySystem,i.video),Ah(e,n.keySystem,i.audio);qh(e,t)}}function Ah(e,t,n){if(n)for(var r=(n=l(n.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==t)for(var i=(r=l(r.initData||[])).next();!i.done;i=r.next())i=i.value,Oo(e.m,i.initDataType,i.initData)}function kh(e){var t=e.te();if(e.u&&e.O&&e.A){var n=e.I;n.j=t,Cu(n),e.W&&(n=e.W,t||n.i||(n.i=!0),n.i&&t&&(n.l=!0),n.m=t),Ch(e)}t=(new Map).set("buffering",t),e.dispatchEvent(sh("buffering",t))}function Ih(e){var t=e.h.playbackRate;0!=t&&(e.I&&e.I.set(t),t=sh("ratechange"),e.dispatchEvent(t))}function Ch(e){if(e.u&&e.O){var t=e.u.g;e.O.g==qs?eh(t,"buffering"):e.h.paused?eh(t,"paused"):e.h.ended?eh(t,"ended"):eh(t,"playing")}}function _h(e){if(e.T()){var t=e.Ob();if(Number.isFinite(t.end)&&!(e.h.currentTime<t.start)){if(e.g.streaming.liveSync)var n=e.g.streaming.liveSyncMaxLatency,r=e.g.streaming.liveSyncPlaybackRate;else e.i&&e.i.serviceDescription&&(n=e.i.serviceDescription.maxLatency||e.g.streaming.liveSyncMaxLatency,r=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSyncPlaybackRate);var i=e.h.playbackRate,a=t.end-e.h.currentTime,o=0;if(e.l==af){var s=e.h.buffered;0<s.length&&(o=s.end(s.length-1),o=Math.max(r,o-t.end))}n&&r&&a-o>n?i!=r&&e.Me(r):1!==i&&0!==i&&e.ge()}}}function Mh(e){try{qh(e,e.i)}catch(n){return Hh(e,n),!1}var t=function(e){return e.filter((function(e){return pn(e)}))}(e.i.variants);return t=e.yb.create(t),e.s.setVariants(Array.from(t.values())),!0}function Rh(e,t,n,r,i){var a;t=void 0===t||t,n=void 0===n?0:n,r=void 0!==r&&r,i=void 0===i||i,(a=Mh(e)?e.s.chooseVariant():null)&&Ph(e,a,i,t,n,r)}function Ph(e,t,n,r,i,a){a=void 0!==a&&a;var o=e.j.j;if(t==o)r&&ac(e.j,t,r,i,!0);else{var s=e.u.h;s.h!=t&&(s.h=t,s.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),ac(e.j,t,r,i,a,n),r=null,o&&(r=sn(o)),t=sn(t),n?(n=(new Map).set("oldTrack",r).set("newTrack",t),e.L&&Ls(e.L,t),Xh(e,n=sh("adaptation",n))):Nh(e,r,t)}}function Dh(e,t){var n=Array.from(e.h.audioTracks).find((function(e){return e.enabled}));t.enabled=!0,t.id!==n.id&&(n.enabled=!1),Nh(e,n=fn(n),t=fn(t))}function Lh(e){Xh(e,sh("trackschanged"))}function Nh(e,t,n){t=(new Map).set("oldTrack",t).set("newTrack",n),e.L&&Ls(e.L,n),Xh(e,n=sh("variantchanged",t))}function Oh(e){Xh(e,sh("textchanged"))}function Bh(e){Xh(e,sh("texttrackvisibility"))}function Uh(e){e.g.abr.enabled||jh(e),Xh(e,sh("abrstatuschanged",(new Map).set("newStatus",e.g.abr.enabled)))}function jh(e,t){if(t=void 0===t||t,e.l==rf){e.Mc.stop();for(var n=l(e.i.variants),r=n.next();!r.done;r=n.next())r.value.disabledUntilTime=0;t&&Mh(e)}}function Hh(e,t){if(e.l!=tf){2===t.severity&&jh(e,!1);var n=sh("error",(new Map).set("detail",t));e.dispatchEvent(n),n.defaultPrevented&&(t.handled=!0)}}function Fh(e,t,n){n=(new Map).set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}),e.dispatchEvent(sh(t,n))}function Gh(e){if(!e.h.error)return null;var t=e.h.error.code;if(1==t)return null;var n=e.h.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new Ye(2,3,3016,t,n,e.h.error.message)}function Vh(e,t){if(e.j){var n=Object.keys(t),r=1==n.length&&"00"==n[0],i=!1;if(n.length)for(var a=(n=l(e.i.variants)).next();!a.done;a=n.next()){var o=[];(a=a.value).audio&&o.push(a.audio),a.video&&o.push(a.video);for(var s=(o=l(o)).next();!s.done;s=o.next()){var u=s.value;if(s=a.allowedByKeySystem,u.keyIds.size){a.allowedByKeySystem=!0;for(var c=(u=l(u.keyIds)).next();!c.done;c=u.next())c=c.value,c=t[r?"00":c],a.allowedByKeySystem=a.allowedByKeySystem&&!!c&&!sf.includes(c)}s!=a.allowedByKeySystem&&(i=!0)}}i&&!Mh(e)||((t=e.j.j)&&!t.allowedByKeySystem&&Rh(e),i&&Lh(e))}}function zh(e,t,n){e.K&&e.K.onExpirationUpdated&&e.K.onExpirationUpdated(t,n),t=sh("expirationupdated"),e.dispatchEvent(t)}function Kh(e,t,n){0<t&&(e.T()||e.Je(t)),n<(t=e.getDuration())&&(e.T()||e.Va(n))}function qh(e,t){e=e.m?e.m.Fc():{};var n=Object.keys(e);n=n.length&&"00"==n[0];for(var r=!1,i=!1,a=new Set,o=new Set,s=(t=l(t.variants)).next();!s.done;s=t.next()){var u=[];(s=s.value).audio&&u.push(s.audio),s.video&&u.push(s.video);for(var c=(u=l(u)).next();!c.done;c=u.next())if((c=c.value).keyIds.size)for(var h=(c=l(c.keyIds)).next();!h.done;h=c.next()){h=h.value;var f=e[n?"00":h];f?sf.includes(f)&&o.add(f):a.add(h)}s.allowedByApplication?s.allowedByKeySystem&&(r=!0):i=!0}if(!r)throw new Ye(2,4,4012,e={hasAppRestrictions:i,missingKeys:Array.from(a),restrictedKeyStatuses:Array.from(o)})}function Wh(e){if(!e.variants.some(pn))throw new Ye(2,4,4032)}function Xh(e,t){P((function(n){if(1==n.g)return T(n,Promise.resolve(),2);e.l!=tf&&e.dispatchEvent(t),S(n)}))}function Yh(e){for(var t=new Set,n=(e=l(e)).next();!n.done;n=e.next())(n=n.value).language?t.add(Et(n.language)):t.add("und");return t}function Jh(e){for(var t=new Map,n=new Map,r=(e=l(e)).next();!r.done;r=e.next()){var i="und",a=[];(r=r.value).language&&(i=Et(r.language)),(a="variant"==r.type?r.audioRoles:r.roles)&&a.length||(a=[""]),t.has(i)||t.set(i,new Set);for(var o=(a=l(a)).next();!o.done;o=a.next())o=o.value,t.get(i).add(o),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(o,r.label))}var s=[];return t.forEach((function(e,t){for(var r=(e=l(e)).next();!r.done;r=e.next()){r=r.value;var i=null;n.has(t)&&n.get(t).has(r)&&(i=n.get(t).get(r)),s.push({language:t,role:r,label:i})}})),s}function Zh(){return new Ye(2,7,7e3)}function $h(e,t,n,r,i,a){return r==e&&i.mediaElement==a.mediaElement&&i.uri==a.uri&&i.mimeType==a.mimeType?t:n}function Qh(){return{mediaElement:null,mimeType:null,startTime:null,Xc:NaN,uri:null}}function ef(e){return new Promise((function(t,n){e.qb=function(){return n(Zh())},e.Uc=function(){return t()},e.onError=function(e){return n(e)},e.Vc=function(){return n(Zh())}}))}H("shaka.util.CmcdManager.StreamingFormat",{DASH:"d",HLS:"h",rg:"s",OTHER:"o"}),H("shaka.util.ConfigUtils",Fl),Fl.convertToConfigObject=Vl,Fl.mergeConfigObjects=Gl,H("shaka.util.FairPlayUtils",Kl),Kl.commonFairPlayResponse=function(e,t){if(2===e){try{var n=Cr(t.data)}catch(i){return}e=!1,"<ckc>"===(n=n.trim()).substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6),e=!0);try{var r=JSON.parse(n);r.ckc&&(n=r.ckc,e=!0),r.CkcMessage&&(n=r.CkcMessage,e=!0),r.License&&(n=r.License,e=!0)}catch(i){}e&&(t.data=ne(_i(n)))}},Kl.expressplayFairPlayRequest=function(e,t){Yl(e,t)},Kl.conaxFairPlayRequest=function(e,t){Yl(e,t)},Kl.ezdrmFairPlayRequest=function(e,t){Yl(e,t)},Kl.verimatrixFairPlayRequest=function(e,t){2===e&&(e=Ci(e=re(t.body)),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=Rr("spc="+e))},Kl.expressplayInitDataTransform=function(e,t,n){return Xl(e,t,n)},Kl.conaxInitDataTransform=function(t,n,r){if("skd"!==n)return t;n=r.serverCertificate,r=Mr(t).split("skd://").pop().split("?").shift(),r=e.atob(r);var i=new ArrayBuffer(2*r.length);i=new Uint16Array(i);for(var a=0,o=r.length;a<o;a++)i[a]=r.charCodeAt(a);return Wl(t,i,n)},Kl.ezdrmInitDataTransform=function(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,Wl(e,n=Mr(e).split(";").pop(),t))},Kl.verimatrixInitDataTransform=function(e,t,n){return Xl(e,t,n)},Kl.initDataTransform=Wl,Kl.defaultGetContentId=ql,Kl.isFairPlaySupported=function(){var e;return P((function(t){return 1==t.g?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},x(t,2),T(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):2!=t.g?t.return(!0):(A(t),t.return(!1))}))},H("shaka.util.PlayerConfiguration",Jl),Jl.mergeConfigObjects=$l,Jl.createDefault=Zl,v(ah,Sa),(r=ah.prototype).destroy=function(){var e,t=this;return P((function(n){switch(n.g){case 1:return t.l==tf?n.return():(oh(t),t.l=tf,e=dl(t.hb,(function(){return{node:t.P,S:Qh(),nb:!1}})),T(n,new Promise((function(t){e.Kb=function(){},e.Uc=function(){t()},e.qb=function(){t()},e.onError=function(){t()},e.Vc=function(){t()}})),2));case 2:return T(n,t.hb.destroy(),3);case 3:if(t.Nc&&(t.Nc.release(),t.Nc=null),t.Wb&&(t.Wb.release(),t.Wb=null),t.o&&(t.o.release(),t.o=null),t.ud=null,t.g=null,t.u=null,t.Dc=null,t.W=null,!t.F){n.B(4);break}return T(n,t.F.destroy(),5);case 5:t.F=null;case 4:t.s&&(t.s.release(),t.s=null),Sa.prototype.release.call(t),S(n)}}))},r.Xb=function(e,t){if(t=void 0===t||t,this.l==tf)return Promise.reject(Zh());var n=Qh();n.mediaElement=e,Dt()||(t=!1);var r=t?this.Ab:this.Z;return(e=dl(this.hb,(function(){return{node:r,S:n,nb:!1}}))).Kb=function(){},ef(e)},r.Te=function(e){this.Ne=e},r.detach=function(){var e=this;if(this.l==tf)return Promise.reject(Zh());var t=dl(this.hb,(function(){return{node:e.P,S:Qh(),nb:!1}}));return t.Kb=function(){},ef(t)},r.ig=function(e){var t=this;if(e=void 0===e||e,this.l==tf)return Promise.reject(Zh());this.bc=!1,Dt()||(e=!1),oh(this);var n=Qh(),r=dl(this.hb,(function(r){var i=r.mediaElement&&e?t.Ab:r.mediaElement?t.Z:t.P;return n.mediaElement=r.mediaElement,{node:i,S:n,nb:!1}}));return r.Kb=function(){},ef(r)},r.mg=function(e){this.cc=e},r.load=function(e,t,n){var r=this;if(this.cc=null,this.bc=!1,this.l==tf)return Promise.reject(Zh());this.dispatchEvent(sh("loading"));var i=Qh();i.uri=e,i.Xc=Date.now()/1e3,n&&(i.mimeType=n),void 0!==t&&(i.startTime=t);var a=function(e,t){if(!Dt())return!0;var n=t.mimeType,r=t.uri||"";if(n||(n=wo(r),n=lf[n]),n){if(""==(t.mediaElement||Vt()).canPlayType(n))return!1;if(!Dt()||!(n in To)&&!(wo(r)in So)||("application/x-mpegurl"===n||"application/vnd.apple.mpegurl"===n)&&e.g.streaming.preferNativeHls)return!0;if(jt())return e.g.streaming.useNativeHlsOnSafari}return!1}(this,i)?this.Cb:this.ca,o=dl(this.hb,(function(e){return null==e.mediaElement?null:(i.mediaElement=e.mediaElement,{node:a,S:i,nb:!0})}));return this.u=new ih,o.Kb=function(){},new Promise((function(e,t){o.Vc=function(){return t(new Ye(2,7,7002))},o.Uc=function(){e(),r.dispatchEvent(sh("loaded"))},o.qb=function(){return t(Zh())},o.onError=function(e){return t(e)}}))},r.configure=function(e,t){2==arguments.length&&"string"==typeof e&&(e=Vl(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(oi("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(oi("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&e.streaming.lowLatencyMode&&(null==e.streaming.inaccurateManifestTolerance&&(e.streaming.inaccurateManifestTolerance=0),null==e.streaming.rebufferingGoal&&(e.streaming.rebufferingGoal=.01),null==e.streaming.segmentPrefetchLimit&&(e.streaming.segmentPrefetchLimit=2));var n=$l(this.g,e,Sh(this));return gh(this),n},r.getConfiguration=function(){var e=Sh(this);return $l(e,this.g,Sh(this)),e},r.df=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(e>=(t=Math.min(this.h.currentTime+t,this.Ob().end)))return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},r.Yf=function(){for(var e in this.g)delete this.g[e];$l(this.g,Sh(this),Sh(this)),gh(this)},r.kf=function(){return this.l},r.nf=function(){return this.i?this.i.type:null},r.qf=function(){return this.h},r.od=function(){return this.F},r.af=function(){return this.Qb},r.$e=function(){return this.C?this.C:null},r.T=function(){return this.i?this.i.presentationTimeline.T():!(!this.h||!this.h.src)&&1/0==this.h.duration},r.Hb=function(){return!!this.i&&this.i.presentationTimeline.Hb()},r.Gf=function(){if(this.i){var e=this.i.variants;return!!e.length&&!e[0].video}return!(!this.h||!this.h.src)&&(this.h.videoTracks?0==this.h.videoTracks.length:0==this.h.videoHeight)},r.Ob=function(){if(!this.bc)return{start:0,end:0};if(this.i){var e=this.i.presentationTimeline;return{start:e.Fb(),end:e.Na()}}return this.h&&this.h.src&&(e=this.h.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},r.Df=function(){this.T()&&(this.h.currentTime=this.Ob().end)},r.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},r.drmInfo=function(){return this.m?this.m.g:null},r.nd=function(){return this.m?this.m.nd():1/0},r.ld=function(){return this.m?this.m.ld():[]},r.Fc=function(){return this.m?this.m.Fc():{}},r.te=function(){return!!this.O&&this.O.g==qs},r.Gc=function(){return this.h?this.I?this.I.i:1:0},r.Me=function(e){0==e?q("A trick play rate of 0 is unsupported!"):(this.h.paused&&this.h.play(),this.I.set(e),this.l==rf&&(this.s.playbackRateChanged(e),ic(this.j,1<Math.abs(e))))},r.ge=function(){var e=this.I.Ec();this.l==af&&this.I.set(e),this.l==rf&&(this.I.set(e),this.s.playbackRateChanged(e),ic(this.j,!1))},r.Za=function(){if(this.i){for(var e=this.j?this.j.j:null,t=[],n=0,r=l(this.i.variants),i=r.next();!i.done;i=r.next())if(pn(i=i.value)){var a=sn(i);a.active=i==e,a.active||1==n||null==e||i.video!=e.video||i.audio!=e.audio||(a.active=!0),a.active&&n++,t.push(a)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map((function(e){return fn(e)})):[]},r.Gb=function(){if(this.i){for(var e=this.j?this.j.o:null,t=[],n=l(this.i.textStreams),r=n.next();!r.done;r=n.next()){var i=un(r=r.value);i.active=r==e,t.push(i)}return t}return this.h&&this.h.src&&this.h.textTracks?mh(this).map((function(e){return hn(e)})):[]},r.jf=function(){return this.i?this.i.imageStreams.map((function(e){return cn(e)})):[]},r.yf=function(e,t){var n,r,i,a,o,s,u,c,l,h,f,d,p,g,m,v,y,b,w,S,x=this;return P((function(E){return 1==E.g?x.i?(n=x.i.imageStreams.find((function(t){return t.id==e})))?n.segmentIndex?E.B(3):T(E,n.createSegmentIndex(),3):E.return(null):E.B(2):2!=E.g?null==(r=n.segmentIndex.find(t))?E.return(null):(i=n.segmentIndex.get(r),a=i.tilesLayout||n.tilesLayout,(o=/(\d+)x(\d+)/.exec(a))?(s=n.width||0,u=n.height||0,c=parseInt(o[1],10),l=parseInt(o[2],10),h=s/c,f=u/l,d=c*l,p=i.l-i.startTime,g=i.I||p/d,m=i.startTime,y=v=0,1<d&&(b=Math.floor((t-i.startTime)/g),m=i.startTime+b*g,v=b%c*h,y=Math.floor(b/c)*f),w=!1,(S=i.F)&&(w=!0,f=S.height,v=S.positionX,y=S.positionY,h=S.width),E.return({imageHeight:u,imageWidth:s,height:f,positionX:v,positionY:y,startTime:m,duration:g,uris:i.Oa(),width:h,sprite:w})):E.return(null)):E.return(null)}))},r.Fe=function(e){if(this.i&&this.j){var t=this.i.textStreams.find((function(t){return t.id==e.id}));t&&t!=this.j.o&&(rh(this.u.h,t,!1),oc(this.j,t),Oh(this),this.zb=t.language)}else if(this.h&&this.h.src&&this.h.textTracks){for(var n=(t=l(t=mh(this))).next();!n.done;n=t.next())ln(n=n.value)==e.id?n.mode=this.ha?"showing":"hidden":n.mode="disabled";Oh(this)}},r.Ud=function(e,t,n){if(t=void 0!==t&&t,n=void 0===n?0:n,this.i&&this.j){this.g.abr.enabled&&q("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var r=this.i.variants.find((function(t){return t.id==e.id}));r&&pn(r)&&(Ph(this,r,!1,t,n),this.yb=new Gs(r),Mh(this))}else if(this.h&&this.h.audioTracks)for(n=(t=l(t=Array.from(this.h.audioTracks))).next();!n.done;n=t.next())if(ln(n=n.value)==e.id){Dh(this,n);break}},r.cf=function(){return Jh(this.Za())},r.wf=function(){return Jh(this.Gb())},r.bf=function(){return Array.from(Yh(this.Za()))},r.vf=function(){return Array.from(Yh(this.Gb()))},r.De=function(e,t,n,r){if(n=void 0===n?0:n,r=void 0===r?0:r,this.i&&this.A){this.yb=new Vs(e,t||"",n,"",""),e=function(e,t){return e.video||t.video?e.video&&t.video?Math.abs((e.video.height||0)-(t.video.height||0))+Math.abs((e.video.width||0)-(t.video.width||0)):1/0:0},t=this.j.j;var i=this.yb.create(this.i.variants);n=null;for(var a=(i=l(i.values())).next();!a.done;a=i.next())a=a.value,(!n||e(n,t)>e(a,t))&&(n=a);n?(e=sn(n),this.Ud(e,!0,r)):Rh(this)}else this.h&&this.h.audioTracks&&(r=mn(this.Za(),e,t||"",!1)[0])&&this.Ud(r)},r.Ee=function(e,t,n){n=void 0!==n&&n,this.i&&this.A?(this.zb=e,this.ac=t||"",this.Zb=n,(e=mn(this.i.textStreams,this.zb,this.ac,this.Zb)[0]||null)&&e!=this.j.o&&(rh(this.u.h,e,!1),this.g.streaming.alwaysStreamText||this.td())&&(oc(this.j,e),Oh(this))):(e=mn(this.Gb(),e,t||"",n)[0])&&this.Fe(e)},r.bg=function(e,t,n){if(t=void 0===t||t,n=void 0===n?0:n,this.i&&this.A){for(var r=null,i=l(this.i.variants),a=i.next();!a.done;a=i.next())if((a=a.value).audio.label==e){r=a;break}null!=r&&(this.yb=new Vs(r.language,"",0,"",e),Rh(this,t,n))}else if(this.h&&this.h.audioTracks){for(t=null,r=(n=l(n=Array.from(this.h.audioTracks))).next();!r.done;r=n.next())(r=r.value).label==e&&(t=r);t&&Dh(this,t)}},r.td=function(){var e=this.ha;return this.D?this.D.u.isTextVisible():this.h&&this.h.src&&this.h.textTracks?mh(this).some((function(e){return"showing"==e.mode})):e},r.oe=function(){return this.h&&this.h.src&&this.h.textTracks?vh(this).map((function(e){return hn(e)})):[]},r.ef=function(e){var t=Et(e),n=vh(this).filter((function(e){return Et(e.language)==t}));if(!n||!n.length)return[];e=[];for(var r=new Set,i=(n=l(n)).next();!i.done;i=n.next())if((i=i.value)&&i.cues)for(var a=(i=l(i.cues)).next();!a.done;a=i.next()){var o=a.value;(a=o.id)&&""!=a||(a=o.startTime+"-"+o.endTime+"-"+o.text),o={id:a,title:o.text,startTime:o.startTime,endTime:o.endTime},r.has(a)||(e.push(o),r.add(a))}return e},r.fg=function(e){if(e=!!e,this.ha!=e){if(this.ha=e,this.l==rf)this.D.u.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.j.o||0<(e=mn(this.i.textStreams,this.zb,this.ac,this.Zb)).length&&(oc(this.j,e[0]),Oh(this)):function(e){var t=e.h.get(it);t&&(yc(t),bc(t).catch((function(){})),e.h.delete(it)),e.o=null}(this.j));else if(this.h&&this.h.src&&this.h.textTracks)for(var t=mh(this),n=(t=l(t)).next();!n.done;n=t.next())"disabled"!=(n=n.value).mode&&(n.mode=e?"showing":"hidden");Bh(this)}},r.tf=function(){if(!this.T())return null;var e=this.hb.l,t=0;if(this.A)t=this.A.yc();else if(e){if(null==e.startTime)return new Date;t=e.startTime}return this.i?new Date(1e3*(this.i.presentationTimeline.i+t)):this.h&&this.h.getStartDate?(e=this.h.getStartDate(),isNaN(e.getTime())?null:new Date(e.getTime()+1e3*t)):null},r.pe=function(){if(!this.T())return null;if(this.i)return new Date(1e3*this.i.presentationTimeline.i);if(this.h&&this.h.getStartDate){var e=this.h.getStartDate();return isNaN(e.getTime())?null:e}return null},r.Ma=function(){if(this.l==rf)return this.D.Ma();var e={total:[],audio:[],video:[],text:[]};return this.l==af&&(e.total=eu(this.h.buffered)),e},r.getStats=function(){if(this.l!=rf&&this.l!=af)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};Ch(this);var e=this.h,t=e.currentTime/e.duration;if(!isNaN(t)){var n=this.u;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.A&&(this.u.O=this.A.ce(),this.u.P=this.A.de()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.u;var r=Number(n.totalVideoFrames);t.L=Number(n.droppedVideoFrames),t.K=r,this.u.I=Number(n.corruptedVideoFrames)}this.m?n=(n=this.m).I?n.I:NaN:n=NaN,this.u.s=n,this.l==rf&&((n=this.j.j)&&(this.u.A=(this.I?this.I.i:1)*n.bandwidth),n&&n.video&&(t=this.u,r=n.video.height||NaN,t.o=n.video.width||NaN,t.l=r),this.T()&&(n=this.pe().valueOf()+1e3*this.Ob().end,this.u.C=(Date.now()-n)/1e3),this.i&&this.i.presentationTimeline&&(this.u.F=this.i.presentationTimeline.g),n=this.s.getBandwidthEstimate(),this.u.u=n),this.l==af&&(n=this.u,t=e.videoHeight||NaN,n.o=e.videoWidth||NaN,n.l=t);var i=this.u;e=i.o,n=i.l,t=i.A,r=i.K;for(var a=i.L,o=i.I,s=i.P,u=i.O,c=i.u,h=i.i,f=i.m,d=i.D,p=i.j,g=th(i.g,"playing"),m=th(i.g,"paused"),v=th(i.g,"buffering"),y=i.s,b=i.C,w=i.F,T=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],r=l(e.h),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.g&&n.push(t(e.g)),n}(i.g),S=[],x=(i=l(i.h.g)).next();!x.done;x=i.next())x=x.value,S.push({timestamp:x.timestamp,id:x.id,type:x.type,fromAdaptation:x.fromAdaptation,bandwidth:x.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:r,droppedFrames:a,corruptedFrames:o,stallsDetected:s,gapsJumped:u,estimatedBandwidth:c,completionPercent:h,loadLatency:f,manifestTimeSeconds:d,drmTimeSeconds:p,playTime:g,pauseTime:m,bufferingTime:v,licenseTime:y,liveLatency:b,maxSegmentDuration:w,stateHistory:T,switchHistory:S}},r.Re=function(e,t,n,r,i,a,o){o=void 0!==o&&o;var s,u,c,l,h,f,d,p,g,m,v=this;return P((function(y){switch(y.g){case 1:if(v.l!=rf&&v.l!=af)throw new Ye(1,7,7004);if(r){y.B(2);break}return T(y,yh(v,e),3);case 3:r=y.h;case 2:if(s=[],v.C)try{s=v.C.getServerSideCuePoints()}catch(b){}if(v.l!=af){y.B(4);break}return o&&(n="forced"),T(y,bh(v,e,t,n,r,a||"",s),5);case 5:if(u=v.Gb(),c=u.find((function(e){return e.language==t&&e.label==(a||"")&&e.kind==n})))return Lh(v),y.return(c);throw new Ye(1,2,2012);case 4:if(l=at,1/0==(h=v.i.presentationTimeline.getDuration()))throw new Ye(1,4,4033);if(!s.length){y.B(6);break}return T(y,wh(v,e,v.F,v.g.streaming.retryParameters),7);case 7:f=y.h,d=Th(v,f,r,s),p=new Blob([d],{type:"text/vtt"}),e=Au(p),r="text/vtt";case 6:if(g={id:v.Od++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Wa(0,h,[e]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:a||null,type:l.da,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0},m=ut(g.mimeType,g.codecs),!mt(m))throw new Ye(2,2,2014,r);return v.i.textStreams.push(g),Lh(v),y.return(un(g))}}))},r.Se=function(e,t){var n,r,i,a,o,s,u,c,h,f,d,p,g,m,v,y,b=this;return P((function(w){switch(w.g){case 1:if(b.l!=rf&&b.l!=af)throw new Ye(1,7,7004);if(b.l==af)throw new Ye(1,2,2016);if(t){w.B(2);break}return T(w,yh(b,e),3);case 3:t=w.h;case 2:if("text/vtt"!=t)throw new Ye(1,2,2017,e);if(n=at,1/0==(r=b.i.presentationTimeline.getDuration()))throw new Ye(1,4,4045);return T(w,wh(b,e,b.F,b.g.streaming.retryParameters),4);case 4:if(i=w.h,!(a=bt[t]))throw new Ye(2,2,2014,t);for(o=a(),s={periodStart:0,segmentStart:0,segmentEnd:r,vttOffset:0},u=re(i),c=o.parseMedia(u,s),h=[],f={},d=l(c),p=d.next();!p.done;f={Rb:f.Rb},p=d.next())g=p.value,f.Rb=et([e],[g.S])[0],m=new Ga(g.startTime,g.endTime,function(e){return function(){return[e.Rb]}}(f),0,null,null,0,0,1/0),f.Rb.includes("#xywh")&&(4===(v=f.Rb.split("#xywh=")[1].split(",")).length&&m.Ie({height:parseInt(v[3],10),positionX:parseInt(v[0],10),positionY:parseInt(v[1],10),width:parseInt(v[2],10)})),h.push(m);return y={id:b.Od++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new qa(h),mimeType:t||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.fd,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0},b.i.imageStreams.push(y),Lh(b),w.return(cn(y))}}))},r.Qe=function(e,t,n){var r,i,a,o,s=this;return P((function(u){switch(u.g){case 1:if(s.l!=rf&&s.l!=af)throw new Ye(1,7,7004);if(n){u.B(2);break}return T(u,yh(s,e),3);case 3:n=u.h;case 2:if(r=[],s.C)try{r=s.C.getServerSideCuePoints()}catch(c){}return T(u,bh(s,e,t,"chapters",n,"",r),4);case 4:if(i=u.h,a=s.oe(),!(o=a.find((function(e){return e.language==t})))){u.B(5);break}return T(u,new Promise((function(e,t){s.o.oa(i,"load",e),s.o.oa(i,"error",(function(){t(new Ye(1,2,2015))}))})),6);case 6:return u.return(o);case 5:throw new Ye(1,2,2012)}}))},r.dg=function(e,t){this.Ld.width=e,this.Ld.height=t},r.Rd=function(e){if(this.l==rf){var t=this.j;if(e=void 0===e?.1:e,t.l.g)t=!1;else if(t.s)t=!1;else{for(var n=l(t.h.values()),r=n.next();!r.done;r=n.next())!(r=r.value).kc||r.pa||r.Ha||(r.kc=!1,vc(t,r,e));t=!0}}else t=!1;return t},r.lf=function(){return q("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},r.mf=function(){return this.Oc},r.gg=function(e){this.Dc=e},r.kd=function(e,t){if(!this.g.abr.enabled||this.l===tf||!navigator.onLine)return!1;if(this.i.variants.some((function(t){return!(!(t=t[e.type])||t.id===e.id)&&("audio"!=e.type||e.language===t.language)}))){for(var n=l(this.i.variants),r=n.next();!r.done;r=n.next()){var i=(r=r.value)[e.type];i&&i.id===e.id&&(r.disabledUntilTime=Date.now()/1e3+t)}return this.Mc.sa(1),Rh(this,!0,t=this.Ma().video.reduce((function(e,t){return e+t.end-t.start}),0),!0,!1),!0}return!1},H("shaka.Player",ah),ah.prototype.setVideoContainer=ah.prototype.gg,ah.prototype.getManifestParserFactory=ah.prototype.mf,ah.prototype.getManifest=ah.prototype.lf,ah.prototype.retryStreaming=ah.prototype.Rd,ah.prototype.setMaxHardwareResolution=ah.prototype.dg,ah.prototype.addChaptersTrack=ah.prototype.Qe,ah.prototype.addThumbnailsTrack=ah.prototype.Se,ah.prototype.addTextTrackAsync=ah.prototype.Re,ah.prototype.getStats=ah.prototype.getStats,ah.prototype.getBufferedInfo=ah.prototype.Ma,ah.prototype.getPresentationStartTimeAsDate=ah.prototype.pe,ah.prototype.getPlayheadTimeAsDate=ah.prototype.tf,ah.prototype.setTextTrackVisibility=ah.prototype.fg,ah.prototype.getChapters=ah.prototype.ef,ah.prototype.getChaptersTracks=ah.prototype.oe,ah.prototype.isTextTrackVisible=ah.prototype.td,ah.prototype.selectVariantsByLabel=ah.prototype.bg,ah.prototype.selectTextLanguage=ah.prototype.Ee,ah.prototype.selectAudioLanguage=ah.prototype.De,ah.prototype.getTextLanguages=ah.prototype.vf,ah.prototype.getAudioLanguages=ah.prototype.bf,ah.prototype.getTextLanguagesAndRoles=ah.prototype.wf,ah.prototype.getAudioLanguagesAndRoles=ah.prototype.cf,ah.prototype.selectVariantTrack=ah.prototype.Ud,ah.prototype.selectTextTrack=ah.prototype.Fe,ah.prototype.getThumbnails=ah.prototype.yf,ah.prototype.getImageTracks=ah.prototype.jf,ah.prototype.getTextTracks=ah.prototype.Gb,ah.prototype.getVariantTracks=ah.prototype.Za,ah.prototype.cancelTrickPlay=ah.prototype.ge,ah.prototype.trickPlay=ah.prototype.Me,ah.prototype.getPlaybackRate=ah.prototype.Gc,ah.prototype.isBuffering=ah.prototype.te,ah.prototype.getKeyStatuses=ah.prototype.Fc,ah.prototype.getActiveSessionsMetadata=ah.prototype.ld,ah.prototype.getExpiration=ah.prototype.nd,ah.prototype.drmInfo=ah.prototype.drmInfo,ah.prototype.keySystem=ah.prototype.keySystem,ah.prototype.goToLive=ah.prototype.Df,ah.prototype.seekRange=ah.prototype.Ob,ah.prototype.isAudioOnly=ah.prototype.Gf,ah.prototype.isInProgress=ah.prototype.Hb,ah.prototype.isLive=ah.prototype.T,ah.prototype.getAdManager=ah.prototype.$e,ah.prototype.getAssetUri=ah.prototype.af,ah.prototype.getNetworkingEngine=ah.prototype.od,ah.prototype.getMediaElement=ah.prototype.qf,ah.prototype.getManifestType=ah.prototype.nf,ah.prototype.getLoadMode=ah.prototype.kf,ah.prototype.resetConfiguration=ah.prototype.Yf,ah.prototype.getBufferFullness=ah.prototype.df,ah.prototype.getConfiguration=ah.prototype.getConfiguration,ah.prototype.configure=ah.prototype.configure,ah.prototype.load=ah.prototype.load,ah.prototype.updateStartTime=ah.prototype.mg,ah.prototype.unload=ah.prototype.ig,ah.prototype.detach=ah.prototype.detach,ah.prototype.attachCanvas=ah.prototype.Te,ah.prototype.attach=ah.prototype.Xb,ah.probeSupport=function(e){var t,n,r,i,a;return e=void 0===e||e,P((function(o){if(1==o.g)return t={},e?T(o,function(){var e,t,n,r,i,a;return P((function(o){return 1==o.g?(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),n=[{videoCapabilities:t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],persistentState:"required",sessionTypes:["persistent-license"]},{initDataTypes:["cenc"],videoCapabilities:t}],r=new Map,i=function(e){var t,i,a;return P((function(o){switch(o.g){case 1:if(x(o,2),"org.w3.clearkey"===e&&Ft())throw Error("Unsupported keySystem");return T(o,navigator.requestMediaKeySystemAccess(e,n),4);case 4:return t=o.h,a=!!(i=t.getConfiguration().sessionTypes)&&i.includes("persistent-license"),Gt("Tizen 3")&&(a=!1),r.set(e,{persistentState:a}),T(o,t.createMediaKeys(),5);case 5:E(o,0);break;case 2:A(o),r.set(e,null),S(o)}}))},a=e.map((function(e){return i(e)})),T(o,Promise.all(a),2)):o.return(Ro(r))}))}(),3):o.B(2);2!=o.g&&(t=o.h);var s={};if(Dt()){for(var u in To)s[u]=!0;for(var c in So)s[c]=!0}u={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var f=(c=l(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!f.done;f=c.next())s[f=f.value]=Dt()?!!To[f]:Lt(f);for(var d in u)s[d]=Dt()?!!So[d]:Lt(u[d]);for(n=s,s={},u=(d=l(d='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(h(pt)))).next();!u.done;u=d.next())s[u=u.value]=Dt()?!!mt(u)||(Y(u)||!!Ce(u)):Lt(u),s[c=u.split(";")[0]]=s[c]||s[u];for(a in r={manifest:n,media:s,drm:t},i=uf)r[a]=i[a]();return o.return(r)}))},ah.isBrowserSupported=function(){if(e.Promise||q("A Promise implementation or polyfill is required"),!(e.Promise&&e.Uint8Array&&Array.prototype.forEach)||Gt("Trident/"))return!1;var t=Ft();return!(t&&13>t||!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration))&&(!!Dt()||Lt("application/x-mpegurl"))},ah.setAdManagerFactory=function(e){cf=e},ah.registerSupportPlugin=function(e,t){uf[e]=t},ah.prototype.destroy=ah.prototype.destroy;var tf=0,nf=1,rf=2,af=3;ah.LoadMode={DESTROYED:tf,NOT_LOADED:nf,MEDIA_SOURCE:rf,SRC_EQUALS:af},ah.version="4.4.2-npm-dirty";var of=["","4"];ci=new function(e){this.g=e,this.i=si,this.h=ui}(new ai(Number(of[0]),Number(of[1])));var sf=["output-restricted","internal-error"],uf={},cf=null,lf={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"},hf={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"};function ff(){}function df(e,t){for(e={priority:t||0,Ue:e},t=0;t<pf.length;t++)if(pf[t].priority<e.priority)return void pf.splice(t,0,e);pf.push(e)}H("shaka.polyfill",ff),ff.register=df,ff.installAll=function(){for(var e=l(pf),t=e.next();!t.done;t=e.next()){t=t.value;try{t.Ue()}catch(n){q("Error installing polyfill!",n)}}};var pf=[];function gf(){this.g=new vf}function mf(){e.AbortController||(e.AbortController=gf,e.AbortSignal=vf)}function vf(){Sa.call(this),this.h=!1,this.g=void 0,this.onabort=null}function yf(){}function bf(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=l(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())wf(t.value)}function wf(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(e){null==e||null==e?this.removeAttribute(t):this.setAttribute(t,e)}})}function Tf(){}function Sf(){yp()}function xf(){}function Ef(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Af),document.addEventListener("webkitfullscreenerror",Af),document.addEventListener("mozfullscreenchange",Af),document.addEventListener("mozfullscreenerror",Af),document.addEventListener("MSFullscreenChange",Af),document.addEventListener("MSFullscreenError",Af)}}function Af(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}function kf(){}function If(){var e=!0;(jt()||Gt("PlayStation 5")||Ht()||Gt("Web0S")||Bt()||Gt("CrKey")||Gt("PC=EOS")||Gt("Hisense")||Gt("VIDAA"))&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),_f=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=Cf)}function Cf(t){var n,r,i,a,o,s,u,c,l,h,f,d,p,g,m,v;return P((function(y){switch(y.g){case 1:if(n={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:t},!t)return y.return(n);if(r=t.video,i=t.audio,"media-source"==t.type){if(!Dt())return y.return(n);if(r){if(Gt("CrKey"))if(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType){var b=r.contentType;r.width&&r.height&&(b+="; width="+r.width+"; height="+r.height),r.framerate&&(b+="; framerate="+r.framerate),"pq"===r.transferFunction&&(b+="; eotf=smpte2084"),a=cast.__platform__.canDisplayType(b)}else a=Y(r.contentType);else Bt()?(o=r.contentType,r.width&&r.height&&(o+="; width="+r.width,o+="; height="+r.height),r.framerate&&(o+="; framerate="+r.framerate),r.bitrate&&(o+="; bitrate="+r.bitrate),a=Y(o)):a=Y(r.contentType);if(!a)return y.return(n)}if(i&&(s=i.contentType,!Y(s)))return y.return(n)}else{if("file"!=t.type)return y.return(n);if(r&&(u=r.contentType,!Lt(u))||i&&(c=i.contentType,!Lt(c)))return y.return(n)}if(!t.keySystemConfiguration)return n.supported=!0,y.return(Promise.resolve(n));if(l=t.keySystemConfiguration,h=[],f=[],l.audio&&(d={robustness:l.audio.robustness||"",contentType:t.audio.contentType},h.push(d)),l.video&&(p={robustness:l.video.robustness||"",contentType:t.video.contentType},f.push(p)),g={initDataTypes:[l.initDataType],distinctiveIdentifier:l.distinctiveIdentifier,persistentState:l.persistentState,sessionTypes:l.sessionTypes},h.length&&(g.audioCapabilities=h),f.length&&(g.videoCapabilities=f),m=(t.video?t.video.contentType:"")+"#"+(t.audio?t.audio.contentType:"")+"#"+t.keySystemConfiguration.keySystem,x(y,3),m in Mf){v=Mf[m],y.B(5);break}return T(y,navigator.requestMediaKeySystemAccess(l.keySystem,[g]),6);case 6:v=y.h,Mf[m]=v;case 5:E(y,4);break;case 3:A(y);case 4:v&&(n.supported=!0,n.keySystemAccess=v);case 2:return y.return(n)}}))}gf.prototype.abort=function(e){var t=this.g;t.h||(t.h=!0,t.g=e,void 0===t.g&&(t.g=new DOMException("signal is aborted without reason","AbortError")),e=new Ta("abort"),t.onabort&&t.onabort(e),t.dispatchEvent(e))},s.Object.defineProperties(gf.prototype,{signal:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),ff.AbortController=gf,gf.install=mf,v(vf,Sa),s.Object.defineProperties(vf.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.h}},reason:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),df(mf),ff.Aria=yf,yf.install=bf,df(bf),ff.EncryptionScheme=Tf,Tf.install=Sf,df(Sf,-2),ff.Fullscreen=xf,xf.install=Ef,df(Ef),ff.MediaCapabilities=kf,kf.install=If;var _f=null;kf.originalMcap=_f;var Mf={};function Rf(){}function Pf(){var t=Ft();e.MediaSource&&(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType?function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */);return n.shift(),n.some((function(e){return e.startsWith("codecs=")}))?cast.__platform__.canDisplayType(t):e(t)}}():t?12>=t?(Df(),function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}()):15>=t&&Df():Nt()?function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(";")[0].split("/")[1]&&e(t)}}():(Gt("Tizen 2")||Gt("Tizen 3")||Gt("Tizen 4"))&&function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=dt(t)[0]&&e(t)}}()),e.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function(){var e=MediaSource.isTypeSupported;Gt("Web0S")||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),r=n.findIndex((function(e){return e.startsWith("codecs=")}));if(0>r)return e(t);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),a=i.findIndex((function(e){return e.startsWith("vp09")}));return 0<=a&&(i[a]="vp9",n[r]='codecs="'+i.join(",")+'"',t=n.join("; ")),e(t)})}()}function Df(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,D.apply(0,arguments));return t.abort=function(){},t}}function Lf(){}function Nf(){screen.orientation&&screen.orientation.unlock||(null!=screen.orientation?(void 0===screen.orientation.lock&&(screen.orientation.lock=function(){return Promise.resolve()}),void 0===screen.orientation.unlock&&(screen.orientation.unlock=function(){})):null!=e.orientation&&function(){function t(){switch(e.orientation){case-90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new Of;screen.orientation=n,t(),e.addEventListener("orientationchange",(function(){t();var e=new Ta("change");n.dispatchEvent(e)}))}())}function Of(){Sa.call(this),this.type="",this.angle=0}function Bf(){}function Uf(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=jf,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Hf,e.MediaKeys=Ff,e.MediaKeySystemAccess=Gf,e.shakaMediaKeysPolyfill=!0)}function jf(){return Promise.reject(Error("The key system specified is not supported."))}function Hf(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function Ff(){throw new TypeError("Illegal constructor.")}function Gf(){throw this.keySystem="",new TypeError("Illegal constructor.")}function Vf(){}function zf(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)rd="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=qf,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Wf,e.MediaKeys=Yf,e.MediaKeySystemAccess=Xf,e.shakaMediaKeysPolyfill=!0}}function Kf(e){return rd?rd+e.charAt(0).toUpperCase()+e.slice(1):e}function qf(e,t){try{var n=new Xf(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function Wf(e){var t=this.mediaKeys;return t&&t!=e&&Jf(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&Jf(e,this),Promise.resolve()}function Xf(e,t){this.g=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=(t=l(t)).next();!a.done;a=t.next()){var o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(a=a.value).initDataTypes,sessionTypes:["temporary"],label:a.label},s=!1;if(a.audioCapabilities)for(var u=l(a.audioCapabilities),c=u.next();!c.done;c=u.next())(c=c.value).contentType&&(s=!0,i.canPlayType(c.contentType.split(";")[0],this.g)&&(o.audioCapabilities.push(c),r=!0));if(a.videoCapabilities)for(c=(u=l(a.videoCapabilities)).next();!c.done;c=u.next())(c=c.value).contentType&&(s=!0,i.canPlayType(c.contentType,this.g)&&(o.videoCapabilities.push(c),r=!0));if(s||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),"required"==a.persistentState&&(n?(o.persistentState="required",o.sessionTypes=["persistent-license"]):r=!1),r)return void(this.h=o)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),(e=Error(n)).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function Yf(e){this.l=e,this.h=null,this.g=new Io,this.i=[],this.j=new Map}function Jf(e,t){e.h=t,e.g.Nb();var n=rd;t&&(e.g.J(t,n+"needkey",(function(t){var n=new CustomEvent("encrypted");n.initDataType="cenc",n.initData=ne(t.initData),e.h.dispatchEvent(n)})),e.g.J(t,n+"keymessage",(function(t){var n=Zf(e,t.sessionId);n&&(t=new Ta("message",t=(new Map).set("messageType",null==n.keyStatuses.jc()?"licenserequest":"licenserenewal").set("message",t.message)),n.h&&(n.h.resolve(),n.h=null),n.dispatchEvent(t))})),e.g.J(t,n+"keyadded",(function(t){(t=Zf(e,t.sessionId))&&(td(t,"usable"),t.g&&t.g.resolve(),t.g=null)})),e.g.J(t,n+"keyerror",(function(t){var n=Zf(e,t.sessionId);n&&n.handleError(t)})))}function Zf(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function $f(e,t,n){Sa.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new pa,this.keyStatuses=new nd}function Qf(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if("persistent-license"==e.l)if(n)var r=re(Rr("LOAD_SESSION|"+n));else{var i=Rr("PERSISTENT|");r=Pi(i,t)}else r=re(t)}catch(o){return Promise.reject(o)}e.h=new pa;var a=Kf("generateKeyRequest");try{e.j[a](e.i,r)}catch(o){if("InvalidStateError"!=o.name)return e.h=null,Promise.reject(o);new Pt((function(){try{e.j[a](e.i,r)}catch(t){e.h.reject(t),e.h=null}})).V(.01)}return e.h}function ed(e,t,n){if(e.g)e.g.then((function(){return ed(e,t,n)})).catch((function(){return ed(e,t,n)}));else{if(e.g=t,"webkit-org.w3.clearkey"==e.i){var r=Cr(n),i=JSON.parse(r);"oct"!=i.keys[0].kty&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),r=_i(i.keys[0].k),i=_i(i.keys[0].kid)}else r=re(n),i=null;var a=Kf("addKey");try{e.j[a](e.i,r,i,e.sessionId)}catch(o){e.g.reject(o),e.g=null}}}function td(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.g=t,t=new Ta("keystatuseschange"),e.dispatchEvent(t)}function nd(){this.size=0,this.g=void 0}kf.memoizedMediaKeySystemAccessRequests_=Mf,df(If,-1),ff.MediaSource=Rf,Rf.install=Pf,df(Pf),ff.Orientation=Lf,Lf.install=Nf,v(Of,Sa),Of.prototype.lock=function(e){function t(e){return screen.lockOrientation?screen.lockOrientation(e):screen.mozLockOrientation?screen.mozLockOrientation(e):!!screen.msLockOrientation&&screen.msLockOrientation(e)}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():((e=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},Of.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},df(Nf),ff.PatchedMediaKeysNop=Bf,Bf.install=Uf,Ff.prototype.createSession=function(){},Ff.prototype.setServerCertificate=function(){},Ff.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},Gf.prototype.getConfiguration=function(){},Gf.prototype.createMediaKeys=function(){},df(Uf,-10),ff.PatchedMediaKeysWebkit=Vf,Vf.install=zf,Xf.prototype.createMediaKeys=function(){var e=new Yf(this.g);return Promise.resolve(e)},Xf.prototype.getConfiguration=function(){return this.h},Yf.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new $f(t,this.l,e),this.i.push(e),e},Yf.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Yf.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},v($f,Sa),(r=$f.prototype).handleError=function(e){var t=Error("EME v0.1b key error"),n=e.errorCode;n.systemCode=e.systemCode,t.errorCode=n,!e.sessionId&&this.h?(45==e.systemCode&&(t.message="Unsupported session type."),this.h.reject(t),this.h=null):e.sessionId&&this.g?(this.g.reject(t),this.g=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?td(this,"output-restricted"):td(this,1==t?"expired":"internal-error"))},r.generateRequest=function(e,t){return Qf(this,t,null)},r.load=function(e){return"persistent-license"==this.l?Qf(this,null,e):Promise.reject(Error("Not a persistent session."))},r.update=function(e){var t=new pa;return ed(this,t,e),t},r.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Kf("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},r.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(r=nd.prototype).jc=function(){return this.g},r.forEach=function(e){this.g&&e(this.g,Zo.value())},r.get=function(e){if(this.has(e))return this.g},r.has=function(e){var t=Zo.value();return!(!this.g||!ee(e,t))},r.entries=function(){},r.keys=function(){},r.values=function(){};var rd="";function id(){}function ad(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=sd,Object.defineProperty(t,"disablePictureInPicture",{get:cd,set:ld,enumerable:!0,configurable:!0}),document.exitPictureInPicture=ud,document.addEventListener("webkitpresentationmodechanged",od,!0))}}function od(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function sd(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function ud(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function cd(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function ld(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function hd(){}function fd(){e.crypto&&("randomUUID"in e.crypto||(e.crypto.randomUUID=dd))}function dd(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}function pd(){}function gd(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=md)}function md(){return new Promise((function(e,t){navigator.webkitTemporaryStorage.queryUsageAndQuota((function(t,n){e({usage:t,quota:n})}),t)}))}function vd(){}function yd(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:bd})}function bd(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}function wd(){}function Td(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}}function Sd(){}function xd(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in t||Ut())&&(t.getVideoPlaybackQuality=Ed)}}function Ed(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Ad(){}function kd(){if(!e.VTTCue&&e.TextTrackCue){var t=null,n=TextTrackCue.length;if(3==n)t=Id;else if(6==n)t=Cd;else{try{var r=!!Id(1,2,"")}catch(i){r=!1}r&&(t=Id)}t&&(e.VTTCue=function(e,n,r){return t(e,n,r)})}}function Id(t,n,r){return new e.TextTrackCue(t,n,r)}function Cd(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}function _d(e,t){var n=1&e[t+1]?7:9;return t+n<=e.length&&0<(e=((3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5)-n)?{Lc:n,M:e}:null}function Md(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=(60&e[t+2])>>>2;if(r>n.length-1)return null;var i=1+((192&e[t+2])>>>6),a=(1&e[t+2])<<2;return a|=(192&e[t+3])>>>6,{sampleRate:n[r],channelCount:a,Bc:"mp4a.40."+i}}function Rd(e,t){if(t+1<e.length&&255===e[t]&&240==(246&e[t+1])){var n=1&e[t+1]?7:9;if(t+n>=e.length)return!1;var r=(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5;return!(r<=n)&&((t+=r)===e.length||t+1<e.length&&255===e[t]&&240==(246&e[t+1]))}return!1}function Pd(e){this.i=e,this.h=0,this.g=new Map}function Dd(e,t){if(t+8>e.length||11!==e[t]||119!==e[t+1])return null;var n=e[t+4]>>6;if(3<=n)return null;var r=63&e[t+4],i=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*r+n];if(t+i>e.length)return null;var a=e[t+6]>>5,o=0;2===a?o+=2:(1&a&&1!==a&&(o+=2),4&a&&(o+=2)),o=(e[t+6]<<8|e[t+7])>>12-o&1;var s=7&e[t+5];return e=new Uint8Array([n<<6|e[t+5]>>3<<1|s>>2,(3&s)<<6|a<<3|o<<2|r>>4,r<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][a]+o,Y:e,M:i}}function Ld(e,t){if(11===e[t]&&119===e[t+1]){var n,r,i=0,a=5;for(t+=a;0<a;){r=e[t];var o=Math.min(a,8),s=8-o;n=(r&(n=4278190080>>>24+s<<s))>>s,i=i?i<<o|n:n,t+=1,a-=o}if(16>i)return!0}return!1}function Nd(e){this.i=e,this.h=0,this.g=new Map}function Od(e,t){if(t+8>e.length||2935!=(e[t]<<8|e[t+1]<<0))return null;var n=new li(e.subarray(t+2));fi(n,2),fi(n,3);var r=di(n,11)+1<<1,i=di(n,2);if(3==i){i=[24e3,22060,16e3][i=di(n,2)];var a=3}else i=[48e3,44100,32e3][i],a=di(n,2);var o=di(n,3),s=di(n,1);return n=di(n,5),t+r>e.byteLength?null:(e=Math.floor(r*i/(16*[1,2,3,6][a])),e=new Uint8Array([(8160&e)>>5,(31&e)<<3,i<<6|n<<1|0,0|o<<1|s<<0,0]),{sampleRate:i,channelCount:[2,1,2,3,3,4,4,5][o]+s,Y:e,M:r})}function Bd(e){this.i=e,this.h=0,this.g=new Map}function Ud(e){for(var t=!1,n=new Uint8Array([]),r=e.find((function(e){return 7==e.type})),i=!1,a=(e=l(e)).next();!a.done;a=e.next()){var o=!1;switch((a=a.value).type){case 1:o=i=!0;var s=a.data;r&&4<s.length&&(2===(s=yi(new li(s)))||4===s||7===s||9===s)&&(t=!0);break;case 5:t=o=i=!0;break;case 6:case 7:case 8:case 12:o=!0;break;case 9:i=o=!0;break;default:o=!1}i&&o&&(o=a.La.byteLength,(s=new Uint8Array(4))[0]=o>>24&255,s[1]=o>>16&255,s[2]=o>>8&255,s[3]=255&o,n=Pi(n,s,a.La))}return n.byteLength?{data:n,ve:t}:null}df(zf),ff.PiPWebkit=id,id.install=ad,df(ad),ff.RandomUUID=hd,hd.install=fd,df(fd),ff.StorageEstimate=pd,pd.install=gd,df(gd),ff.Symbol=vd,vd.install=yd,df(yd),ff.VideoPlayPromise=wd,wd.install=Td,df(Td),ff.VideoPlaybackQuality=Sd,Sd.install=xd,df(xd),ff.VTTCue=Ad,Ad.install=kd,df(kd),(r=Pd.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/aac"==e.toLowerCase().split(";")[0]&&Y(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/aac"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="'+(ft(t)||"mp4a.40.2")+'"':t},r.getOrginalMimeType=function(){return this.i},r.transmux=function(e,t,n,r){for(var i=re(e),a=Ai(i),o=a.length;o<i.length&&!Rd(i,o);o++);if(e=1e3*n.endTime,(a=Ei(a)).length&&n&&(n=a.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(e=n.data),!(n=Md(i,o)))return Promise.reject(new Ye(2,3,3018));for(t.audioSamplingRate=n.sampleRate,t.channelsCount=n.channelCount,a=[];o<i.length;){var s=_d(i,o);if(!s)return Promise.reject(new Ye(2,3,3018));var u=s.Lc+s.M;o+u<=i.length&&a.push({data:i.subarray(o+s.Lc,o+u),size:s.M,duration:1024,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),o+=u}return i=n.sampleRate,e=Math.floor(e*i/1e3),e=new Ac([r={id:t.id,type:"audio",codecs:n.Bc,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,xa:[],Y:new Uint8Array([]),ga:new Uint8Array([]),data:{Ua:this.h,baseMediaDecodeTime:e,wa:a},stream:t}]),this.g.has(t.id)?r=this.g.get(t.id):(r=e.initSegment(),this.g.set(t.id,r)),t=_c(e),this.h++,t=Pi(r,t),Promise.resolve(t)},H("shaka.transmuxer.AacTransmuxer",Pd),Pd.prototype.transmux=Pd.prototype.transmux,Pd.prototype.getOrginalMimeType=Pd.prototype.getOrginalMimeType,Pd.prototype.convertCodecs=Pd.prototype.convertCodecs,Pd.prototype.isSupported=Pd.prototype.isSupported,Pd.prototype.destroy=Pd.prototype.destroy,Ie("audio/aac",(function(){return new Pd("audio/aac")}),Me),(r=Nd.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/ac3"==e.toLowerCase().split(";")[0]&&Y(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/ac3"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="ac-3"':t},r.getOrginalMimeType=function(){return this.i},r.transmux=function(e,t,n,r){for(var i=Ai(e=re(e)),a=i.length;a<e.length&&!Ld(e,a);a++);var o=1e3*n.endTime;(i=Ei(i)).length&&n&&(n=i.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(o=n.data),n=0,i=new Uint8Array([]);for(var s=[];a<e.length;){var u=Dd(e,a);if(!u)return Promise.reject(new Ye(2,3,3018));t.audioSamplingRate=u.sampleRate,t.channelsCount=u.channelCount,n=u.sampleRate,i=u.Y,s.push({data:e.subarray(a,a+u.M),size:u.M,duration:1536,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),a+=u.M}return e=Math.floor(o*n/1e3),e=new Ac([r={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:n,duration:r,xa:[],Y:i,ga:new Uint8Array([]),data:{Ua:this.h,baseMediaDecodeTime:e,wa:s},stream:t}]),this.g.has(t.id)?r=this.g.get(t.id):(r=e.initSegment(),this.g.set(t.id,r)),t=_c(e),this.h++,t=Pi(r,t),Promise.resolve(t)},H("shaka.transmuxer.Ac3Transmuxer",Nd),Nd.prototype.transmux=Nd.prototype.transmux,Nd.prototype.getOrginalMimeType=Nd.prototype.getOrginalMimeType,Nd.prototype.convertCodecs=Nd.prototype.convertCodecs,Nd.prototype.isSupported=Nd.prototype.isSupported,Nd.prototype.destroy=Nd.prototype.destroy,Ie("audio/ac3",(function(){return new Nd("audio/ac3")}),Me),(r=Bd.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/ec3"==e.toLowerCase().split(";")[0]&&Y(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/ec3"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="ec-3"':t},r.getOrginalMimeType=function(){return this.i},r.transmux=function(e,t,n,r){for(var i=Ai(e=re(e)),a=i.length;a<e.length&&2935!=(e[a]<<8|e[a+1]<<0);a++);var o=1e3*n.endTime;(i=Ei(i)).length&&n&&(n=i.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(o=n.data),n=0,i=new Uint8Array([]);for(var s=[];a<e.length;){var u=Od(e,a);if(!u)return Promise.reject(new Ye(2,3,3018));t.audioSamplingRate=u.sampleRate,t.channelsCount=u.channelCount,n=u.sampleRate,i=u.Y,s.push({data:e.subarray(a,a+u.M),size:u.M,duration:1536,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),a+=u.M}return e=Math.floor(o*n/1e3),e=new Ac([r={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:n,duration:r,xa:[],Y:i,ga:new Uint8Array([]),data:{Ua:this.h,baseMediaDecodeTime:e,wa:s},stream:t}]),this.g.has(t.id)?r=this.g.get(t.id):(r=e.initSegment(),this.g.set(t.id,r)),t=_c(e),this.h++,t=Pi(r,t),Promise.resolve(t)},H("shaka.transmuxer.Ec3Transmuxer",Bd),Bd.prototype.transmux=Bd.prototype.transmux,Bd.prototype.getOrginalMimeType=Bd.prototype.getOrginalMimeType,Bd.prototype.convertCodecs=Bd.prototype.convertCodecs,Bd.prototype.isSupported=Bd.prototype.isSupported,Bd.prototype.destroy=Bd.prototype.destroy,Ie("audio/ec3",(function(){return new Bd("audio/ec3")}),Me);var jd=[100,110,122,244,44,83,86,118,128,138,139,134];function Hd(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==a){var o=e[t+3]>>6;i=1e3*Gd[14*(3===n?3-r:3===r?3:4)+i-1],a=Vd[3*(3===n?0:2===n?1:2)+a],n=zd[n][r];var s=Kd[r],u=Math.floor(n*i/a+(e[t+2]>>1&1))*s,c=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(c=c?parseInt(c[1],10):0)&&87>=c&&2===r&&224e3<=i&&0===o&&(e[t+3]|=128),{sampleRate:a,channelCount:3===o?1:2,M:u,ag:8*n*s}}return null}function Fd(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}var Gd=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Vd=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],zd=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Kd=[0,1,1,4];function qd(e){this.i=e,this.h=0,this.g=new Map}function Wd(e){this.h=e,this.g=null}function Xd(e){this.h=e,(this.g=Ps.get("ISOBoxer")())&&function(e){function t(){this._procFullBox(),1&this.flags&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,(function(e){this._procEntryField(e,"InitializationVector","data",8),2&this.flags&&(this._procEntryField(e,"NumberOfEntries","uint",16),this._procSubEntries(e,"clearAndCryptedData",e.NumberOfEntries,(function(e){this._procEntryField(e,"BytesOfClearData","uint",16),this._procEntryField(e,"BytesOfEncryptedData","uint",32)})))}))}e.g.addBoxProcessor("saio",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",1===this.version?64:32)})),e.g.addBoxProcessor("saiz",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),0===this.default_sample_info_size&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)})),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",(function(){for(var e=!0,n=0;16>n;n++)this.usertype[n]!==Jd[n]&&(e=!1);e&&(this._parsing&&(this.type="sepiff"),t.call(this))}))}(this)}function Yd(e,t){for(var n=8,r=0;r<e.boxes.length&&e.boxes[r].type!==t;r++)n+=e.boxes[r].size;return n}(r=qd.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/mpeg"==e.toLowerCase().split(";")[0]&&Y(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/mpeg"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="mp3"':t},r.getOrginalMimeType=function(){return this.i},r.transmux=function(e,t,n,r){for(n=Ai(e=re(e)).length;n<e.length;n++){var i=n;if(i+1<e.length&&Fd(e,i)){var a=Hd(e,i),o=4;a&&a.M&&(o=a.M),i=(i+=o)===e.length||i+1<e.length&&Fd(e,i)}else i=!1;if(i)break}var s;for(i=[];n<e.length;){if(!(a=Hd(e,n)))return Promise.reject(new Ye(2,3,3018));s||(s=a),n+a.M<=e.length&&i.push({data:e.subarray(n,n+a.M),size:a.M,duration:1152,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),n+=a.M}return s?(e=9e4*s.ag/s.sampleRate*this.h,s=new Ac([r={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:s.sampleRate,duration:r,xa:[],Y:new Uint8Array([]),ga:new Uint8Array([]),data:{Ua:this.h,baseMediaDecodeTime:e,wa:i},stream:t}]),this.g.has(t.id)?r=this.g.get(t.id):(r=s.initSegment(),this.g.set(t.id,r)),t=_c(s),this.h++,t=Pi(r,t),Promise.resolve(t)):Promise.reject(new Ye(2,3,3018))},H("shaka.transmuxer.Mp3Transmuxer",qd),qd.prototype.transmux=qd.prototype.transmux,qd.prototype.getOrginalMimeType=qd.prototype.getOrginalMimeType,qd.prototype.convertCodecs=qd.prototype.convertCodecs,qd.prototype.isSupported=qd.prototype.isSupported,qd.prototype.destroy=qd.prototype.destroy,Ie("audio/mpeg",(function(){return new qd("audio/mpeg")}),Me),(r=Wd.prototype).destroy=function(){},r.isSupported=function(e){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var t=ft(e).split(","),n=rt("audio",t);return t=rt("video",t),!(!n||t||"mp3"!=ht(n))&&Y(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?"audio/mpeg":t},r.getOrginalMimeType=function(){return this.h},r.transmux=function(e){this.g?this.g.clearData():this.g=new Di,e=re(e);var t=this.g.parse(e);if("mp3"!=(e=t.md()).audio||e.video)return Promise.reject(new Ye(2,3,3018));e=new Uint8Array([]);for(var n=(t=l(t.jb())).next();!n.done;n=t.next())if(n=n.value.data)for(var r=0;r<n.length;){var i=Hd(n,r);i?(r+i.M<=n.length&&(e=Pi(e,n.subarray(r,r+i.M))),r+=i.M):r++}return Promise.resolve(e)},H("shaka.transmuxer.MpegTsTransmuxer",Wd),Wd.prototype.transmux=Wd.prototype.transmux,Wd.prototype.getOrginalMimeType=Wd.prototype.getOrginalMimeType,Wd.prototype.convertCodecs=Wd.prototype.convertCodecs,Wd.prototype.isSupported=Wd.prototype.isSupported,Wd.prototype.destroy=Wd.prototype.destroy,Ie("video/mp2t",(function(){return new Wd("video/mp2t")}),Re),(r=Xd.prototype).destroy=function(){},r.isSupported=function(e,t){var n=e.startsWith("mss/");return!(!this.g||!n)&&(t?Y(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Y(t)||Y(e)))},r.convertCodecs=function(e,t){return t.replace("mss/","")},r.getOrginalMimeType=function(){return this.h},r.transmux=function(e,t,n){if(!n)return Promise.resolve(re(e));if(!t.mssPrivateData)return Promise.reject(new Ye(2,3,3020));try{var r,i=this.g.parseBuffer(e),a=i.fetch("tfhd");a.track_ID=t.id+1;var o=i.fetch("tfdt"),s=i.fetch("traf");null===o&&((o=this.g.createFullBox("tfdt",s,a)).version=1,o.flags=0,o.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var u=i.fetch("trun"),c=i.fetch("tfxd");c&&c._parent.boxes.splice(c._parent.boxes.indexOf(c),1);var l=i.fetch("tfrf");l&&l._parent.boxes.splice(l._parent.boxes.indexOf(l),1);var h=i.fetch("sepiff");if(null!==h){h.type="senc",h.usertype=void 0;var f=i.fetch("saio");if(null===f){(f=this.g.createFullBox("saio",s)).version=0,f.flags=0,f.entry_count=1,f.offset=[0];var d=this.g.createFullBox("saiz",s);if(d.version=0,d.flags=0,d.sample_count=h.sample_count,d.default_sample_info_size=0,d.sample_info_size=[],2&h.flags)for(r=0;r<h.sample_count;r+=1)d.sample_info_size[r]=10+6*h.entry[r].NumberOfEntries;else d.default_sample_info_size=8}}a.flags&=16777214,a.flags|=131072,u.flags|=1;var p=i.fetch("moof");u.data_offset=p.getLength()+8;var g=i.fetch("saio");null!==g&&(g.offset[0]=Yd(p,"traf")+Yd(s,"senc")+16);var m=re(i.write());return Promise.resolve(m)}catch(v){return v instanceof Ye?Promise.reject(v):Promise.reject(new Ye(2,3,3022))}},H("shaka.transmuxer.MssTransmuxer",Xd),Xd.prototype.transmux=Xd.prototype.transmux,Xd.prototype.getOrginalMimeType=Xd.prototype.getOrginalMimeType,Xd.prototype.convertCodecs=Xd.prototype.convertCodecs,Xd.prototype.isSupported=Xd.prototype.isSupported,Xd.prototype.destroy=Xd.prototype.destroy;var Jd=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);function Zd(e){var t=this;this.m=e,this.j=Ps.get("muxjs")(),this.h=this.g=null,this.l=[],this.i=!1,this.j&&(this.g=new this.j.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.g.on("data",(function(e){t.l.push(Pi(e.initSegment,e.data))})),this.g.on("done",(function(){var e=Pi.apply(ki,h(t.l));t.h.resolve(e),t.i=!1})))}function $d(e,t){if(t=t.replace(/mp2t/i,"mp4"),"audio"==e&&(t=t.replace("video","audio")),e=/avc1\.(66|77|100)\.(\d+)/.exec(t)){var n="avc1.",r=e[1],i=Number(e[2]);n=("66"==r?n+"4200":"77"==r?n+"4d00":n+"6400")+(i>>4).toString(16),n+=(15&i).toString(16),t=t.replace(e[0],n)}return t}function Qd(e){this.j=e,this.g=0,this.h=new Map,this.i=null}Ie("mss/audio/mp4",(function(){return new Xd("mss/audio/mp4")}),Me),Ie("mss/video/mp4",(function(){return new Xd("mss/video/mp4")}),Me),(r=Zd.prototype).destroy=function(){this.g&&this.g.dispose(),this.g=null},r.isSupported=function(e,t){var n="mp2t"==e.toLowerCase().split(";")[0].split("/")[1];return!(!this.j||!n)&&(t?Y($d(t,e)):(t=$d("audio",e),e=$d("video",e),Y(t)||Y(e)))},r.convertCodecs=function(e,t){return"mp2t"==t.toLowerCase().split(";")[0].split("/")[1]?$d(e,t):t},r.getOrginalMimeType=function(){return this.m},r.transmux=function(e){return this.i=!0,this.h=new pa,this.l=[],e=re(e),this.g.push(e),this.g.flush(),this.i&&this.h.reject(new Ye(2,3,3018)),this.h},H("shaka.transmuxer.MuxjsTransmuxer",Zd),Zd.prototype.transmux=Zd.prototype.transmux,Zd.prototype.getOrginalMimeType=Zd.prototype.getOrginalMimeType,Zd.prototype.convertCodecs=Zd.prototype.convertCodecs,Zd.prototype.isSupported=Zd.prototype.isSupported,Zd.prototype.destroy=Zd.prototype.destroy,Ie("video/mp2t",(function(){return new Zd("video/mp2t")}),Me),(r=Qd.prototype).destroy=function(){this.h.clear()},r.isSupported=function(e,t){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var n=ft(e).split(","),r=rt("audio",n);return n=rt("video",n),!(r&&n||r&&(r=ht(r),!np.includes(r))||n&&(r=ht(n),!rp.includes(r)))&&(t?Y(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Y(t)||Y(e)))},r.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?(t=ft(t).replace("mp4a.40.34","mp3"),"audio"==e?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},r.getOrginalMimeType=function(){return this.j},r.transmux=function(e,t,n,r,i){this.i?this.i.clearData():this.i=new Di,e=re(e);var a=this.i.parse(e);e=[];var o=a.md();try{if(n=null,"video"==i){if("avc"===o.video){for(var s=[],u=null,c=[],f=a.Jc(),d=0;d<f.length;d++){var p=f[d],g=void 0;d+1<f.length&&(g=f[d+1]);var m=a.Nd(p,g);c=c.concat(m);var v=Ud(m);v&&(null==u&&(u=p.dts),g=void 0,g=d+1<f.length?(f[d+1].dts||0)-(p.dts||0):(p.dts||0)-(f[d-1].dts||0),s.push({data:v.data,size:v.data.byteLength,duration:g,Ja:Math.round((p.pts||0)-(p.dts||0)),flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:v.ve?2:1,Qa:v.ve?0:1}}))}var y=function(e){if(!e.length)return null;var t=e.find((function(e){return 7==e.type}));if(e=e.find((function(e){return 8==e.type})),!t||!e)return null;var n=new li(t.data),r=di(n,8);if(di(n,8),di(n,8),gi(n),jd.includes(r)&&(3===(r=mi(n))&&fi(n,1),gi(n),gi(n),fi(n,1),1===di(n,1))){r=3!==r?8:12;for(var i=0;i<r;i++)1===di(n,1)&&vi(n,6>i?16:64)}if(gi(n),0===(r=mi(n)))mi(n);else if(1===r)for(fi(n,1),gi(n),gi(n),r=mi(n),i=0;i<r;i++)gi(n);gi(n),fi(n,1),r=mi(n);var a=mi(n),o=di(n,1);0===o&&fi(n,1),fi(n,1);var s=i=0,u=0,c=0;return 1===di(n,1)&&(i=mi(n),s=mi(n),u=mi(n),c=mi(n)),n=(2-o)*(a+1)*16-2*u-2*c,r=16*(r+1)-2*i-2*s,i=[],t=t.La,i.push(t.byteLength>>>8&255),i.push(255&t.byteLength),i=i.concat.apply(i,h(t)),t=[],e=e.La,t.push(e.byteLength>>>8&255),t.push(255&e.byteLength),t=t.concat.apply(t,h(e)),{height:n,width:r,ga:e=new Uint8Array([1,i[3],i[4],i[5],255,225].concat(i,[1],t))}}(c);if(!y||null==u)throw new Ye(2,3,3018);t.height=y.height,t.width=y.width,n={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,xa:[],Y:new Uint8Array([]),ga:y.ga,data:{Ua:this.g,baseMediaDecodeTime:u,wa:s},stream:t}}n&&(e.push(n),n=null)}if("audio"==i){switch(o.audio){case"aac":for(var b,w=[],T=null,S=l(a.jb()),x=S.next();!x.done;x=S.next()){var E=x.value,A=E.data;if(A){if(!(b=Md(A,a=0)))throw new Ye(2,3,3018);for(t.audioSamplingRate=b.sampleRate,t.channelsCount=b.channelCount,null==T&&null!==E.pts&&(T=E.pts);a<A.length;){var k=_d(A,a);if(k){var I=k.Lc+k.M;a+I<=A.length&&w.push({data:A.subarray(a+k.Lc,a+I),size:k.M,duration:1024,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),a+=I}else a++}}}if(!b||null==T)throw new Ye(2,3,3018);var C=b.sampleRate;a=T/9e4*C,n={id:t.id,type:"audio",codecs:b.Bc,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:C,duration:r,xa:[],Y:new Uint8Array([]),ga:new Uint8Array([]),data:{Ua:this.g,baseMediaDecodeTime:a,wa:w},stream:t};break;case"ac3":T=[],b=0,w=new Uint8Array([]),C=null;for(var _=l(a.jb()),M=_.next();!M.done;M=_.next()){var R=M.value,P=R.data;for(null==C&&null!==R.pts&&(C=R.pts),a=0;a<P.length;){var D=Dd(P,a);D?(t.audioSamplingRate=D.sampleRate,t.channelsCount=D.channelCount,b=D.sampleRate,w=D.Y,T.push({data:P.subarray(a,a+D.M),size:D.M,duration:1536,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),a+=D.M):a++}}if(0==b||0==w.byteLength||null==C)throw new Ye(2,3,3018);a=C/9e4*b,n={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:b,duration:r,xa:[],Y:w,ga:new Uint8Array([]),data:{Ua:this.g,baseMediaDecodeTime:a,wa:T},stream:t};break;case"ec3":w=[],b=0,T=new Uint8Array([]),C=null;for(var L=l(a.jb()),N=L.next();!N.done;N=L.next()){var O=N.value,B=O.data;for(null==C&&null!==O.pts&&(C=O.pts),a=0;a<B.length;){var U=Od(B,a);U?(t.audioSamplingRate=U.sampleRate,t.channelsCount=U.channelCount,b=U.sampleRate,T=U.Y,w.push({data:B.subarray(a,a+U.M),size:U.M,duration:1536,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),a+=U.M):a++}}if(0==b||0==T.byteLength||null==C)throw new Ye(2,3,3018);a=C/9e4*b,n={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:b,duration:r,xa:[],Y:T,ga:new Uint8Array([]),data:{Ua:this.g,baseMediaDecodeTime:a,wa:w},stream:t};break;case"mp3":var j;w=[],T=null;for(var H=l(a.jb()),F=H.next();!F.done;F=H.next()){var G=F.value,V=G.data;if(V)for(null==T&&null!==G.pts&&(T=G.pts),a=0;a<V.length;){var z=Hd(V,a);z?(j||(j=z),a+z.M<=V.length&&w.push({data:V.subarray(a,a+z.M),size:z.M,duration:1152,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),a+=z.M):a++}}if(!j||null==T)throw new Ye(2,3,3018);var K=j.sampleRate;a=T/9e4*K,n={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:K,duration:r,xa:[],Y:new Uint8Array([]),ga:new Uint8Array([]),data:{Ua:this.g,baseMediaDecodeTime:a,wa:w},stream:t}}n&&e.push(n)}}catch(q){return Promise.reject(q)}return e.length?(e=new Ac(e),this.h.has(t.id)?r=this.h.get(t.id):(r=e.initSegment(),this.h.set(t.id,r)),t=_c(e),this.g++,t=Pi(r,t),Promise.resolve(t)):Promise.reject(new Ye(2,3,3018))},H("shaka.transmuxer.TsTransmuxer",Qd),Qd.prototype.transmux=Qd.prototype.transmux,Qd.prototype.getOrginalMimeType=Qd.prototype.getOrginalMimeType,Qd.prototype.convertCodecs=Qd.prototype.convertCodecs,Qd.prototype.isSupported=Qd.prototype.isSupported,Qd.prototype.destroy=Qd.prototype.destroy;var ep,tp,np=["aac","ac-3","ec-3","mp3"],rp=["avc"];function ip(){}function ap(){ep?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(ep=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=op):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function op(e,t){var n,r=this;return P((function(i){return 1==i.g?(console.assert(r==navigator,'bad "this" for requestMediaKeySystemAccess'),T(i,ep.call(r,e,t),2)):mp(n=i.h)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=ep,i.return(n)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=sp,i.return(sp.call(r,e,t)))}))}function sp(e,t){var n,r,i,a,o,s,u,c,h,f,d=this;return P((function(p){if(1==p.g){for(console.assert(d==navigator,'bad "this" for requestMediaKeySystemAccess'),n=gp(e),r=[],i=l(t),a=i.next();!a.done;a=i.next())o=a.value,s=up(o.videoCapabilities,n),u=up(o.audioCapabilities,n),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!u.length||((c=Object.assign({},o)).videoCapabilities=s,c.audioCapabilities=u,r.push(c));if(!r.length)throw(h=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",h.code=DOMException.NOT_SUPPORTED_ERR,h;return T(p,ep.call(d,e,r),2)}return f=p.h,p.return(new pp(f,n))}))}function up(e,t){return e?e.filter((function(e){return!e.encryptionScheme||e.encryptionScheme==t})):e}function cp(){}function lp(){tp?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(tp=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=hp):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function hp(e){var t,n,r,i=this;return P((function(a){switch(a.g){case 1:return console.assert(i==navigator.mediaCapabilities,'bad "this" for decodingInfo'),T(a,tp.call(i,e),2);case 2:if(t=a.h,!e.keySystemConfiguration)return a.return(t);if((n=t.keySystemAccess)&&mp(n))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=tp,a.return(t);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=fp,n){a.B(3);break}return r=t,T(a,dp(e),4);case 4:return r.keySystemAccess=a.h,a.return(t);case 3:return a.return(fp.call(i,e))}}))}function fp(e){var t,n,r,i,a,o,s,u,c=this;return P((function(l){switch(l.g){case 1:return console.assert(c==navigator.mediaCapabilities,'bad "this" for decodingInfo'),t=null,e.keySystemConfiguration&&(n=e.keySystemConfiguration,r=n.keySystem,i=n.audio&&n.audio.encryptionScheme,a=n.video&&n.video.encryptionScheme,t=gp(r),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},i&&i!=t||a&&a!=t)?l.return(o):T(l,tp.call(c,e),2);case 2:if((s=l.h).keySystemAccess){s.keySystemAccess=new pp(s.keySystemAccess,t),l.B(3);break}if(!e.keySystemConfiguration){l.B(3);break}return u=s,T(l,dp(e),5);case 5:u.keySystemAccess=l.h;case 3:return l.return(s)}}))}function dp(e){var t,n;return P((function(r){if(1==r.g){var i=e.keySystemConfiguration,a=[],o=[];return i.audio&&a.push({robustness:i.audio.robustness||"",contentType:e.audio.contentType}),i.video&&o.push({robustness:i.video.robustness||"",contentType:e.video.contentType}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},a.length&&(i.audioCapabilities=a),o.length&&(i.videoCapabilities=o),t=i,T(r,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=r.h,r.return(n)}))}function pp(e,t){this.h=e,this.g=t,this.keySystem=e.keySystem}function gp(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function mp(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}function vp(){}function yp(){ap(),lp()}Ie("video/mp2t",(function(){return new Qd("video/mp2t")}),Pe),H("EmeEncryptionSchemePolyfill",ip),ip.install=ap,H("McEncryptionSchemePolyfill",cp),cp.install=lp,pp.prototype.getConfiguration=function(){var e=this.h.getConfiguration();if(e.videoCapabilities)for(var t=l(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.g;if(e.audioCapabilities)for(n=(t=l(e.audioCapabilities)).next();!n.done;n=t.next())n.value.encryptionScheme=this.g;return e},pp.prototype.createMediaKeys=function(){return this.h.createMediaKeys()},H("EncryptionSchemePolyfills",vp),vp.install=yp,void 0!==n&&n.exports&&(n.exports=vp)}.call(r,e,e,void 0),r.shaka)t[i]=r.shaka[i]}()},95957:(e,t,n)=>{"use strict";function r(e,t){var n=t&&t.cache?t.cache:l,r=t&&t.serializer?t.serializer:u;return(t&&t.strategy?t.strategy:s)(e,{cache:n,serializer:r})}function i(e,t,n,r){var i,a=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),o=t.get(a);return void 0===o&&(o=e.call(this,r),t.set(a,o)),o}function a(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),a=t.get(i);return void 0===a&&(a=e.apply(this,r),t.set(i,a)),a}function o(e,t,n,r,i){return n.bind(t,e,r,i)}function s(e,t){return o(e,this,1===e.length?i:a,t.cache.create(),t.serializer)}n.d(t,{A:()=>h,H:()=>r});var u=function(){return JSON.stringify(arguments)};function c(){this.cache=Object.create(null)}c.prototype.get=function(e){return this.cache[e]},c.prototype.set=function(e,t){this.cache[e]=t};var l={create:function(){return new c}},h={variadic:function(e,t){return o(e,this,a,t.cache.create(),t.serializer)},monadic:function(e,t){return o(e,this,i,t.cache.create(),t.serializer)}}},92271:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(591526);function i(e,t){for(var n="",r=0;r<e.length;r++){var i=e.charAt(r);if("j"===i){for(var o=0;r+1<e.length&&e.charAt(r+1)===i;)o++,r++;var s=1+(1&o),u=o<2?1:3+(o>>1),c=a(t);for("H"!=c&&"k"!=c||(u=0);u-- >0;)n+="a";for(;s-- >0;)n=c+n}else n+="J"===i?"H":i}return n}function a(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,i=e.language;return"root"!==i&&(n=e.maximize().region),(r._[n||""]||r._[i||""]||r._["".concat(i,"-001")]||r._["001"])[0]}},219493:(e,t,n)=>{"use strict";var r;n.d(t,{o:()=>r}),function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(r||(r={}))},979263:(e,t,n)=>{"use strict";n.d(t,{HI:()=>o.HI,Ii:()=>o.Ii,Jo:()=>o.Jo,O4:()=>o.O4,Qc:()=>u,VG:()=>o.VG,Wh:()=>o.Wh,Wi:()=>o.Wi,pe:()=>o.pe,rp:()=>o.rp,uf:()=>o.uf,yx:()=>o.yx});var r=n(197582),i=n(219493),a=n(355891),o=n(85047);function s(e){e.forEach((function(e){if(delete e.location,(0,o.Wi)(e)||(0,o.Jo)(e))for(var t in e.options)delete e.options[t].location,s(e.options[t].value);else(0,o.uf)(e)&&(0,o.Wh)(e.style)||((0,o.rp)(e)||(0,o.pe)(e))&&(0,o.Ii)(e.style)?delete e.style.location:(0,o.HI)(e)&&s(e.children)}))}function u(e,t){void 0===t&&(t={}),t=(0,r.pi)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new a._(e,t).parse();if(n.err){var o=SyntaxError(i.o[n.err.kind]);throw o.location=n.err.location,o.originalMessage=n.err.message,o}return(null==t?void 0:t.captureLocation)||s(n.val),n.val}a._},355891:(e,t,n)=>{"use strict";n.d(t,{_:()=>R});var r,i=n(197582),a=n(219493),o=n(85047),s=n(838580),u=n(265178),c=n(64477),l=n(92271),h=new RegExp("^".concat(s.p.source,"*")),f=new RegExp("".concat(s.p.source,"*$"));function d(e,t){return{start:e,end:t}}var p=!!String.prototype.startsWith&&"_a".startsWith("a",1),g=!!String.fromCodePoint,m=!!Object.fromEntries,v=!!String.prototype.codePointAt,y=!!String.prototype.trimStart,b=!!String.prototype.trimEnd,w=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},T=!0;try{T="a"===(null===(r=_("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===r?void 0:r[0])}catch(N){T=!1}var S,x=p?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},E=g?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",i=e.length,a=0;i>a;){if((n=e[a++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},A=m?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n],a=i[0],o=i[1];t[a]=o}return t},k=v?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,i=e.charCodeAt(t);return i<55296||i>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?i:r-56320+(i-55296<<10)+65536}},I=y?function(e){return e.trimStart()}:function(e){return e.replace(h,"")},C=b?function(e){return e.trimEnd()}:function(e){return e.replace(f,"")};function _(e,t){return new RegExp(e,t)}if(T){var M=_("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");S=function(e,t){var n;return M.lastIndex=t,null!==(n=M.exec(e)[1])&&void 0!==n?n:""}}else S=function(e,t){for(var n=[];;){var r=k(e,t);if(void 0===r||D(r)||L(r))break;n.push(r),t+=r>=65536?2:1}return E.apply(void 0,n)};var R=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var i=this.char();if(123===i){if((s=this.parseArgument(e,n)).err)return s;r.push(s.val)}else{if(125===i&&e>0)break;if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(a.o.UNMATCHED_CLOSING_TAG,d(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&P(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;r.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;r.push(s.val)}}else{var u=this.clonePosition();this.bump(),r.push({type:o.wD.pound,location:d(u,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:o.wD.literal,value:"<".concat(r,"/>"),location:d(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var s=i.val,u=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!P(this.char()))return this.error(a.o.INVALID_TAG,d(u,this.clonePosition()));var c=this.clonePosition();return r!==this.parseTagName()?this.error(a.o.UNMATCHED_CLOSING_TAG,d(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:o.wD.tag,value:r,children:s,location:d(n,this.clonePosition())},err:null}:this.error(a.o.INVALID_TAG,d(u,this.clonePosition())))}return this.error(a.o.UNCLOSED_TAG,d(n,this.clonePosition()))}return this.error(a.o.INVALID_TAG,d(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var i=this.tryParseQuote(t);if(i)r+=i;else{var a=this.tryParseUnquoted(e,t);if(a)r+=a;else{var s=this.tryParseLeftAngleBracket();if(!s)break;r+=s}}}var u=d(n,this.clonePosition());return{val:{type:o.wD.literal,value:r,location:u},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(P(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return E.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),E(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(a.o.EXPECT_ARGUMENT_CLOSING_BRACE,d(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(a.o.EMPTY_ARGUMENT,d(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(a.o.MALFORMED_ARGUMENT,d(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(a.o.EXPECT_ARGUMENT_CLOSING_BRACE,d(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:o.wD.argument,value:r,location:d(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(a.o.EXPECT_ARGUMENT_CLOSING_BRACE,d(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(a.o.MALFORMED_ARGUMENT,d(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=S(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:d(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var s,c=this.clonePosition(),h=this.parseIdentifierIfPossible().value,f=this.clonePosition();switch(h){case"":return this.error(a.o.EXPECT_ARGUMENT_TYPE,d(c,f));case"number":case"date":case"time":this.bumpSpace();var p=null;if(this.bumpIf(",")){this.bumpSpace();var g=this.clonePosition();if((E=this.parseSimpleArgStyleIfPossible()).err)return E;if(0===(b=C(E.val)).length)return this.error(a.o.EXPECT_ARGUMENT_STYLE,d(this.clonePosition(),this.clonePosition()));p={style:b,styleLocation:d(g,this.clonePosition())}}if((k=this.tryParseArgumentClose(r)).err)return k;var m=d(r,this.clonePosition());if(p&&x(null==p?void 0:p.style,"::",0)){var v=I(p.style.slice(2));if("number"===h)return(E=this.parseNumberSkeletonFromString(v,p.styleLocation)).err?E:{val:{type:o.wD.number,value:n,location:m,style:E.val},err:null};if(0===v.length)return this.error(a.o.EXPECT_DATE_TIME_SKELETON,m);var y=v;this.locale&&(y=(0,l.T)(v,this.locale));var b={type:o.aV.dateTime,pattern:y,location:p.styleLocation,parsedOptions:this.shouldParseSkeletons?(0,u.T)(y):{}};return{val:{type:"date"===h?o.wD.date:o.wD.time,value:n,location:m,style:b},err:null}}return{val:{type:"number"===h?o.wD.number:"date"===h?o.wD.date:o.wD.time,value:n,location:m,style:null!==(s=null==p?void 0:p.style)&&void 0!==s?s:null},err:null};case"plural":case"selectordinal":case"select":var w=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(a.o.EXPECT_SELECT_ARGUMENT_OPTIONS,d(w,(0,i.pi)({},w)));this.bumpSpace();var T=this.parseIdentifierIfPossible(),S=0;if("select"!==h&&"offset"===T.value){if(!this.bumpIf(":"))return this.error(a.o.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,d(this.clonePosition(),this.clonePosition()));var E;if(this.bumpSpace(),(E=this.tryParseDecimalInteger(a.o.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,a.o.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return E;this.bumpSpace(),T=this.parseIdentifierIfPossible(),S=E.val}var k,_=this.tryParsePluralOrSelectOptions(e,h,t,T);if(_.err)return _;if((k=this.tryParseArgumentClose(r)).err)return k;var M=d(r,this.clonePosition());return"select"===h?{val:{type:o.wD.select,value:n,options:A(_.val),location:M},err:null}:{val:{type:o.wD.plural,value:n,options:A(_.val),offset:S,pluralType:"plural"===h?"cardinal":"ordinal",location:M},err:null};default:return this.error(a.o.INVALID_ARGUMENT_TYPE,d(c,f))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(a.o.EXPECT_ARGUMENT_CLOSING_BRACE,d(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(a.o.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,d(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=(0,c.O)(e)}catch(r){return this.error(a.o.INVALID_NUMBER_SKELETON,t)}return{val:{type:o.aV.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?(0,c.I)(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var i,o=!1,s=[],u=new Set,c=r.value,l=r.location;;){if(0===c.length){var h=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var f=this.tryParseDecimalInteger(a.o.EXPECT_PLURAL_ARGUMENT_SELECTOR,a.o.INVALID_PLURAL_ARGUMENT_SELECTOR);if(f.err)return f;l=d(h,this.clonePosition()),c=this.message.slice(h.offset,this.offset())}if(u.has(c))return this.error("select"===t?a.o.DUPLICATE_SELECT_ARGUMENT_SELECTOR:a.o.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===c&&(o=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?a.o.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:a.o.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,d(this.clonePosition(),this.clonePosition()));var g=this.parseMessage(e+1,t,n);if(g.err)return g;var m=this.tryParseArgumentClose(p);if(m.err)return m;s.push([c,{value:g.val,location:d(p,this.clonePosition())}]),u.add(c),this.bumpSpace(),c=(i=this.parseIdentifierIfPossible()).value,l=i.location}return 0===s.length?this.error("select"===t?a.o.EXPECT_SELECT_ARGUMENT_SELECTOR:a.o.EXPECT_PLURAL_ARGUMENT_SELECTOR,d(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(a.o.MISSING_OTHER_CLAUSE,d(this.clonePosition(),this.clonePosition())):{val:s,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,a=0;!this.isEOF();){var o=this.char();if(!(o>=48&&o<=57))break;i=!0,a=10*a+(o-48),this.bump()}var s=d(r,this.clonePosition());return i?w(a*=n)?{val:a,err:null}:this.error(t,s):this.error(e,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=k(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(x(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&D(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function P(e){return e>=97&&e<=122||e>=65&&e<=90}function D(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function L(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}},838580:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var r=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},591526:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var r={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]}},85047:(e,t,n)=>{"use strict";var r,i;function a(e){return e.type===r.literal}function o(e){return e.type===r.argument}function s(e){return e.type===r.number}function u(e){return e.type===r.date}function c(e){return e.type===r.time}function l(e){return e.type===r.select}function h(e){return e.type===r.plural}function f(e){return e.type===r.pound}function d(e){return e.type===r.tag}function p(e){return!(!e||"object"!=typeof e||e.type!==i.number)}function g(e){return!(!e||"object"!=typeof e||e.type!==i.dateTime)}n.d(t,{HI:()=>d,Ii:()=>g,Jo:()=>h,O4:()=>a,VG:()=>o,Wh:()=>p,Wi:()=>l,aV:()=>i,pe:()=>c,rp:()=>u,uf:()=>s,wD:()=>r,yx:()=>f}),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(r||(r={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(i||(i={}))},265178:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function i(e){var t={};return e.replace(r,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}},64477:(e,t,n)=>{"use strict";n.d(t,{I:()=>p,O:()=>a});var r=n(197582),i=n(444455);function a(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(i.r).filter((function(e){return e.length>0}));n<r.length;n++){var a=r[n].split("/");if(0===a.length)throw new Error("Invalid number skeleton");for(var o=a[0],s=a.slice(1),u=0,c=s;u<c.length;u++){if(0===c[u].length)throw new Error("Invalid number skeleton")}t.push({stem:o,options:s})}return t}var o=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,s=/^(@+)?(\+|#+)?[rs]?$/g,u=/(\*)(0+)|(#+)(0+)|(0+)/g,c=/^(0+)$/;function l(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(s,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function h(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function f(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!c.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function d(e){var t=h(e);return t||{}}function p(e){for(var t={},n=0,i=e;n<i.length;n++){var a=i[n];switch(a.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=a.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=a.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=(0,r.pi)((0,r.pi)((0,r.pi)({},t),{notation:"scientific"}),a.options.reduce((function(e,t){return(0,r.pi)((0,r.pi)({},e),d(t))}),{}));continue;case"engineering":t=(0,r.pi)((0,r.pi)((0,r.pi)({},t),{notation:"engineering"}),a.options.reduce((function(e,t){return(0,r.pi)((0,r.pi)({},e),d(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(a.options[0]);continue;case"integer-width":if(a.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");a.options[0].replace(u,(function(e,n,r,i,a,o){if(n)t.minimumIntegerDigits=r.length;else{if(i&&a)throw new Error("We currently do not support maximum integer digits");if(o)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(c.test(a.stem))t.minimumIntegerDigits=a.stem.length;else if(o.test(a.stem)){if(a.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");a.stem.replace(o,(function(e,n,r,i,a,o){return"*"===r?t.minimumFractionDigits=n.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:a&&o?(t.minimumFractionDigits=a.length,t.maximumFractionDigits=a.length+o.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var p=a.options[0];"w"===p?t=(0,r.pi)((0,r.pi)({},t),{trailingZeroDisplay:"stripIfInteger"}):p&&(t=(0,r.pi)((0,r.pi)({},t),l(p)))}else if(s.test(a.stem))t=(0,r.pi)((0,r.pi)({},t),l(a.stem));else{var g=h(a.stem);g&&(t=(0,r.pi)((0,r.pi)({},t),g));var m=f(a.stem);m&&(t=(0,r.pi)((0,r.pi)({},t),m))}}return t}},444455:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});var r=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i},353610:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(712343);class i{constructor(){i.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=i.id}setupOnce(e,t){const n=e=>{const n=t().getIntegration(i);if(n){try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!o(e,t))return!1;if(!a(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=s(t),r=s(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!o(e,t))return!1;if(!a(e,t))return!1;return!0}(e,t))return!0;return!1}(e,n._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(u){return n._previousEvent=e}return n._previousEvent=e}return e};n.id=this.name,e(n)}}function a(e,t){let n=u(e),r=u(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const e=r[i],t=n[i];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function o(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function s(e){return e.exception&&e.exception.values&&e.exception.values[0]}function u(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}i.__initStatic()},812699:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var r=n(567597),i=n(90322),a=n(320535),o=n(712343);class s{static __initStatic(){this.id="ExtraErrorData"}__init(){this.name=s.id}constructor(e){s.prototype.__init.call(this),this._options={depth:3,...e}}setupOnce(e,t){e(((e,n)=>{const r=t().getIntegration(s);return r?r.enhanceEventWithErrorData(e,n):e}))}enhanceEventWithErrorData(e,t={}){if(!t.originalException||!(0,r.VZ)(t.originalException))return e;const n=t.originalException.name||t.originalException.constructor.name,o=this._extractErrorData(t.originalException);if(o){const t={...e.contexts},s=(0,i.Fv)(o,this._options.depth);return(0,r.PO)(s)&&((0,a.xp)(s,"__sentry_skip_normalization__",!0),t[n]=s),{...e,contexts:t}}return e}_extractErrorData(e){try{const t=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],n={};for(const i of Object.keys(e)){if(-1!==t.indexOf(i))continue;const a=e[i];n[i]=(0,r.VZ)(a)?a.toString():a}if("function"==typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const i=t[e];n[e]=(0,r.VZ)(i)?i.toString():i}}return n}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.error("Unable to extract extra data from the Error object:",t)}return null}}s.__initStatic()},464517:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=n(210839);class i{static __initStatic(){this.id="RewriteFrames"}__init(){this.name=i.id}__init2(){this._prefix="app:///"}constructor(e={}){i.prototype.__init.call(this),i.prototype.__init2.call(this),i.prototype.__init3.call(this),e.root&&(this._root=e.root),e.prefix&&(this._prefix=e.prefix),e.iteratee&&(this._iteratee=e.iteratee)}setupOnce(e,t){e((e=>{const n=t().getIntegration(i);return n?n.process(e):e}))}process(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=this._processExceptionsEvent(t)),t}__init3(){this._iteratee=e=>{if(!e.filename)return e;const t=/^[A-Z]:\\/.test(e.filename),n=/^\//.test(e.filename);if(t||n){const n=t?e.filename.replace(/^[A-Z]:/,"").replace(/\\/g,"/"):e.filename,i=this._root?(0,r.Gf)(this._root,n):(0,r.EZ)(n);e.filename=`${this._prefix}${i}`}return e}}_processExceptionsEvent(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map((e=>({...e,...e.stacktrace&&{stacktrace:this._processStacktrace(e.stacktrace)}})))}}}catch(t){return e}}_processStacktrace(e){return{...e,frames:e&&e.frames&&e.frames.map((e=>this._iteratee(e)))}}}i.__initStatic()},858464:(e,t,n)=>{"use strict";n.d(t,{Rt:()=>i});var r=n(567597);n(971235).n2;function i(e,t){try{let n=e;const r=5,i=80,o=[];let s=0,u=0;const c=" > ",l=c.length;let h;for(;n&&s++<r&&(h=a(n,t),!("html"===h||s>1&&u+o.length*l+h.length>=i));)o.push(h),u+=h.length,n=n.parentNode;return o.reverse().join(c)}catch(n){return"<unknown>"}}function a(e,t){const n=e,i=[];let a,o,s,u,c;if(!n||!n.tagName)return"";i.push(n.tagName.toLowerCase());const l=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(l&&l.length)l.forEach((e=>{i.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&i.push(`#${n.id}`),a=n.className,a&&(0,r.HD)(a))for(o=a.split(/\s+/),c=0;c<o.length;c++)i.push(`.${o[c]}`);const h=["type","name","title","alt"];for(c=0;c<h.length;c++)s=h[c],u=n.getAttribute(s),u&&i.push(`[${s}="${u}"]`);return i.join("")}},164307:(e,t,n)=>{"use strict";function r(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],a=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=a(n)):"call"!==i&&"optionalCall"!==i||(n=a(((...e)=>n.call(t,...e))),t=void 0)}return n}n.d(t,{x:()=>r})},567597:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>f,HD:()=>o,Kj:()=>h,PO:()=>u,V9:()=>p,VZ:()=>i,cO:()=>c,i2:()=>d,kK:()=>l,pt:()=>s});const r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return p(e,Error)}}function a(e,t){return r.call(e)===`[object ${t}]`}function o(e){return a(e,"String")}function s(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function u(e){return a(e,"Object")}function c(e){return"undefined"!=typeof Event&&p(e,Event)}function l(e){return"undefined"!=typeof Element&&p(e,Element)}function h(e){return a(e,"RegExp")}function f(e){return u(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function d(e){return"number"==typeof e&&e!=e}function p(e,t){try{return e instanceof t}catch(n){return!1}}},712343:(e,t,n)=>{"use strict";n.d(t,{kg:()=>o});var r=n(971235);const i=["debug","info","warn","error","log","assert","trace"];function a(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?i.forEach((n=>{t[n]=(...t)=>{e&&function(e){if(!("console"in r.n2))return e();const t=r.n2.console,n={};i.forEach((e=>{const r=t[e]&&t[e].__sentry_original__;e in t&&r&&(n[e]=t[e],t[e]=r)}));try{return e()}finally{Object.keys(n).forEach((e=>{t[e]=n[e]}))}}((()=>{r.n2.console[n](`Sentry Logger [${n}]:`,...t)}))}})):i.forEach((e=>{t[e]=()=>{}})),t}let o;o="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,r.YO)("logger",a):a()},732004:(e,t,n)=>{"use strict";function r(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++){if(t[e]===n)return!0}return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}n.d(t,{i:()=>r})},90322:(e,t,n)=>{"use strict";n.d(t,{Fv:()=>s});var r=n(567597),i=n(732004),a=n(320535),o=n(130360);function s(e,t=1/0,n=1/0){try{return u("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function u(e,t,s=1/0,c=1/0,l=(0,i.i)()){const[h,f]=l;if(null===t||["number","boolean","string"].includes(typeof t)&&!(0,r.i2)(t))return t;const d=function(e,t){try{return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==n.g&&t===n.g?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":(0,r.Cy)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${(0,o.$P)(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(i){return`**non-serializable** (${i})`}}(e,t);if(!d.startsWith("[object "))return d;if(t.__sentry_skip_normalization__)return t;if(0===s)return d.replace("object ","");if(h(t))return"[Circular ~]";const p=t;if(p&&"function"==typeof p.toJSON)try{return u("",p.toJSON(),s-1,c,l)}catch(y){}const g=Array.isArray(t)?[]:{};let m=0;const v=(0,a.Sh)(t);for(const n in v){if(!Object.prototype.hasOwnProperty.call(v,n))continue;if(m>=c){g[n]="[MaxProperties ~]";break}const e=v[n];g[n]=u(n,e,s-1,c,l),m+=1}return f(t),g}},320535:(e,t,n)=>{"use strict";n.d(t,{Sh:()=>o,xp:()=>a});var r=n(858464),i=n(567597);n(857321);function a(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function o(e){if((0,i.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...u(e)};if((0,i.cO)(e)){const t={type:e.type,target:s(e.target),currentTarget:s(e.currentTarget),...u(e)};return"undefined"!=typeof CustomEvent&&(0,i.V9)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function s(e){try{return(0,i.kK)(e)?(0,r.Rt)(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function u(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}},210839:(e,t,n)=>{"use strict";function r(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const t=e[r];"."===t?e.splice(r,1):".."===t?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}n.d(t,{EZ:()=>c,Gf:()=>u});const i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function a(e){const t=i.exec(e);return t?t.slice(1):[]}function o(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const i=r>=0?e[r]:"/";i&&(t=`${i}/${t}`,n="/"===i.charAt(0))}return t=r(t.split("/").filter((e=>!!e)),!n).join("/"),(n?"/":"")+t||"."}function s(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function u(e,t){e=o(e).substr(1),t=o(t).substr(1);const n=s(e.split("/")),r=s(t.split("/")),i=Math.min(n.length,r.length);let a=i;for(let o=0;o<i;o++)if(n[o]!==r[o]){a=o;break}let u=[];for(let o=a;o<n.length;o++)u.push("..");return u=u.concat(r.slice(a)),u.join("/")}function c(e,t){let n=a(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}},130360:(e,t,n)=>{"use strict";n.d(t,{$P:()=>i});n(164307);const r="<anonymous>";function i(e){try{return e&&"function"==typeof e&&e.name||r}catch(t){return r}}},857321:(e,t,n)=>{"use strict";n.d(t,{$G:()=>r});n(567597);function r(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.substr(0,t)}...`}},971235:(e,t,n)=>{"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{YO:()=>a,n2:()=>i});const i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function a(e,t,n){const r=n||i,a=r.__SENTRY__=r.__SENTRY__||{};return a[e]||(a[e]=t())}},294184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},821697:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>r});const r=n(116284).C},116284:(e,t,n)=>{"use strict";n.d(t,{C:()=>c});var r=n(197582),i=n(979263),a=n(95957),o=n(361092);function s(e,t){return t?Object.keys(e).reduce((function(n,i){var a,o;return n[i]=(a=e[i],(o=t[i])?(0,r.pi)((0,r.pi)((0,r.pi)({},a||{}),o||{}),Object.keys(a).reduce((function(e,t){return e[t]=(0,r.pi)((0,r.pi)({},a[t]),o[t]||{}),e}),{})):a),n}),(0,r.pi)({},e)):e}function u(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}var c=function(){function e(t,n,i,c){void 0===n&&(n=e.defaultLocale);var l,h=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=h.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===o.du.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return(0,o.FK)(h.ast,h.locales,h.formatters,h.formats,e,void 0,h.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=h.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(h.locales)[0]}},this.getAst=function(){return h.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var f=c||{},d=(f.formatters,(0,r._T)(f,["formatters"]));this.ast=e.__parse(t,(0,r.pi)((0,r.pi)({},d),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=s(e.formats,i),this.formatters=c&&c.formatters||(void 0===(l=this.formatterCache)&&(l={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,a.H)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,(0,r.ev)([void 0],t,!1)))}),{cache:u(l.number),strategy:a.A.variadic}),getDateTimeFormat:(0,a.H)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,(0,r.ev)([void 0],t,!1)))}),{cache:u(l.dateTime),strategy:a.A.variadic}),getPluralRules:(0,a.H)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,(0,r.ev)([void 0],t,!1)))}),{cache:u(l.pluralRules),strategy:a.A.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])}},e.__parse=i.Qc,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}()},811050:(e,t,n)=>{"use strict";n.d(t,{C8:()=>o,HR:()=>u,YR:()=>s,jK:()=>r,u_:()=>a});var r,i=n(197582);!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(r||(r={}));var a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.code=n,i.originalMessage=r,i}return(0,i.ZT)(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),o=function(e){function t(t,n,i,a){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(i).join('", "'),'"'),r.INVALID_VALUE,a)||this}return(0,i.ZT)(t,e),t}(a),s=function(e){function t(t,n,i){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),r.INVALID_VALUE,i)||this}return(0,i.ZT)(t,e),t}(a),u=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),r.MISSING_VALUE,n)||this}return(0,i.ZT)(t,e),t}(a)},361092:(e,t,n)=>{"use strict";n.d(t,{FK:()=>s,du:()=>r});var r,i=n(979263),a=n(811050);function o(e){return"function"==typeof e}function s(e,t,n,u,c,l,h){if(1===e.length&&(0,i.O4)(e[0]))return[{type:r.literal,value:e[0].value}];for(var f=[],d=0,p=e;d<p.length;d++){var g=p[d];if((0,i.O4)(g))f.push({type:r.literal,value:g.value});else if((0,i.yx)(g))"number"==typeof l&&f.push({type:r.literal,value:n.getNumberFormat(t).format(l)});else{var m=g.value;if(!c||!(m in c))throw new a.HR(m,h);var v=c[m];if((0,i.VG)(g))v&&"string"!=typeof v&&"number"!=typeof v||(v="string"==typeof v||"number"==typeof v?String(v):""),f.push({type:"string"==typeof v?r.literal:r.object,value:v});else if((0,i.rp)(g)){var y="string"==typeof g.style?u.date[g.style]:(0,i.Ii)(g.style)?g.style.parsedOptions:void 0;f.push({type:r.literal,value:n.getDateTimeFormat(t,y).format(v)})}else if((0,i.pe)(g)){y="string"==typeof g.style?u.time[g.style]:(0,i.Ii)(g.style)?g.style.parsedOptions:u.time.medium;f.push({type:r.literal,value:n.getDateTimeFormat(t,y).format(v)})}else if((0,i.uf)(g)){(y="string"==typeof g.style?u.number[g.style]:(0,i.Wh)(g.style)?g.style.parsedOptions:void 0)&&y.scale&&(v*=y.scale||1),f.push({type:r.literal,value:n.getNumberFormat(t,y).format(v)})}else{if((0,i.HI)(g)){var b=g.children,w=g.value,T=c[w];if(!o(T))throw new a.YR(w,"function",h);var S=T(s(b,t,n,u,c,l).map((function(e){return e.value})));Array.isArray(S)||(S=[S]),f.push.apply(f,S.map((function(e){return{type:"string"==typeof e?r.literal:r.object,value:e}})))}if((0,i.Wi)(g)){if(!(x=g.options[v]||g.options.other))throw new a.C8(g.value,v,Object.keys(g.options),h);f.push.apply(f,s(x.value,t,n,u,c))}else if((0,i.Jo)(g)){var x;if(!(x=g.options["=".concat(v)])){if(!Intl.PluralRules)throw new a.u_('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',a.jK.MISSING_INTL_API,h);var E=n.getPluralRules(t,{type:g.pluralType}).select(v-(g.offset||0));x=g.options[E]||g.options.other}if(!x)throw new a.C8(g.value,v,Object.keys(g.options),h);f.push.apply(f,s(x.value,t,n,u,c,v-(g.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===r.literal&&t.type===r.literal?n.value+=t.value:e.push(t),e}),[])}(f)}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(r||(r={}))},427164:(e,t,n)=>{"use strict";var r,i=n(310396);e=n.hmd(e),r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e;(0,i.Z)(r)},310396:(e,t,n)=>{"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,{Z:()=>r})},699131:(e,t,n)=>{"use strict";var r;const i="undefined"!=typeof window?window:void 0;if(i){const e=null===(r=i.navigator)||void 0===r?void 0:r.userAgent,t=e=>e.match(/AppleWebKit\//)&&!e.match(/Chrome\//)&&!e.match(/Chromium\//);if(e&&t(e)&&"ResizeObserver"in i){const e=()=>{},t=i.ResizeObserver,n=e=>(...t)=>e.callback(...t);i.ResizeObserver=class{constructor(e){this.proxyObj={callback:e},this.observer=new t(n(this.proxyObj))}observe(...e){var t;if(!this.observer){const e=new Error("ModifiedResizeObserver observe called after disconnect");setTimeout((()=>{throw e}),0)}return null===(t=this.observer)||void 0===t?void 0:t.observe(...e)}unobserve(...e){var t;return null===(t=this.observer)||void 0===t?void 0:t.unobserve(...e)}disconnect(...t){var n;const r=null===(n=this.observer)||void 0===n?void 0:n.disconnect(...t);return this.proxyObj&&(this.proxyObj.callback=e),this.proxyObj=null,this.observer=null,r}}}}},735129:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?a:String(a)),r)}var i,a}function a(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,s(e,t,"get"))}function o(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,s(e,t,"set"),n),n}function s(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function u(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}n.d(t,{Z:()=>h});var c=function(e){if(!e)return[];Array.isArray(e)||(e=[e]);for(var t={},n=0;n<e.length;++n){var i,a=e[n];if(a&&"object"===r(a)&&(a=String(a)),"string"!=typeof a){var o="Locales should be strings, ".concat(JSON.stringify(a)," isn't.");throw new TypeError(o)}var s=a.split("-");if(!s.every((function(e){return/[a-z0-9]+/i.test(e)}))){var u=JSON.stringify(a),c="The locale ".concat(u," is not a structurally valid BCP 47 language tag.");throw new RangeError(c)}var l=s[0].toLowerCase();s[0]=null!==(i={in:"id",iw:"he",ji:"yi"}[l])&&void 0!==i?i:l,t[s.join("-")]=!0}return Object.keys(t)};function l(e){switch(r(e)){case"number":return e;case"bigint":throw new TypeError("Cannot convert a BigInt value to a number");default:return Number(e)}}function h(e,t,n,r){var s=function(e){do{if(t(e))return e;e=e.replace(/-?[^-]*$/,"")}while(e);return null},h=new WeakMap,f=new WeakMap,d=new WeakMap,p=new WeakMap,g=new WeakMap,m=function(){function m(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),u(this,h,{writable:!0,value:void 0}),u(this,f,{writable:!0,value:void 0}),u(this,d,{writable:!0,value:void 0}),u(this,p,{writable:!0,value:void 0}),u(this,g,{writable:!0,value:void 0}),o(this,h,function(t){for(var n=c(t),r=0;r<n.length;++r){var i=s(n[r]);if(i)return i}var a=(new e).resolvedOptions().locale;return s(a)}(n)),o(this,d,t(a(this,h))),o(this,f,r(a(this,h))),o(this,p,function(e){var t=Object.prototype.hasOwnProperty.call(e,"type")&&e.type;if(!t)return"cardinal";if("cardinal"===t||"ordinal"===t)return t;throw new RangeError("Not a valid plural type: "+JSON.stringify(t))}(i)),o(this,g,new e("en",i))}var v,y,b;return v=m,b=[{key:"supportedLocalesOf",value:function(e){return c(e).filter(s)}}],(y=[{key:"resolvedOptions",value:function(){var e=a(this,g).resolvedOptions(),t=e.minimumIntegerDigits,r=e.minimumFractionDigits,i=e.maximumFractionDigits,o=e.minimumSignificantDigits,s=e.maximumSignificantDigits,u=e.roundingPriority,c={locale:a(this,h),type:a(this,p),minimumIntegerDigits:t,minimumFractionDigits:r,maximumFractionDigits:i};return"number"==typeof o&&(c.minimumSignificantDigits=o,c.maximumSignificantDigits=s),c.pluralCategories=n(a(this,h),"ordinal"===a(this,p)).slice(0),c.roundingPriority=u||"auto",c}},{key:"select",value:function(e){if(!(this instanceof m))throw new TypeError("select() called on incompatible ".concat(this));if("number"!=typeof e&&(e=Number(e)),!isFinite(e))return"other";var t=a(this,g).format(Math.abs(e));return a(this,d).call(this,t,"ordinal"===a(this,p))}},{key:"selectRange",value:function(e,t){if(!(this instanceof m))throw new TypeError("selectRange() called on incompatible ".concat(this));if(void 0===e)throw new TypeError("start is undefined");if(void 0===t)throw new TypeError("end is undefined");var n=l(e),r=l(t);if(!isFinite(n))throw new RangeError("start must be finite");if(!isFinite(r))throw new RangeError("end must be finite");return a(this,f).call(this,this.select(n),this.select(r))}}])&&i(v.prototype,y),b&&i(v,b),Object.defineProperty(v,"prototype",{writable:!1}),m}();return"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m.prototype,Symbol.toStringTag,{value:"Intl.PluralRules",writable:!1,configurable:!0}),Object.defineProperty(m,"prototype",{writable:!1}),m}},189525:(e,t,n)=>{"use strict";n.d(t,{en:()=>s});const r="one",i="two",a="few",o="other",s={cardinal:[r,o],ordinal:[r,i,a,o]}},832333:(e,t,n)=>{"use strict";n.d(t,{en:()=>r});const r=(e,t)=>{const n=String(e).split("."),r=!n[1],i=Number(n[0])==e,a=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return t?1==a&&11!=o?"one":2==a&&12!=o?"two":3==a&&13!=o?"few":"other":1==e&&r?"one":"other"}},544339:(e,t,n)=>{"use strict";n.d(t,{en:()=>i});const r=(e,t)=>"other",i=r},197582:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,_T:()=>o,ev:()=>u,gn:()=>s,pi:()=>a});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}Object.create;function u(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create}}]);
//# sourceMappingURL=sourcemaps/665f7ead97e4a356.vendor.js.map